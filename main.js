!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.isQueryLeafNode=e.isQueryNode=e.queryTokenFromString=e.QueryToken=void 0,function(t){t[t.AND=0]="AND",t[t.OR=1]="OR",t[t.NOT=2]="NOT",t[t.SHARED=3]="SHARED"}(n=e.QueryToken||(e.QueryToken={})),e.queryTokenFromString=function(t){switch(null==t?void 0:t.toLowerCase()){case"and":return n.AND;case"or":return n.OR;case"not":return n.NOT;case"shared":return n.SHARED;default:return null}},e.isQueryNode=function(t){return void 0!==t.token},e.isQueryLeafNode=function(t){return void 0!==t.typeStr}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryBuilder=e.createQueryFromIdentifierList=void 0;var n,o=r(0);!function(t){t[t.Node=0]="Node",t[t.LeafNode=1]="LeafNode"}(n||(n={})),e.createQueryFromIdentifierList=function(t){var e=!1,r=function(t){for(var n=new i,s=0;s<t.length;s++){var u=t[s].split("[");n.identifier(u[0]);var c=s===t.length-1,a=!e&&!c&&t[s+1].split("[").length>1;if(c||a){if(a){e=!0,n.token(o.QueryToken.OR),n.token(o.QueryToken.SHARED),n.append(r(t.slice(s+1,t.length)));break}}else n.token(o.QueryToken.AND)}return n.build()};return r(t)};var i=function(){function t(t){return this.root=t||{token:null},this.currentNode=this.root,this}return Object.defineProperty(t.prototype,"workingNode",{get:function(){return this.currentNode},enumerable:!1,configurable:!0}),t.prototype.identifier=function(t){return this.lastChange===n.LeafNode||(this.lastChange=n.LeafNode,this.currentNode.leftChild?this.currentNode.rightChild||(this.currentNode.rightChild={typeStr:t}):this.currentNode.leftChild={typeStr:t}),this},t.prototype.token=function(t){if(this.lastChange=n.Node,null===this.currentNode.token)this.currentNode.token=t;else if(this.currentNode.leftChild){if(this.currentNode.rightChild){var e=this.currentNode.rightChild;this.currentNode.rightChild={token:t,leftChild:e}}else this.currentNode.rightChild={token:t};this.currentNode=this.currentNode.rightChild}else this.currentNode.leftChild={token:t},this.currentNode=this.currentNode.leftChild;return this},t.prototype.append=function(t){if(this.lastChange!==n.LeafNode)if(this.currentNode.leftChild)if(this.currentNode.rightChild){this.currentNode.rightChild;this.currentNode.rightChild={token:o.QueryToken.AND,leftChild:t}}else this.currentNode.rightChild=t;else this.currentNode.leftChild=t},t.prototype.build=function(){var t=this.root;return this.root={token:null},this.currentNode=this.root,null===t.token&&(t.token=o.QueryToken.OR),t},t}();e.QueryBuilder=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DispatchSubject=void 0;var n=function(){function t(){this.observers=[]}return t.prototype.subscribe=function(t){this.observers.indexOf(t)>=0||this.observers.push(t)},t.prototype.unsubscribe=function(t){var e=this.observers.indexOf(t);e<0||this.observers.splice(e,1)},t.prototype.trigger=function(t){this.observers.forEach((function(e){return e(t)})),this.observers.length>0&&(this.observers=[])},t}();e.DispatchSubject=n},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(4),e),o(r(5),e),o(r(0),e),o(r(6),e),o(r(1),e),o(r(7),e),o(r(2),e)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ECSManager=e.EntityBuilder=void 0;var o=r(0),i=r(2),s=r(1),u=r(8),c=r(9),a=function(){function t(t,e){this.id=t,this.ecsManager=e}return Object.defineProperty(t.prototype,"entityId",{get:function(){return this.id},enumerable:!1,configurable:!0}),t.prototype.addComponent=function(t,e){return this.ecsManager.addComponent(this.id,t,e,this)},t.prototype.removeComponent=function(t){return this.ecsManager.removeComponent(this.id,t,this)},t}();e.EntityBuilder=a;var l=function(){function t(){this.events=[],this.systems=[],this.entities=[],this.components=new Map,this.entityId=0,this.afterUpdateLoop=new i.DispatchSubject,this.isRunningSystems=!1}return t.prototype.registerEventWithEscQuery=function(t,e){return this.events.push({query:e,qResult:this.queryEntities(e),system:t}),this.events.length-1},t.prototype.registerEvent=function(t,e){var r=s.createQueryFromIdentifierList(e);return this.registerEventWithEscQuery(t,r)},t.prototype.registerSystemWithEscQuery=function(t,e){this.systems.push({query:e,qResult:this.queryEntities(e),system:t})},t.prototype.registerSystem=function(t,e){var r=s.createQueryFromIdentifierList(e);this.registerSystemWithEscQuery(t,r)},t.prototype.createEntity=function(){return this.entities.push({id:this.entityId++}),new a(this.entityId-1,this)},t.prototype.registerComponentType=function(t,e){this.components.has(t)||this.components.set(t,new u.ComponentPool(e))},t.prototype.addComponent=function(t,e,r,n){var o=this,i=function(e){return null!=e?e:new a(t,o)};if(this.components.has(e)){var s=this.components.get(e);if(!(null==s?void 0:s.find((function(e){return e.entityId===t}))))return this.isRunningSystems?(this.afterUpdateLoop.subscribe((function(){o.addComponent(t,e,r)})),i(n)):(s.add(t,r),this.invalidateQueryResults(e),i(n))}},t.prototype.removeComponent=function(t,e,r){var n=this;if(!this.isRunningSystems)return this.components.get(e).remove(t),this.invalidateQueryResults(e),null!=r?r:new a(t,this);this.afterUpdateLoop.subscribe((function(){n.removeComponent(t,e)}))},t.prototype.queryEntities=function(t){var e,r,i,s,u=this,a=function(t,e){var r,o,i=t.findIndex((function(t){return t.id===e.id}));if(i<0)t.push(e);else{var s=function(e){t[i].components.find((function(t){return t===e}))||t[i].components.push(e)};try{for(var u=n(e.components),c=u.next();!c.done;c=u.next()){s(c.value)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}return t},l=function(t){var e;if(!t)return[];if(!o.isQueryNode(t)){var r=t.typeStr,i=u.components.get(r);return null!==(e=null==i?void 0:i.filter((function(t){return c.isNumber(t.entityId)&&t.entityId>=0})).reduce((function(t,e,n){var o=t.findIndex((function(t){return t.id===e.entityId})),i={typeStr:r,index:n};if(o<0){var s={id:e.entityId,components:[i]};t.push(s)}else{t[o].components.find((function(t){return t.index===i.index&&t.typeStr===i.typeStr}))||t[o].components.push(i)}return t}),[]))&&void 0!==e?e:[]}var s=l(t.leftChild),f=l(t.rightChild);switch(t.token){case o.QueryToken.AND:return function(t,e){var r,o,i=[],s=function(t){var r=e.findIndex((function(e){return e.id===t.id}));if(r<0)return"continue";var n=e.splice(r,1);n.length>=1&&i.push({id:t.id,components:t.components.concat(n[0].components)})};try{for(var u=n(t),c=u.next();!c.done;c=u.next()){s(c.value)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return i}(s,f);case o.QueryToken.OR:return s.concat(f).reduce(a,[]);case o.QueryToken.NOT:return s.filter((function(t){return!f.find((function(e){return e.id==t.id}))}));case o.QueryToken.SHARED:return[]}},f=function(t){if(t&&!o.isQueryLeafNode(t)){if(t.token===o.QueryToken.SHARED)return t;var e=f(t.leftChild),r=f(t.rightChild);return null!=e?e:r}},p=f(t),h=l(null==p?void 0:p.leftChild),d=void 0;if(h.length>0){var y=h.map((function(t){return t.components}));d=new Array(y[0].length);var v=[];try{for(var b=n(y),g=b.next();!g.done;g=b.next()){var m=g.value,w=function(t){var e=v.findIndex((function(e){return e===t.typeStr}));e<0&&(e=v.length,v.push(t.typeStr)),d[e]?d[e]=d[e].concat(S.components.get(t.typeStr).unsafeGet(t.index)):d[e]=[S.components.get(t.typeStr).unsafeGet(t.index)]},S=this;try{for(var _=(i=void 0,n(m)),E=_.next();!E.done;E=_.next()){w(E.value)}}catch(t){i={error:t}}finally{try{E&&!E.done&&(s=_.return)&&s.call(_)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{g&&!g.done&&(r=b.return)&&r.call(b)}finally{if(e)throw e.error}}}return{sharedArgs:d,entities:l(t)}},t.prototype.accessComponentData=function(t,e){var r,n=this.components.get(e);return null===(r=null==n?void 0:n.find((function(e){return e.entityId===t})))||void 0===r?void 0:r.data},t.prototype.onEvent=function(t,e){var r,o;this.isRunningSystems=!0;var i=this.events[t],s=[e];try{for(var u=n(i.qResult.entities),c=u.next();!c.done;c=u.next()){var a=c.value,l=s.concat(this.createArgs(a));this.events[t].system.apply(null,l.concat(i.qResult.sharedArgs))}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}this.isRunningSystems=!1,this.afterUpdateLoop.trigger()},t.prototype.dispatch=function(){var t,e,r,o;this.isRunningSystems=!0,this.prevRun=this.prevRun?this.prevRun:Date.now();var i=Date.now(),s=[(i-this.prevRun)/1e3];try{for(var u=n(this.systems),c=u.next();!c.done;c=u.next()){var a=c.value;try{for(var l=(r=void 0,n(a.qResult.entities)),f=l.next();!f.done;f=l.next()){var p=f.value,h=s.concat(this.createArgs(p));a.system.apply(null,h.concat(a.qResult.sharedArgs))}}catch(t){r={error:t}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}this.isRunningSystems=!1,this.afterUpdateLoop.trigger(),this.prevRun=i},t.prototype.createArgs=function(t){var e,r,o=[];try{for(var i=n(t.components),s=i.next();!s.done;s=i.next()){var u=s.value,c=this.components.get(u.typeStr).unsafeGet(u.index);o.push(c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return o},t.prototype.invalidateQueryResults=function(t){var e,r,i,s,u=this,c=function(t,e){return!!e&&(o.isQueryNode(e)?!!c(t,e.leftChild)||!!c(t,e.rightChild):e.typeStr===t)},a=function(e){return c(t,e.query)?u.queryEntities(e.query):e.qResult};try{for(var l=n(this.systems),f=l.next();!f.done;f=l.next()){(d=f.value).qResult=a(d)}}catch(t){e={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}try{for(var p=n(this.events),h=p.next();!h.done;h=p.next()){var d;(d=h.value).qResult=a(d)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}},t}();e.ECSManager=l},function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentPool=void 0;var o=function(){function t(t,e){void 0===e&&(e=20),this.stride=e,this.pool=[],this.length=0,this.pos=0,this.defaultValue=t,this.onExpandPool(!0)}return t.prototype.add=function(t,e){this.length>=this.pool.length&&this.onExpandPool(),this.pool[this.length].entityId=t;var r=null!=e?e:this.defaultValue;this.deepAssign(this.pool[this.length].data,r),this.length+=1},t.prototype.remove=function(t){var e=this.pool.findIndex((function(e){return e.entityId===t}));if(!(e<0)){var r=this.pool[e],n=this.length-1;this.pool[e]=this.pool[n],r.entityId=-1,this.pool[n]=r,this.length=n}},t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(){return this.pos<this.length?{done:!1,value:this.pool[this.pos++]}:(this.pos=0,{done:!0,value:null})},t.prototype.unsafeGet=function(t){return this.pool[t]},t.prototype.find=function(t,e){var r,o;try{for(var i=n(this),s=i.next();!s.done;s=i.next()){var u=s.value;if(t(u,0,this.pool))return this.pos=0,u}}catch(t){r={error:t}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return null},t.prototype.filter=function(t,e){var r,o,i=[],s=0;try{for(var u=n(this),c=u.next();!c.done;c=u.next()){var a=c.value;t(a,s,this.pool)&&i.push(a),s+=1}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return i},t.prototype.onExpandPool=function(t){t?this.pool=new Array(this.stride):this.pool.length+=this.stride;for(var e=this.length;e<this.pool.length;e++)this.pool[e]={entityId:-1,data:this.deepCopy(this.defaultValue)}},t.prototype.deepCopy=function(t){if(!t||"object"!=typeof t)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=this.deepCopy(t[r]);return e},t.prototype.deepAssign=function(t,e){for(var r in Object.assign(t,e),e)"object"==typeof t[r]&&this.deepAssign(t[r],e[r])},t}();e.ComponentPool=o},function(t,e,r){(function(t){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},o=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(u(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(t).replace(o,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),c=n[r];r<i;c=n[++r])y(c)||!w(c)?s+=" "+c:s+=" "+u(c);return s},e.deprecate=function(r,n){if(void 0!==t&&!0===t.noDeprecation)return r;if(void 0===t)return function(){return e.deprecate(r,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var i,s={};function u(t,r){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),l(n,t,n.depth)}function c(t,e){var r=u.styles[e];return r?"["+u.colors[r][0]+"m"+t+"["+u.colors[r][1]+"m":t}function a(t,e){return t}function l(t,r,n){if(t.customInspect&&r&&E(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);return b(o)||(o=l(t,o,n)),o}var i=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(v(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,r);if(i)return i;var s=Object.keys(r),u=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),_(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(E(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(m(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return t.stylize(Date.prototype.toString.call(r),"date");if(_(r))return f(r)}var a,w="",x=!1,O=["{","}"];(h(r)&&(x=!0,O=["[","]"]),E(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return m(r)&&(w=" "+RegExp.prototype.toString.call(r)),S(r)&&(w=" "+Date.prototype.toUTCString.call(r)),_(r)&&(w=" "+f(r)),0!==s.length||x&&0!=r.length?n<0?m(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),a=x?function(t,e,r,n,o){for(var i=[],s=0,u=e.length;s<u;++s)C(e,String(s))?i.push(p(t,e,r,n,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(t,e,r,n,o,!0))})),i}(t,r,n,u,s):s.map((function(e){return p(t,r,n,u,e,x)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(a,w,O)):O[0]+w+O[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,r,n,o,i){var s,u,c;if((c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?u=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(u=t.stylize("[Setter]","special")),C(n,o)||(s="["+o+"]"),u||(t.seen.indexOf(c.value)<0?(u=y(r)?l(t,c.value,null):l(t,c.value,r-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),g(s)){if(i&&o.match(/^\d+$/))return u;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+u}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function g(t){return void 0===t}function m(t){return w(t)&&"[object RegExp]"===x(t)}function w(t){return"object"==typeof t&&null!==t}function S(t){return w(t)&&"[object Date]"===x(t)}function _(t){return w(t)&&("[object Error]"===x(t)||t instanceof Error)}function E(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(r){if(g(i)&&(i=t.env.NODE_DEBUG||""),r=r.toUpperCase(),!s[r])if(new RegExp("\\b"+r+"\\b","i").test(i)){var n=t.pid;s[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,n,t)}}else s[r]=function(){};return s[r]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=b,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=m,e.isObject=w,e.isDate=S,e.isError=_,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(11);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),T[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",j(),e.format.apply(e,arguments))},e.inherits=r(12),e._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function N(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(P&&t[P]){var e;if("function"!=typeof(e=t[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,o)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),P&&Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=P,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};e.apply(this,r).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(N,e,s)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,n(e)),r}}).call(this,r(10))},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var c,a=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?a=c.concat(a):f=-1,a.length&&h())}function h(){if(!l){var t=u(p);l=!0;for(var e=a.length;e;){for(c=a,a=[];++f<e;)c&&c[f].run();f=-1,e=a.length}c=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];a.push(new d(t,e)),1!==a.length||l||u(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";r.r(e);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function o(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function i(t){return"function"==typeof t}var s=!1,u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function c(t){setTimeout((function(){throw t}),0)}var a={closed:!0,next:function(t){},error:function(t){if(u.useDeprecatedSynchronousErrorHandling)throw t;c(t)},complete:function(){}},l=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();var f=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),p=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r,n=this._parentOrParents,o=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u){n[u].remove(this)}if(i(o))try{o.call(this)}catch(t){e=t instanceof f?h(t.errors):[t]}if(l(s)){u=-1;for(var c=s.length;++u<c;){var a=s[u];if(null!==(r=a)&&"object"==typeof r)try{a.unsubscribe()}catch(t){e=e||[],t instanceof f?e=e.concat(h(t.errors)):e.push(t)}}}if(e)throw new f(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof t){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function h(t){return t.reduce((function(t,e){return t.concat(e instanceof f?e.errors:e)}),[])}var d=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),y=function(t){function e(r,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=a;break;case 1:if(!r){i.destination=a;break}if("object"==typeof r){r instanceof e?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new v(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new v(i,r,n,o)}return i}return o(e,t),e.prototype[d]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(p),v=function(t){function e(e,r,n,o){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return i(r)?s=r:r&&(s=r.next,n=r.error,o=r.complete,r!==a&&(i((c=Object.create(r)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=n,u._complete=o,u}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=u.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):c(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;c(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw t;c(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return u.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(c(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(y);var b=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function g(t){return t}function m(t){return 0===t.length?g:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var w=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=function(t,e,r){if(t){if(t instanceof y)return t;if(t[d])return t[d]()}return t||e||r?new y(t,e,r):new y(a)}(t,e,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||u.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),u.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,r=e.closed,n=e.destination,o=e.isStopped;if(r||o)return!1;t=n&&n instanceof y?n:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=S(e))((function(e,n){var o;o=r.subscribe((function(e){try{t(e)}catch(t){n(t),o&&o.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[b]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:m(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=S(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function S(t){if(t||(t=u.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var _=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new E(t,this.project,this.thisArg))},t}(),E=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(y);function x(t,e,r,n){return i(r)&&(n=r,r=void 0),n?x(t,e,r).pipe((o=function(t){return l(t)?n.apply(void 0,t):n(t)},function(t){if("function"!=typeof o)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new _(o,s))})):new w((function(n){!function t(e,r,n,o,i){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var u=e;e.addEventListener(r,n,i),s=function(){return u.removeEventListener(r,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(r,n),s=function(){return c.off(r,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var a=e;e.addListener(r,n),s=function(){return a.removeListener(r,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],r,n,o,i)}o.add(s)}(t,e,(function(t){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(t)}),n,r)}));var o,s}var O=new(r(3).ECSManager);O.registerComponentType("Circle",{radius:10}),O.registerComponentType("Position",{x:0,y:0}),O.registerComponentType("Velocity",{x:0,y:0}),O.registerComponentType("Colored",{color:"#ff0000"}),O.registerComponentType("UniqueTag",{}),x(window,"DOMContentLoaded").subscribe((function(){var t=document.getElementById("waveShootCanvas");if(t){var e=function(){t.width=window.innerWidth,t.height=window.innerHeight};x(window,"resize").subscribe(e),e();for(var r=t.getContext("2d"),n=function(t,e){var r=O.createEntity().entityId,n=40*Math.random();O.addComponent(r,"Circle",{radius:n}),O.addComponent(r,"Position",{x:t,y:e}),O.addComponent(r,"Velocity",{x:8*Math.random()+2,y:8*Math.random()+2}),O.addComponent(r,"Colored",{color:"#"+(16777215*Math.random()<<0).toString(16)})},o=0;o<500;o++)n(Math.random()*t.width,Math.random()*t.height);O.registerSystem((function(t,e,n,o){r.beginPath(),r.strokeStyle=o.data.color,r.arc(n.data.x,n.data.y,e.data.radius,0,2*Math.PI),r.stroke()}),["Circle","Position","Colored"]);O.registerSystem((function(t,e,r){e.data.x+=r.data.x*t,e.data.y+=r.data.y*t}),["Position","Velocity"]);O.registerSystem((function(e,r,n){r.data.x-2*n.data.radius>t.width&&r.data.y-2*n.data.radius>t.height&&(r.data.x=-Math.random()*(.05*t.width),r.data.y=-Math.random()*(.05*t.height))}),["Position","Circle"]);var i=O.createEntity().entityId;O.addComponent(i,"UniqueTag",{});var s=O.registerEvent((function(e,r){var o=e;n(o.x-t.offsetLeft,o.y-t.offsetTop)}),["UniqueTag"]);x(t,"click").subscribe((function(t){return O.onEvent(s,t)}));var u=function(){r.fillStyle="#000000",r.fillRect(0,0,t.width,t.height),O.dispatch(),window.requestAnimationFrame(u)};window.requestAnimationFrame(u)}else console.error("failed to load canvas!")}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25haXZlLXRzLWVjcy9kaXN0L3NyYy9lY3MvZXNjLXF1ZXJ5Lm1vZGVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvZWNzL3F1ZXJ5LWJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25haXZlLXRzLWVjcy9kaXN0L3NyYy9vYnNlcnZlci9kaXNwYXRjaC1zdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFpdmUtdHMtZWNzL2Rpc3Qvc3JjL2Vjcy9jb21wb25lbnQubW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25haXZlLXRzLWVjcy9kaXN0L3NyYy9lY3MvZW50aXR5Lm1vZGVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvZWNzL3N5c3RlbS5tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFpdmUtdHMtZWNzL2Rpc3Qvc3JjL2Vjcy9tYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvcG9vbC9jb21wb25lbnQtcG9vbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC90b1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9jYW5SZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlF1ZXJ5VG9rZW4iLCJpc1F1ZXJ5TGVhZk5vZGUiLCJpc1F1ZXJ5Tm9kZSIsInF1ZXJ5VG9rZW5Gcm9tU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJBTkQiLCJPUiIsIk5PVCIsIlNIQVJFRCIsIm5vZGUiLCJ1bmRlZmluZWQiLCJ0b2tlbiIsInR5cGVTdHIiLCJRdWVyeUJ1aWxkZXIiLCJjcmVhdGVRdWVyeUZyb21JZGVudGlmaWVyTGlzdCIsIlN0YXRlQ2hhbmdlIiwiZXNjX3F1ZXJ5X21vZGVsXzEiLCJpZGVudGlmaWVycyIsInNoYXJlZFNldCIsImNyZWF0ZVRyZWUiLCJxQnVpbGRlciIsImxlbmd0aCIsImlkZW50aWZpZXJTcGxpdCIsInNwbGl0IiwiaWRlbnRpZmllciIsIm9uTGFzdCIsIm5leHRJc1NoYXJlZCIsImFwcGVuZCIsInNsaWNlIiwiYnVpbGQiLCJzdGF0ZSIsInRoaXMiLCJyb290IiwiY3VycmVudE5vZGUiLCJjb25maWd1cmFibGUiLCJsYXN0Q2hhbmdlIiwiTGVhZk5vZGUiLCJsZWZ0Q2hpbGQiLCJyaWdodENoaWxkIiwiTm9kZSIsInRyZWUiLCJxdWVyeSIsIkRpc3BhdGNoU3ViamVjdCIsIm9ic2VydmVycyIsInN1YnNjcmliZSIsIm9ic2VydmVyIiwiaW5kZXhPZiIsInB1c2giLCJ1bnN1YnNjcmliZSIsImluZGV4Iiwic3BsaWNlIiwidHJpZ2dlciIsIm9ic2VydmVkIiwiZm9yRWFjaCIsIl9fY3JlYXRlQmluZGluZyIsImsiLCJrMiIsIl9fZXhwb3J0U3RhciIsIl9fdmFsdWVzIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsIlR5cGVFcnJvciIsIkVDU01hbmFnZXIiLCJFbnRpdHlCdWlsZGVyIiwiZGlzcGF0Y2hfc3ViamVjdF8xIiwicXVlcnlfYnVpbGRlcl8xIiwiY29tcG9uZW50X3Bvb2xfMSIsInV0aWxfMSIsImlkIiwiZWNzTWFuYWdlciIsImFkZENvbXBvbmVudCIsImNvbXBvbmVudCIsInJlbW92ZUNvbXBvbmVudCIsInR5cGVTdHJzIiwiZXZlbnRzIiwic3lzdGVtcyIsImVudGl0aWVzIiwiY29tcG9uZW50cyIsIk1hcCIsImVudGl0eUlkIiwiYWZ0ZXJVcGRhdGVMb29wIiwiaXNSdW5uaW5nU3lzdGVtcyIsInJlZ2lzdGVyRXZlbnRXaXRoRXNjUXVlcnkiLCJzeXN0ZW0iLCJxUmVzdWx0IiwicXVlcnlFbnRpdGllcyIsInJlZ2lzdGVyRXZlbnQiLCJyZWdpc3RlclN5c3RlbVdpdGhFc2NRdWVyeSIsInJlZ2lzdGVyU3lzdGVtIiwiY3JlYXRlRW50aXR5IiwicmVnaXN0ZXJDb21wb25lbnRUeXBlIiwiZGVmYXVsdFZhbHVlIiwiaGFzIiwic2V0IiwiQ29tcG9uZW50UG9vbCIsImJ1aWxkZXIiLCJfdGhpcyIsImJ1aWxkZXJSdHIiLCJmaW5kIiwiYWRkIiwiaW52YWxpZGF0ZVF1ZXJ5UmVzdWx0cyIsInJlbW92ZSIsImVfMSIsIl9hIiwiZV8yIiwiX2IiLCJvclJlZHVjZXIiLCJwcmV2aW91c1ZhbHVlcyIsImVfNCIsImZpbmRJbmRleCIsIl9sb29wXzMiLCJjb21wIiwiX2MiLCJlXzRfMSIsImVycm9yIiwicmV0dXJuIiwicXVlcnlTdGVwIiwidHlwZVN0cl8xIiwiZmlsdGVyIiwiaXNOdW1iZXIiLCJyZWR1Y2UiLCJjdXJyZW50SW5kZXgiLCJuZXdDb21wIiwibmV3RW50cnkiLCJxTFJlc3VsdCIsInFSUmVzdWx0XzEiLCJsZWZ0IiwicmlndGgiLCJlXzMiLCJ2YWx1ZXMiLCJfbG9vcF8yIiwiZW50cnkiLCJySW5kZXgiLCJyRSIsImZvdW5kIiwiY29uY2F0IiwibGVmdF8xIiwibGVmdF8xXzEiLCJlXzNfMSIsImFuZEZuIiwiZW50aXR5Iiwib2UiLCJmaW5kU2hhcmVkIiwibGVmdExpc3QiLCJyaWdodExpc3QiLCJzaGFyZWROb2RlIiwic2hhcmVkRW50aXRpZXMiLCJzaGFyZWRBcmdzIiwiY29tcEVudHJpZXMiLCJtYXAiLCJBcnJheSIsInR5cGVNYXAiLCJjb21wRW50cmllc18xIiwiY29tcEVudHJpZXNfMV8xIiwiX2xvb3BfMSIsInRoaXNfMSIsInVuc2FmZUdldCIsImVudHJ5XzEiLCJlbnRyeV8xXzEiLCJlXzJfMSIsImVfMV8xIiwiYWNjZXNzQ29tcG9uZW50RGF0YSIsImRhdGEiLCJvbkV2ZW50IiwiZXZlbnQiLCJlXzUiLCJzdWJzY3JpYmVyIiwiZXZlbnRBcnIiLCJhcmdzIiwiY3JlYXRlQXJncyIsImFwcGx5IiwiZV81XzEiLCJkaXNwYXRjaCIsImVfNiIsImVfNyIsInByZXZSdW4iLCJEYXRlIiwibm93IiwiZGVsdGFUaW1lIiwiX2QiLCJfZSIsIl9mIiwiZV83XzEiLCJlXzZfMSIsImVfOCIsImFyZ0NvbXAiLCJlXzhfMSIsImNoYW5nZVR5cGVTdHIiLCJlXzkiLCJlXzEwIiwiaXNDb21wb25lbnRJblF1ZXJ5IiwidXBkYXRlZFN5c3RlbSIsImVfOV8xIiwiZV8xMF8xIiwic3RyaWRlIiwicG9vbCIsInBvcyIsIm9uRXhwYW5kUG9vbCIsIm92ZXJyaWRlIiwidGFyZ2V0IiwiZGVlcEFzc2lnbiIsInJlbW92ZWQiLCJsYXN0SW5kZXgiLCJwcmVkaWNhdGUiLCJ0aGlzQXJnIiwiY2FsbGJhY2tmbiIsInJlc3VsdCIsImZpcnN0RXhwYW5kIiwiZGVlcENvcHkiLCJzb3VyY2UiLCJjb3B5IiwiaXNBcnJheSIsImFzc2lnbiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJvYmoiLCJrZXlzIiwiZGVzY3JpcHRvcnMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJmb3JtYXRSZWdFeHAiLCJmb3JtYXQiLCJmIiwiaXNTdHJpbmciLCJvYmplY3RzIiwiYXJndW1lbnRzIiwiaW5zcGVjdCIsImpvaW4iLCJsZW4iLCJzdHIiLCJTdHJpbmciLCJyZXBsYWNlIiwieCIsIk51bWJlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJfIiwiaXNOdWxsIiwiaXNPYmplY3QiLCJkZXByZWNhdGUiLCJmbiIsIm1zZyIsInByb2Nlc3MiLCJub0RlcHJlY2F0aW9uIiwid2FybmVkIiwidGhyb3dEZXByZWNhdGlvbiIsIkVycm9yIiwidHJhY2VEZXByZWNhdGlvbiIsImNvbnNvbGUiLCJ0cmFjZSIsImRlYnVnRW52aXJvbiIsImRlYnVncyIsIm9wdHMiLCJjdHgiLCJzZWVuIiwic3R5bGl6ZSIsInN0eWxpemVOb0NvbG9yIiwiZGVwdGgiLCJjb2xvcnMiLCJpc0Jvb2xlYW4iLCJzaG93SGlkZGVuIiwiX2V4dGVuZCIsImlzVW5kZWZpbmVkIiwiY3VzdG9tSW5zcGVjdCIsInN0eWxpemVXaXRoQ29sb3IiLCJmb3JtYXRWYWx1ZSIsInN0eWxlVHlwZSIsInN0eWxlIiwic3R5bGVzIiwicmVjdXJzZVRpbWVzIiwiaXNGdW5jdGlvbiIsImNvbnN0cnVjdG9yIiwicmV0IiwicHJpbWl0aXZlIiwic2ltcGxlIiwiZm9ybWF0UHJpbWl0aXZlIiwidmlzaWJsZUtleXMiLCJhcnJheSIsImhhc2giLCJ2YWwiLCJpZHgiLCJhcnJheVRvSGFzaCIsImdldE93blByb3BlcnR5TmFtZXMiLCJpc0Vycm9yIiwiZm9ybWF0RXJyb3IiLCJpc1JlZ0V4cCIsIlJlZ0V4cCIsInRvU3RyaW5nIiwiaXNEYXRlIiwib3V0cHV0IiwiYmFzZSIsImJyYWNlcyIsInRvVVRDU3RyaW5nIiwiZm9ybWF0UHJvcGVydHkiLCJtYXRjaCIsImZvcm1hdEFycmF5IiwicG9wIiwicHJldiIsImN1ciIsIm51bUxpbmVzRXN0IiwicmVkdWNlVG9TaW5nbGVTdHJpbmciLCJkZXNjIiwibGluZSIsInN1YnN0ciIsImFyIiwiYXJnIiwicmUiLCJvYmplY3RUb1N0cmluZyIsImUiLCJwYWQiLCJkZWJ1Z2xvZyIsImVudiIsIk5PREVfREVCVUciLCJ0b1VwcGVyQ2FzZSIsInRlc3QiLCJwaWQiLCJpc051bGxPclVuZGVmaW5lZCIsImlzU3ltYm9sIiwiaXNQcmltaXRpdmUiLCJpc0J1ZmZlciIsIm1vbnRocyIsInRpbWVzdGFtcCIsInRpbWUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwicHJvcCIsImxvZyIsImluaGVyaXRzIiwib3JpZ2luIiwia0N1c3RvbVByb21pc2lmaWVkU3ltYm9sIiwiY2FsbGJhY2tpZnlPblJlamVjdGVkIiwicmVhc29uIiwiY2IiLCJuZXdSZWFzb24iLCJwcm9taXNpZnkiLCJvcmlnaW5hbCIsIndyaXRhYmxlIiwicHJvbWlzZVJlc29sdmUiLCJwcm9taXNlUmVqZWN0IiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyIiwic2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsImRlZmluZVByb3BlcnRpZXMiLCJjdXN0b20iLCJjYWxsYmFja2lmeSIsImNhbGxiYWNraWZpZWQiLCJtYXliZUNiIiwic2VsZiIsInRoZW4iLCJuZXh0VGljayIsInJlaiIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJub29wIiwidGl0bGUiLCJicm93c2VyIiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiZmlsbCIsInJlYWRVSW50OCIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJUZW1wQ3RvciIsImV4dGVuZFN0YXRpY3MiLCJiIiwiX19wcm90b19fIiwiX19leHRlbmRzIiwiX18iLCJfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MiLCJjb25maWciLCJzdGFjayIsImhvc3RSZXBvcnRFcnJvciIsImVtcHR5IiwiY2xvc2VkIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsImNvbXBsZXRlIiwiVW5zdWJzY3JpcHRpb25FcnJvciIsIlVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsIiwiZXJyb3JzIiwibWVzc2FnZSIsIlN1YnNjcmlwdGlvbiIsIl9wYXJlbnRPclBhcmVudHMiLCJfc3Vic2NyaXB0aW9ucyIsIl91bnN1YnNjcmliZSIsImZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyIsInN1YiIsInRlYXJkb3duIiwic3Vic2NyaXB0aW9uIiwiRU1QVFkiLCJ0bXAiLCJzdWJzY3JpcHRpb25zIiwic3Vic2NyaXB0aW9uSW5kZXgiLCJlcnJzIiwicnhTdWJzY3JpYmVyIiwiTWF0aCIsInJhbmRvbSIsIl9zdXBlciIsIlN1YnNjcmliZXIiLCJkZXN0aW5hdGlvbk9yTmV4dCIsInN5bmNFcnJvclZhbHVlIiwic3luY0Vycm9yVGhyb3duIiwic3luY0Vycm9yVGhyb3dhYmxlIiwiaXNTdG9wcGVkIiwiZGVzdGluYXRpb24iLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl91bnN1YnNjcmliZUFuZFJlY3ljbGUiLCJTYWZlU3Vic2NyaWJlciIsIl9wYXJlbnRTdWJzY3JpYmVyIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0IiwiX2NvbnRleHQiLCJfX3RyeU9yU2V0RXJyb3IiLCJfX3RyeU9yVW5zdWIiLCJ3cmFwcGVkQ29tcGxldGUiLCJwYXJlbnQiLCJvYnNlcnZhYmxlIiwiaWRlbnRpdHkiLCJwaXBlRnJvbUFycmF5IiwiZm5zIiwiaW5wdXQiLCJPYnNlcnZhYmxlIiwiX2lzU2NhbGFyIiwiX3N1YnNjcmliZSIsImxpZnQiLCJvcGVyYXRvciIsInNpbmsiLCJuZXh0T3JPYnNlcnZlciIsInRvU3Vic2NyaWJlciIsIl90cnlTdWJzY3JpYmUiLCJjbG9zZWRfMSIsImNhblJlcG9ydEVycm9yIiwid2FybiIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJwaXBlIiwib3BlcmF0aW9ucyIsIl9pIiwidG9Qcm9taXNlIiwiTWFwT3BlcmF0b3IiLCJwcm9qZWN0IiwiTWFwU3Vic2NyaWJlciIsImNvdW50IiwiZnJvbUV2ZW50IiwiZXZlbnROYW1lIiwib3B0aW9ucyIsInJlc3VsdFNlbGVjdG9yIiwic2V0dXBTdWJzY3JpcHRpb24iLCJzb3VyY2VPYmoiLCJoYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0Iiwic291cmNlXzEiLCJpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyIiwic291cmNlXzIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8zIiwibWFuYWdlciIsInJhZGl1cyIsInkiLCJjb2xvciIsIndpbmRvdyIsImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJvblJlc2l6ZSIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiZ2V0Q29udGV4dCIsImNyZWF0ZUNpcmNsZUVudGl0eSIsInBvc1giLCJwb3NZIiwiX2R0IiwiY2lyY2xlIiwiYmVnaW5QYXRoIiwic3Ryb2tlU3R5bGUiLCJhcmMiLCJQSSIsInN0cm9rZSIsImR0IiwidmVsIiwib25Vc2VyQ2xpY2siLCJfdW5pcXVlIiwib2Zmc2V0TGVmdCIsIm9mZnNldFRvcCIsInRpY2siLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFB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OVUsRUFBY3lXLEdBQ3RDLElBQU0zTixFQUFJOUksRUFFVjRWLEVBQW1COU0sRUFBRTVFLEVBQUlpUixFQUFPdUIsV0FBWTVOLEVBQUVrTSxFQUFJRyxFQUFPd0IsYUFLQSxlQUMzRDVDLEVBQVVvQixFQUFRLFNBQVM1YyxXQUFVLFNBQUF1USxHQUFLLE9BQUFnTSxFQUFRL1UsUUFBUXlXLEVBQWExTixNQUd2RSxJQUFNOE4sRUFBTyxXQUNYclIsRUFBSXNSLFVBQVksVUFDaEJ0UixFQUFJdVIsU0FBUyxFQUFHLEVBQUczQixFQUFPSSxNQUFPSixFQUFPTSxRQUN4Q1gsRUFBUXRVLFdBRVIwVSxPQUFPNkIsc0JBQXNCSCxJQUcvQjFCLE9BQU82QixzQkFBc0JILFFBbkYzQjFSLFFBQVFwSSxNQUFNIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMTMpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzUXVlcnlMZWFmTm9kZSA9IGV4cG9ydHMuaXNRdWVyeU5vZGUgPSBleHBvcnRzLnF1ZXJ5VG9rZW5Gcm9tU3RyaW5nID0gZXhwb3J0cy5RdWVyeVRva2VuID0gdm9pZCAwO1xuLyoqXG4gKiBEZWZpbmVzIHRoZSBlbmQgdXNlciBpbnRlbnQgd2l0aCBhIGdpdmVuIHtAbGluayBRdWVyeU5vZGV9XG4gKi9cbnZhciBRdWVyeVRva2VuO1xuKGZ1bmN0aW9uIChRdWVyeVRva2VuKSB7XG4gICAgUXVlcnlUb2tlbltRdWVyeVRva2VuW1wiQU5EXCJdID0gMF0gPSBcIkFORFwiO1xuICAgIFF1ZXJ5VG9rZW5bUXVlcnlUb2tlbltcIk9SXCJdID0gMV0gPSBcIk9SXCI7XG4gICAgUXVlcnlUb2tlbltRdWVyeVRva2VuW1wiTk9UXCJdID0gMl0gPSBcIk5PVFwiO1xuICAgIFF1ZXJ5VG9rZW5bUXVlcnlUb2tlbltcIlNIQVJFRFwiXSA9IDNdID0gXCJTSEFSRURcIjtcbn0pKFF1ZXJ5VG9rZW4gPSBleHBvcnRzLlF1ZXJ5VG9rZW4gfHwgKGV4cG9ydHMuUXVlcnlUb2tlbiA9IHt9KSk7XG5mdW5jdGlvbiBxdWVyeVRva2VuRnJvbVN0cmluZyh2YWx1ZSkge1xuICAgIHN3aXRjaCAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbHVlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgY2FzZSAnYW5kJzpcbiAgICAgICAgICAgIHJldHVybiBRdWVyeVRva2VuLkFORDtcbiAgICAgICAgY2FzZSAnb3InOlxuICAgICAgICAgICAgcmV0dXJuIFF1ZXJ5VG9rZW4uT1I7XG4gICAgICAgIGNhc2UgJ25vdCc6XG4gICAgICAgICAgICByZXR1cm4gUXVlcnlUb2tlbi5OT1Q7XG4gICAgICAgIGNhc2UgJ3NoYXJlZCc6XG4gICAgICAgICAgICByZXR1cm4gUXVlcnlUb2tlbi5TSEFSRUQ7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnRzLnF1ZXJ5VG9rZW5Gcm9tU3RyaW5nID0gcXVlcnlUb2tlbkZyb21TdHJpbmc7XG5mdW5jdGlvbiBpc1F1ZXJ5Tm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudG9rZW4gIT09IHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMuaXNRdWVyeU5vZGUgPSBpc1F1ZXJ5Tm9kZTtcbmZ1bmN0aW9uIGlzUXVlcnlMZWFmTm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUudHlwZVN0ciAhPT0gdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5pc1F1ZXJ5TGVhZk5vZGUgPSBpc1F1ZXJ5TGVhZk5vZGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lc2MtcXVlcnkubW9kZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlF1ZXJ5QnVpbGRlciA9IGV4cG9ydHMuY3JlYXRlUXVlcnlGcm9tSWRlbnRpZmllckxpc3QgPSB2b2lkIDA7XG52YXIgZXNjX3F1ZXJ5X21vZGVsXzEgPSByZXF1aXJlKFwiLi9lc2MtcXVlcnkubW9kZWxcIik7XG52YXIgU3RhdGVDaGFuZ2U7XG4oZnVuY3Rpb24gKFN0YXRlQ2hhbmdlKSB7XG4gICAgU3RhdGVDaGFuZ2VbU3RhdGVDaGFuZ2VbXCJOb2RlXCJdID0gMF0gPSBcIk5vZGVcIjtcbiAgICBTdGF0ZUNoYW5nZVtTdGF0ZUNoYW5nZVtcIkxlYWZOb2RlXCJdID0gMV0gPSBcIkxlYWZOb2RlXCI7XG59KShTdGF0ZUNoYW5nZSB8fCAoU3RhdGVDaGFuZ2UgPSB7fSkpO1xuLy8gVE9ETzogdGhpcyBzZWVtcyBsaWtlIGl0IHNob3VsZCBiZSBhIHN0YXRlIG1hY2hpbmVcbi8vIFRPRE86IHdlIHNob3VsZCBqdXN0IHdyaXRlIGEgdGV4dCBwYXJzZXIgaW5zdGVhZCBvZiB1c2luZyB0aGUgYnVpbGRlclxuLy8gVE9ETzogc3VwcG9ydCBOT1Rcbi8vIEN1cnJlbnRseSBhIHRlcnJpYmxlIG1lc3Mgb2YgaWYncy4gU2hvdWxkIHJlZmFjdG9yIGFzYXBcbmZ1bmN0aW9uIGNyZWF0ZVF1ZXJ5RnJvbUlkZW50aWZpZXJMaXN0KGlkZW50aWZpZXJzKSB7XG4gICAgdmFyIHNoYXJlZFNldCA9IGZhbHNlO1xuICAgIHZhciBjcmVhdGVUcmVlID0gZnVuY3Rpb24gKGlkZW50aWZpZXJzKSB7XG4gICAgICAgIHZhciBxQnVpbGRlciA9IG5ldyBRdWVyeUJ1aWxkZXIoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGlkZW50aWZpZXJTcGxpdCA9IGlkZW50aWZpZXJzW2ldLnNwbGl0KCdbJyk7XG4gICAgICAgICAgICBxQnVpbGRlci5pZGVudGlmaWVyKGlkZW50aWZpZXJTcGxpdFswXSk7XG4gICAgICAgICAgICB2YXIgb25MYXN0ID0gKGkgPT09IGlkZW50aWZpZXJzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdmFyIG5leHRJc1NoYXJlZCA9ICFzaGFyZWRTZXQgJiYgIW9uTGFzdCAmJiBpZGVudGlmaWVyc1tpICsgMV0uc3BsaXQoJ1snKS5sZW5ndGggPiAxO1xuICAgICAgICAgICAgaWYgKCFvbkxhc3QgJiYgIW5leHRJc1NoYXJlZCkge1xuICAgICAgICAgICAgICAgIHFCdWlsZGVyLnRva2VuKGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uQU5EKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5leHRJc1NoYXJlZCkge1xuICAgICAgICAgICAgICAgIHNoYXJlZFNldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcUJ1aWxkZXIudG9rZW4oZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5PUik7XG4gICAgICAgICAgICAgICAgcUJ1aWxkZXIudG9rZW4oZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5TSEFSRUQpO1xuICAgICAgICAgICAgICAgIHFCdWlsZGVyLmFwcGVuZChjcmVhdGVUcmVlKGlkZW50aWZpZXJzLnNsaWNlKGkgKyAxLCBpZGVudGlmaWVycy5sZW5ndGgpKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHFCdWlsZGVyLmJ1aWxkKCk7XG4gICAgfTtcbiAgICByZXR1cm4gY3JlYXRlVHJlZShpZGVudGlmaWVycyk7XG59XG5leHBvcnRzLmNyZWF0ZVF1ZXJ5RnJvbUlkZW50aWZpZXJMaXN0ID0gY3JlYXRlUXVlcnlGcm9tSWRlbnRpZmllckxpc3Q7XG52YXIgUXVlcnlCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFF1ZXJ5QnVpbGRlcihzdGF0ZSkge1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdCA9IHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yb290ID0ge1xuICAgICAgICAgICAgICAgIHRva2VuOiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB0aGlzLnJvb3Q7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUXVlcnlCdWlsZGVyLnByb3RvdHlwZSwgXCJ3b3JraW5nTm9kZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE5vZGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvLyBUT0RPOiBFcnJvciBoYW5kbGluZ1xuICAgIFF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuaWRlbnRpZmllciA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XG4gICAgICAgIGlmICh0aGlzLmxhc3RDaGFuZ2UgPT09IFN0YXRlQ2hhbmdlLkxlYWZOb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhc3RDaGFuZ2UgPSBTdGF0ZUNoYW5nZS5MZWFmTm9kZTtcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnROb2RlLmxlZnRDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5sZWZ0Q2hpbGQgPSB7XG4gICAgICAgICAgICAgICAgdHlwZVN0cjogaWRlbnRpZmllclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQgPSB7XG4gICAgICAgICAgICAgICAgdHlwZVN0cjogaWRlbnRpZmllclxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFF1ZXJ5QnVpbGRlci5wcm90b3R5cGUudG9rZW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgdGhpcy5sYXN0Q2hhbmdlID0gU3RhdGVDaGFuZ2UuTm9kZTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUudG9rZW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUudG9rZW4gPSB0b2tlbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5jdXJyZW50Tm9kZS5sZWZ0Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUubGVmdENoaWxkID0ge1xuICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB0aGlzLmN1cnJlbnROb2RlLmxlZnRDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkID0ge1xuICAgICAgICAgICAgICAgICAgICB0b2tlbjogdG9rZW5cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlZnRDaGlsZCA9IHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZDtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgbGVmdENoaWxkOiBsZWZ0Q2hpbGRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHRyZWUpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdENoYW5nZSA9PT0gU3RhdGVDaGFuZ2UuTGVhZk5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuY3VycmVudE5vZGUubGVmdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLmxlZnRDaGlsZCA9IHRyZWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkID0gdHJlZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciByYyA9IHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZDtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZCA9IHtcbiAgICAgICAgICAgICAgICB0b2tlbjogZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5BTkQsXG4gICAgICAgICAgICAgICAgbGVmdENoaWxkOiB0cmVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBRdWVyeUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcXVlcnkgPSB0aGlzLnJvb3Q7XG4gICAgICAgIHRoaXMucm9vdCA9IHtcbiAgICAgICAgICAgIHRva2VuOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSB0aGlzLnJvb3Q7XG4gICAgICAgIGlmIChxdWVyeS50b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcXVlcnkudG9rZW4gPSBlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLk9SO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdWVyeTtcbiAgICB9O1xuICAgIHJldHVybiBRdWVyeUJ1aWxkZXI7XG59KCkpO1xuZXhwb3J0cy5RdWVyeUJ1aWxkZXIgPSBRdWVyeUJ1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWVyeS1idWlsZGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EaXNwYXRjaFN1YmplY3QgPSB2b2lkIDA7XG52YXIgRGlzcGF0Y2hTdWJqZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERpc3BhdGNoU3ViamVjdCgpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICB9XG4gICAgRGlzcGF0Y2hTdWJqZWN0LnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpID49IDApIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGVycm9yIGhhbmRsaW5nXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XG4gICAgfTtcbiAgICBEaXNwYXRjaFN1YmplY3QucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMub2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpO1xuICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBlcnJvciBoYW5kbGluZ1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfTtcbiAgICBEaXNwYXRjaFN1YmplY3QucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbiAob2JzZXJ2ZWQpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAobykgeyByZXR1cm4gbyhvYnNlcnZlZCk7IH0pO1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERpc3BhdGNoU3ViamVjdDtcbn0oKSk7XG5leHBvcnRzLkRpc3BhdGNoU3ViamVjdCA9IERpc3BhdGNoU3ViamVjdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3BhdGNoLXN1YmplY3QuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIF9fY3JlYXRlQmluZGluZyhleHBvcnRzLCBtLCBwKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3JjL2Vjcy9jb21wb25lbnQubW9kZWxcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3NyYy9lY3MvZW50aXR5Lm1vZGVsXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zcmMvZWNzL2VzYy1xdWVyeS5tb2RlbFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3JjL2Vjcy9zeXN0ZW0ubW9kZWxcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3NyYy9lY3MvcXVlcnktYnVpbGRlclwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3JjL2Vjcy9tYW5hZ2VyXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zcmMvb2JzZXJ2ZXIvZGlzcGF0Y2gtc3ViamVjdFwiKSwgZXhwb3J0cyk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC5tb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVudGl0eS5tb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN5c3RlbS5tb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRUNTTWFuYWdlciA9IGV4cG9ydHMuRW50aXR5QnVpbGRlciA9IHZvaWQgMDtcbnZhciBlc2NfcXVlcnlfbW9kZWxfMSA9IHJlcXVpcmUoXCIuL2VzYy1xdWVyeS5tb2RlbFwiKTtcbnZhciBkaXNwYXRjaF9zdWJqZWN0XzEgPSByZXF1aXJlKFwiLi4vb2JzZXJ2ZXIvZGlzcGF0Y2gtc3ViamVjdFwiKTtcbnZhciBxdWVyeV9idWlsZGVyXzEgPSByZXF1aXJlKFwiLi9xdWVyeS1idWlsZGVyXCIpO1xudmFyIGNvbXBvbmVudF9wb29sXzEgPSByZXF1aXJlKFwiLi4vcG9vbC9jb21wb25lbnQtcG9vbFwiKTtcbnZhciB1dGlsXzEgPSByZXF1aXJlKFwidXRpbFwiKTtcbi8qKlxuICogQnVpbGRlciBmb3IgZW50aXRpZXMuIEVuYWJsZXMgZW5kIHVzZXIgdG8gY2hhaW4gb3BlcmF0aW9ucy5cbiAqIEV4YW1wbGU6XG4gKiBgYGB0c1xuICogbmV3IEVDU01hbmFnZXIoKS5jcmVhdGVFbnRpdHkoKS5hZGRDb21wb25lbnQobmV3IFRlc3RDb21wKCkpO1xuICogYGBgXG4gKi9cbnZhciBFbnRpdHlCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIG5vdCBiZSB1c2VkIG1hbnVhbGx5XG4gICAgICogQHBhcmFtIGlkICBpZCBvZiBlbnRpdHkgdGhhdCBpcyBzdXBwb3NlZCB0byBiZSB1cGRhdGVkXG4gICAgICogQHBhcmFtIGVjc01hbmFnZXIgbWFuYWdlciB0aGF0IGlzIGNyZWF0aW5nIHRoZSBidWlsZGVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gRW50aXR5QnVpbGRlcihpZCwgZWNzTWFuYWdlcikge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuZWNzTWFuYWdlciA9IGVjc01hbmFnZXI7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFbnRpdHlCdWlsZGVyLnByb3RvdHlwZSwgXCJlbnRpdHlJZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZSB0aGUgaWQgb2YgdGhlIGVudGl0eSB0aGF0IGlzIGJlaW5nIGJ1aWx0XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQSBmYWNhZGUgdG8ge0BsaW5rIEVDU01hbmFnZXIuYWRkQ29tcG9uZW50fVxuICAgICAqIEB0eXBlUGFyYW0gVCBhbnkgb2JqZWN0IHlvdSB3b3VsZCBsaWtlIHRvIGJlIGEgY29tcG9uZW50LiBTaG91bGQgb25seSBiZSBkYXRhLCBhbmQgbm90IGFueSBmdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50ICAgYSBuZXcgY29tcG9uZW50IHRvIGJlIGNvbm5lY3RlZCB3aXRoIGdpdmVuIGVudGl0eS5cbiAgICAgKi9cbiAgICBFbnRpdHlCdWlsZGVyLnByb3RvdHlwZS5hZGRDb21wb25lbnQgPSBmdW5jdGlvbiAodHlwZVN0ciwgY29tcG9uZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVjc01hbmFnZXIuYWRkQ29tcG9uZW50KHRoaXMuaWQsIHR5cGVTdHIsIGNvbXBvbmVudCwgdGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIGZhY2FkZSB0byB7QGxpbmsgRUNTTWFuYWdlci5yZW1vdmVDb21wb25lbnR9XG4gICAgICogQHR5cGVQYXJhbSBUIGFueSBvYmplY3QgeW91IHdvdWxkIGxpa2UgdG8gYmUgYSBjb21wb25lbnQuIFNob3VsZCBvbmx5IGJlIGRhdGEsIGFuZCBub3QgYW55IGZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSB0eXBlU3RyICAgdGhlIHR5cGUgdHlwZVN0cnMgZm9yIHRoZSBjb21wb25lbnQgeW91IHdhbnQgdG8gcmVtb3ZlXG4gICAgICovXG4gICAgRW50aXR5QnVpbGRlci5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50ID0gZnVuY3Rpb24gKHR5cGVTdHJzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVjc01hbmFnZXIucmVtb3ZlQ29tcG9uZW50KHRoaXMuaWQsIHR5cGVTdHJzLCB0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBFbnRpdHlCdWlsZGVyO1xufSgpKTtcbmV4cG9ydHMuRW50aXR5QnVpbGRlciA9IEVudGl0eUJ1aWxkZXI7XG4vKipcbiAqIFRoZSBtYWluIGNsYXNzLCBhbmQgdXN1YWxseSBhIHNpbmdsZXRvbiBmb3IgeW91ciBwcm9ncmFtIHRoYXQgd2lsbCBtYW5hZ2UgeW91ciBnYW1lIHN0YXRlXG4gKi9cbnZhciBFQ1NNYW5hZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVDU01hbmFnZXIoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaWdub3JlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zeXN0ZW1zID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaWdub3JlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVudGl0aWVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaWdub3JlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaWdub3JlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVudGl0eUlkID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWZ0ZXJVcGRhdGVMb29wID0gbmV3IGRpc3BhdGNoX3N1YmplY3RfMS5EaXNwYXRjaFN1YmplY3QoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nU3lzdGVtcyA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIHN5c3RlbSBtZWFudCB0byBiZSBjYWxsZWQgbWFudWFsbHkgYnkgdGhlIGNhbGxlZVxuICAgICAqXG4gICAgICogQHBhcmFtIHN5c3RlbSAgQSBmdW5jdGlvbiB0aGF0IHdpbGwgcmVhZC93cml0ZSB0byBjb21wb25lbnRzXG4gICAgICogQHBhcmFtIHF1ZXJ5ICBUaGUgcXVlcnkgdXNlZCB0byBmZXRjaCBzeXN0ZW0gcGFyYW1ldGVyc1xuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyRXZlbnRXaXRoRXNjUXVlcnkgPSBmdW5jdGlvbiAoc3lzdGVtLCBxdWVyeSkge1xuICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgIHFSZXN1bHQ6IHRoaXMucXVlcnlFbnRpdGllcyhxdWVyeSksXG4gICAgICAgICAgICBzeXN0ZW06IHN5c3RlbVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLmxlbmd0aCAtIDE7XG4gICAgfTtcbiAgICAvKipcbiAgICogUmVnaXN0ZXIgYSBzeXN0ZW0gbWVhbnQgdG8gYmUgY2FsbGVkIG1hbnVhbGx5IGJ5IHRoZSBjYWxsZWVcbiAgICpcbiAgICogQHBhcmFtIHN5c3RlbSAgQSBmdW5jdGlvbiB0aGF0IHdpbGwgcmVhZC93cml0ZSB0byBjb21wb25lbnRzXG4gICAqIEBwYXJhbSB0eXBlU3RycyAgQSBsaXN0IG9mIHR5cGVzIGFzIHN0cmluZ1xuICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlckV2ZW50ID0gZnVuY3Rpb24gKHN5c3RlbSwgdHlwZVN0cnMpIHtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gcXVlcnlfYnVpbGRlcl8xLmNyZWF0ZVF1ZXJ5RnJvbUlkZW50aWZpZXJMaXN0KHR5cGVTdHJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0ZXJFdmVudFdpdGhFc2NRdWVyeShzeXN0ZW0sIHF1ZXJ5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgc3lzdGVtIG1lYW50IHRvIGJlIGNhbGxlZCBlYWNoIGZyYW1lIGJ5IHRoZSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3lzdGVtICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCByZWFkL3dyaXRlIHRvIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gcXVlcnkgIFRoZSBxdWVyeSB1c2VkIHRvIGZldGNoIHN5c3RlbSBwYXJhbWV0ZXJzXG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJTeXN0ZW1XaXRoRXNjUXVlcnkgPSBmdW5jdGlvbiAoc3lzdGVtLCBxdWVyeSkge1xuICAgICAgICB0aGlzLnN5c3RlbXMucHVzaCh7XG4gICAgICAgICAgICBxdWVyeTogcXVlcnksXG4gICAgICAgICAgICBxUmVzdWx0OiB0aGlzLnF1ZXJ5RW50aXRpZXMocXVlcnkpLFxuICAgICAgICAgICAgc3lzdGVtOiBzeXN0ZW1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIHN5c3RlbSBtZWFudCB0byBiZSBjYWxsZWQgZWFjaCBmcmFtZSBieSB0aGUgbWFuYWdlclxuICAgICAqXG4gICAgICogQHBhcmFtIHN5c3RlbSAgQSBmdW5jdGlvbiB0aGF0IHdpbGwgcmVhZC93cml0ZSB0byBjb21wb25lbnRzXG4gICAgICogQHBhcmFtIHR5cGVTdHIgIEEgbGlzdCBvZiB0eXBlcyBhcyBzdHJpbmdcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlclN5c3RlbSA9IGZ1bmN0aW9uIChzeXN0ZW0sIHR5cGVTdHIpIHtcbiAgICAgICAgdmFyIHF1ZXJ5ID0gcXVlcnlfYnVpbGRlcl8xLmNyZWF0ZVF1ZXJ5RnJvbUlkZW50aWZpZXJMaXN0KHR5cGVTdHIpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyU3lzdGVtV2l0aEVzY1F1ZXJ5KHN5c3RlbSwgcXVlcnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBlbnRpdHlcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5jcmVhdGVFbnRpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW50aXRpZXMucHVzaCh7IGlkOiB0aGlzLmVudGl0eUlkKysgfSk7XG4gICAgICAgIHJldHVybiBuZXcgRW50aXR5QnVpbGRlcih0aGlzLmVudGl0eUlkIC0gMSwgdGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBub24gdHJhbnNmb3JtIHZlcnNpb24gb2YgcmVnaXN0ZXJDb21wb25lbnRUeXBlXG4gICAgICogWW91IHNob3VsZCBwcm9iYWJseSBjYWxsIHtAbGluayByZWdpc3RlckNvbXBvbmVudFR5cGV9IGZyb20gdGhlIGluZGV4IGluc3RlYWRcbiAgICAgKlxuICAgICAqIFVzZWQgdG8gcHJlYWxsb2NhdGUgc3RvcmFnZSBmb3IgYSBnaXZlbiBjb21wb25lbnQgdHlwZVxuICAgICAqIGF2b2lkIGNhbGxpbmcgdGhpcyBpbiBhIGdhbWUgbG9vcFxuICAgICAqIEBwYXJhbSB0eXBlU3RyIHRoZSB0eXBlIG9mIHRoZSBjb21wb25lbnQgYXMgYSBzdHJpbmdcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlXG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJDb21wb25lbnRUeXBlID0gZnVuY3Rpb24gKHR5cGVTdHIsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5jb21wb25lbnRzLmhhcyh0eXBlU3RyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5zZXQodHlwZVN0ciwgbmV3IGNvbXBvbmVudF9wb29sXzEuQ29tcG9uZW50UG9vbChkZWZhdWx0VmFsdWUpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIG5vbiB0cmFuc2Zvcm0gdmVyc2lvbiBvZiBhZGRDb21wb25lbnRcbiAgICAgKiBZb3Ugc2hvdWxkIHByb2JhYmx5IGNhbGwge0BsaW5rIGFkZENvbXBvbmVudH0gZnJvbSB0aGUgaW5kZXggaW5zdGVhZFxuICAgICAqXG4gICAgKiBAdHlwZVBhcmFtIFQgYW55IG9iamVjdCB5b3Ugd291bGQgbGlrZSB0byBiZSBhIGNvbXBvbmVudC4gU2hvdWxkIG9ubHkgYmUgZGF0YSwgYW5kIG5vdCBhbnkgZnVuY3Rpb25zXG4gICAgICogQHBhcmFtIGVudGl0eUlkICBpZCBvZiBlbnRpdHkgdGhhdCBpcyBzdXBwb3NlZCB0byBiZSB1cGRhdGVkXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCAgYSBuZXcgY29tcG9uZW50IHRvIGJlIGNvbm5lY3RlZCB3aXRoIGdpdmVuIGVudGl0eS5cbiAgICAgKiBAcGFyYW0gYnVpbGRlciAgVXNlZCBieSB0aGUgRW50aXR5QnVpbGRlciB0byBjYWNoZSBpdHNlbGYsIGNhbiBiZSBpZ25vcmVkIHVzdWFsbHlcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5hZGRDb21wb25lbnQgPSBmdW5jdGlvbiAoZW50aXR5SWQsIHR5cGVTdHIsIGNvbXBvbmVudCwgYnVpbGRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYnVpbGRlclJ0ciA9IGZ1bmN0aW9uIChidWlsZGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRlciAhPT0gbnVsbCAmJiBidWlsZGVyICE9PSB2b2lkIDAgPyBidWlsZGVyIDogbmV3IEVudGl0eUJ1aWxkZXIoZW50aXR5SWQsIF90aGlzKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudHMuaGFzKHR5cGVTdHIpKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIFRPRE86IGVycm9yaGFuZGxpbmdcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29tcG9uZW50cyA9IHRoaXMuY29tcG9uZW50cy5nZXQodHlwZVN0cik7XG4gICAgICAgIGlmIChjb21wb25lbnRzID09PSBudWxsIHx8IGNvbXBvbmVudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbXBvbmVudHMuZmluZChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5lbnRpdHlJZCA9PT0gZW50aXR5SWQ7IH0pKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIFRPRE86IGVycm9yaGFuZGxpbmdcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmdTeXN0ZW1zKSB7XG4gICAgICAgICAgICB0aGlzLmFmdGVyVXBkYXRlTG9vcC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkZENvbXBvbmVudChlbnRpdHlJZCwgdHlwZVN0ciwgY29tcG9uZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGJ1aWxkZXJSdHIoYnVpbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9uZW50cy5hZGQoZW50aXR5SWQsIGNvbXBvbmVudCk7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZVF1ZXJ5UmVzdWx0cyh0eXBlU3RyKTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkZXJSdHIoYnVpbGRlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBub24gdHJhbnNmb3JtIHZlcnNpb24gb2YgcmVtb3ZlQ29tcG9uZW50XG4gICAgICogWW91IHNob3VsZCBwcm9iYWJseSBjYWxsIHtAbGluayByZW1vdmVDb21wb25lbnR9IGZyb20gdGhlIGluZGV4IGluc3RlYWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbnRpdHlJZCAgaWQgb2YgZW50aXR5IHRoYXQgaXMgc3VwcG9zZWQgdG8gYmUgdXBkYXRlZFxuICAgICAqIEBwYXJhbSB0eXBlU3RyICAgdGhlIHR5cGUgYXMgc3RyaW5nIGZvciB0aGUgY29tcG9uZW50IHlvdSB3YW50IHRvIHJlbW92ZVxuICAgICAqIEBwYXJhbSBidWlsZGVyICBVc2VkIGJ5IHRoZSBFbnRpdHlCdWlsZGVyIHRvIGNhY2hlIGl0c2VsZiwgY2FuIGJlIGlnbm9yZWQgdXN1YWxseVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLnJlbW92ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChlbnRpdHlJZCwgdHlwZVN0ciwgYnVpbGRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmdTeXN0ZW1zKSB7XG4gICAgICAgICAgICB0aGlzLmFmdGVyVXBkYXRlTG9vcC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlbW92ZUNvbXBvbmVudChlbnRpdHlJZCwgdHlwZVN0cik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbXBvbmVudHMuZ2V0KHR5cGVTdHIpLnJlbW92ZShlbnRpdHlJZCk7XG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZVF1ZXJ5UmVzdWx0cyh0eXBlU3RyKTtcbiAgICAgICAgcmV0dXJuIGJ1aWxkZXIgIT09IG51bGwgJiYgYnVpbGRlciAhPT0gdm9pZCAwID8gYnVpbGRlciA6IG5ldyBFbnRpdHlCdWlsZGVyKGVudGl0eUlkLCB0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBxdWVyeSAgZmlsdGVyIGZvciB3aGljaCBlbnRpdGllcyB0byByZXRyaWV2ZVxuICAgICAqIEByZXR1cm4gcmV0dXJucyBhIG9iamVjdCBjb250YWluaW5nIGVudGl0aWVzIHRoYXQgYXJlIG1lYW50IHRvXG4gICAgICogYmUgaXRlcmF0ZWQgYnkgdGhlIG1hbmFnZXIgdW5kZXIgZGlzcGF0Y2gvZXZlbnQgYW5kIHNoYXJlZCBlbnRpdGllcyB0aGF0XG4gICAgICogd2lsbCBiZSBzaGFyZWQgZWFjaCBpdGVyYXRpb25cbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5xdWVyeUVudGl0aWVzID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgYW5kRm4gPSBmdW5jdGlvbiAobGVmdCwgcmlndGgpIHtcbiAgICAgICAgICAgIHZhciBlXzMsIF9hO1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgdmFyIF9sb29wXzIgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICB2YXIgckluZGV4ID0gcmlndGguZmluZEluZGV4KGZ1bmN0aW9uIChyRSkgeyByZXR1cm4gckUuaWQgPT09IGVudHJ5LmlkOyB9KTtcbiAgICAgICAgICAgICAgICBpZiAockluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSByaWd0aC5zcGxpY2UockluZGV4LCAxKTsgLy8gdGhpcyBtaWdodCBiZSBzdHVwaWQgXG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBlbnRyeS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IGVudHJ5LmNvbXBvbmVudHMuY29uY2F0KGZvdW5kWzBdLmNvbXBvbmVudHMpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGxlZnRfMSA9IF9fdmFsdWVzKGxlZnQpLCBsZWZ0XzFfMSA9IGxlZnRfMS5uZXh0KCk7ICFsZWZ0XzFfMS5kb25lOyBsZWZ0XzFfMSA9IGxlZnRfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gbGVmdF8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIF9sb29wXzIoZW50cnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobGVmdF8xXzEgJiYgIWxlZnRfMV8xLmRvbmUgJiYgKF9hID0gbGVmdF8xLnJldHVybikpIF9hLmNhbGwobGVmdF8xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzMpIHRocm93IGVfMy5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG9yUmVkdWNlciA9IGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlcywgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBlXzQsIF9hO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcHJldmlvdXNWYWx1ZXMuZmluZEluZGV4KGZ1bmN0aW9uIChuKSB7IHJldHVybiBuLmlkID09PSB2YWx1ZS5pZDsgfSk7XG4gICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgX2xvb3BfMyA9IGZ1bmN0aW9uIChjb21wKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJldmlvdXNWYWx1ZXNbaW5kZXhdLmNvbXBvbmVudHMuZmluZChmdW5jdGlvbiAoYykgeyByZXR1cm4gYyA9PT0gY29tcDsgfSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVmFsdWVzW2luZGV4XS5jb21wb25lbnRzLnB1c2goY29tcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModmFsdWUuY29tcG9uZW50cyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9vcF8zKGNvbXApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzRfMSkgeyBlXzQgPSB7IGVycm9yOiBlXzRfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1ZhbHVlcztcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHF1ZXJ5U3RlcCA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKCFxdWVyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlc2NfcXVlcnlfbW9kZWxfMS5pc1F1ZXJ5Tm9kZShxdWVyeSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcUxSZXN1bHQgPSBxdWVyeVN0ZXAocXVlcnkubGVmdENoaWxkKTtcbiAgICAgICAgICAgICAgICB2YXIgcVJSZXN1bHRfMSA9IHF1ZXJ5U3RlcChxdWVyeS5yaWdodENoaWxkKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHF1ZXJ5LnRva2VuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5BTkQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYW5kRm4ocUxSZXN1bHQsIHFSUmVzdWx0XzEpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uT1I6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcUxSZXN1bHQuY29uY2F0KHFSUmVzdWx0XzEpLnJlZHVjZShvclJlZHVjZXIsIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLk5PVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBxTFJlc3VsdC5maWx0ZXIoZnVuY3Rpb24gKGVudGl0eSkgeyByZXR1cm4gIXFSUmVzdWx0XzEuZmluZChmdW5jdGlvbiAob2UpIHsgcmV0dXJuIG9lLmlkID09IGVudGl0eS5pZDsgfSk7IH0pO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uU0hBUkVEOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlU3RyXzEgPSBxdWVyeS50eXBlU3RyO1xuICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnRzID0gX3RoaXMuY29tcG9uZW50cy5nZXQodHlwZVN0cl8xKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByZWZhY3RvciBzbyB3ZSBkb24ndCBuZWVkIHZhcmlhYmxlIGZyb20gb3V0c2lkZSBzY29wZVxuICAgICAgICAgICAgICAgIC8vICAgICAgIGNsZWFuIHNvIGl0J3MgbW9yZSByZWFkYWJsZVxuICAgICAgICAgICAgICAgIHZhciB0aGlzUmVzdWx0ID0gKF9hID0gY29tcG9uZW50cyA9PT0gbnVsbCB8fCBjb21wb25lbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wb25lbnRzLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gdXRpbF8xLmlzTnVtYmVyKGMuZW50aXR5SWQpICYmIGMuZW50aXR5SWQgPj0gMDsgfSkucmVkdWNlKGZ1bmN0aW9uIChwcmV2aW91c1ZhbHVlcywgdmFsdWUsIGN1cnJlbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBwcmV2aW91c1ZhbHVlcy5maW5kSW5kZXgoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4uaWQgPT09IHZhbHVlLmVudGl0eUlkOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0NvbXAgPSB7IHR5cGVTdHI6IHR5cGVTdHJfMSwgaW5kZXg6IGN1cnJlbnRJbmRleCB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RW50cnkgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHZhbHVlLmVudGl0eUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM6IFtuZXdDb21wXVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVmFsdWVzLnB1c2gobmV3RW50cnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gcHJldmlvdXNWYWx1ZXNbaW5kZXhdLmNvbXBvbmVudHMuZmluZChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5pbmRleCA9PT0gbmV3Q29tcC5pbmRleCAmJiBjLnR5cGVTdHIgPT09IG5ld0NvbXAudHlwZVN0cjsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZXNbaW5kZXhdLmNvbXBvbmVudHMucHVzaChuZXdDb21wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldmlvdXNWYWx1ZXM7XG4gICAgICAgICAgICAgICAgfSwgW10pKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1Jlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGZpbmRTaGFyZWQgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgICAgIGlmICghcXVlcnkgfHwgZXNjX3F1ZXJ5X21vZGVsXzEuaXNRdWVyeUxlYWZOb2RlKHF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocXVlcnkudG9rZW4gPT09IGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uU0hBUkVEKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxlZnRMaXN0ID0gZmluZFNoYXJlZChxdWVyeS5sZWZ0Q2hpbGQpO1xuICAgICAgICAgICAgdmFyIHJpZ2h0TGlzdCA9IGZpbmRTaGFyZWQocXVlcnkucmlnaHRDaGlsZCk7XG4gICAgICAgICAgICByZXR1cm4gbGVmdExpc3QgIT09IG51bGwgJiYgbGVmdExpc3QgIT09IHZvaWQgMCA/IGxlZnRMaXN0IDogcmlnaHRMaXN0O1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZXh0cmFjdExlYWZOb2RlcyA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICAgICAgaWYgKCFxdWVyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlc2NfcXVlcnlfbW9kZWxfMS5pc1F1ZXJ5Tm9kZShxdWVyeSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVmdExlYWZzID0gZXh0cmFjdExlYWZOb2RlcyhxdWVyeS5sZWZ0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIHZhciByaWdodExlYWZzID0gZXh0cmFjdExlYWZOb2RlcyhxdWVyeS5yaWdodENoaWxkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGxlZnRMZWFmcyAhPT0gbnVsbCAmJiBsZWZ0TGVhZnMgIT09IHZvaWQgMCA/IGxlZnRMZWFmcyA6IFtdKS5jb25jYXQocmlnaHRMZWFmcyAhPT0gbnVsbCAmJiByaWdodExlYWZzICE9PSB2b2lkIDAgPyByaWdodExlYWZzIDogW10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtxdWVyeV07XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzaGFyZWROb2RlID0gZmluZFNoYXJlZChxdWVyeSk7XG4gICAgICAgIHZhciBzaGFyZWRFbnRpdGllcyA9IHF1ZXJ5U3RlcChzaGFyZWROb2RlID09PSBudWxsIHx8IHNoYXJlZE5vZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNoYXJlZE5vZGUubGVmdENoaWxkKTtcbiAgICAgICAgdmFyIHNoYXJlZEFyZ3MgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChzaGFyZWRFbnRpdGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgY29tcEVudHJpZXMgPSBzaGFyZWRFbnRpdGllcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBlbnRyeS5jb21wb25lbnRzOyB9KTtcbiAgICAgICAgICAgIHNoYXJlZEFyZ3MgPSBuZXcgQXJyYXkoY29tcEVudHJpZXNbMF0ubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciB0eXBlTWFwID0gW107XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNvbXBFbnRyaWVzXzEgPSBfX3ZhbHVlcyhjb21wRW50cmllcyksIGNvbXBFbnRyaWVzXzFfMSA9IGNvbXBFbnRyaWVzXzEubmV4dCgpOyAhY29tcEVudHJpZXNfMV8xLmRvbmU7IGNvbXBFbnRyaWVzXzFfMSA9IGNvbXBFbnRyaWVzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IGNvbXBFbnRyaWVzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoY29tcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdHlwZU1hcC5maW5kSW5kZXgoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgPT09IGNvbXAudHlwZVN0cjsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB0eXBlTWFwLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlTWFwLnB1c2goY29tcC50eXBlU3RyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hhcmVkQXJnc1tpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZWRBcmdzW2luZGV4XSA9IFt0aGlzXzEuY29tcG9uZW50cy5nZXQoY29tcC50eXBlU3RyKS51bnNhZmVHZXQoY29tcC5pbmRleCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVkQXJnc1tpbmRleF0gPSBzaGFyZWRBcmdzW2luZGV4XS5jb25jYXQodGhpc18xLmNvbXBvbmVudHMuZ2V0KGNvbXAudHlwZVN0cikudW5zYWZlR2V0KGNvbXAuaW5kZXgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNfMSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBlbnRyeV8xID0gKGVfMiA9IHZvaWQgMCwgX192YWx1ZXMoZW50cnkpKSwgZW50cnlfMV8xID0gZW50cnlfMS5uZXh0KCk7ICFlbnRyeV8xXzEuZG9uZTsgZW50cnlfMV8xID0gZW50cnlfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcCA9IGVudHJ5XzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9vcF8xKGNvbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnlfMV8xICYmICFlbnRyeV8xXzEuZG9uZSAmJiAoX2IgPSBlbnRyeV8xLnJldHVybikpIF9iLmNhbGwoZW50cnlfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbXBFbnRyaWVzXzFfMSAmJiAhY29tcEVudHJpZXNfMV8xLmRvbmUgJiYgKF9hID0gY29tcEVudHJpZXNfMS5yZXR1cm4pKSBfYS5jYWxsKGNvbXBFbnRyaWVzXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIHNoYXJlZEFyZ3M6IHNoYXJlZEFyZ3MsXG4gICAgICAgICAgICBlbnRpdGllczogcXVlcnlTdGVwKHF1ZXJ5KSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIG5vbiB0cmFuc2Zvcm0gdmVyc2lvbiBvZiBhY2Nlc3NDb21wb25lbnREYXRhXG4gICAgICogWW91IHNob3VsZCBwcm9iYWJseSBjYWxsIHtAbGluayBhY2Nlc3NDb21wb25lbnREYXRhfSBmcm9tIHRoZSBpbmRleCBpbnN0ZWFkXG4gICAgICpcbiAgICAgKiBAdHlwZVBhcmFtIFQgY29tcG9uZW50IGRhdGEgdHlwZVxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbXBUeXBlIGFueSBpbnN0YW5jZSBvZiBzYW1lIHR5cGUgYXMgdGFyZ2V0IGNvbXBvbmVudFxuICAgICAqIEBwYXJhbSBlbnRpdHlJZCBpZCBvZiBlbnRpdHkgb3duZXIgb2YgY29tcG9uZW50XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHJlcXVlc3RlZCBjb21wb25lbnQgb3IgbnVsbFxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLmFjY2Vzc0NvbXBvbmVudERhdGEgPSBmdW5jdGlvbiAoZW50aXR5SWQsIHR5cGVTdHIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgY29tcG9uZW50cyA9IHRoaXMuY29tcG9uZW50cy5nZXQodHlwZVN0cik7XG4gICAgICAgIHJldHVybiAoX2EgPSBjb21wb25lbnRzID09PSBudWxsIHx8IGNvbXBvbmVudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbXBvbmVudHMuZmluZChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5lbnRpdHlJZCA9PT0gZW50aXR5SWQ7IH0pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGF0YTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEludm9rZXMgYSBzeXN0ZW0gZXZlbnQgYW5kIHN1cHBsaWVzIHRoZW0gd2l0aCByZWxldmFudCBiYXNlZCBvbiBwcmV2aW91cyBxdWVyeSBhcmd1bWVudHNcbiAgICAgKiBAcGFyYW0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBldmVudCBiZWluZyBmaXJlZFxuICAgICAqIEBwYXJhbSBldmVudCBFdmVudCBkYXRhXG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUub25FdmVudCA9IGZ1bmN0aW9uIChpbmRleCwgZXZlbnQpIHtcbiAgICAgICAgdmFyIGVfNSwgX2E7XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nU3lzdGVtcyA9IHRydWU7XG4gICAgICAgIHZhciBzdWJzY3JpYmVyID0gdGhpcy5ldmVudHNbaW5kZXhdO1xuICAgICAgICB2YXIgZXZlbnRBcnIgPSBbZXZlbnRdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhzdWJzY3JpYmVyLnFSZXN1bHQuZW50aXRpZXMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVudGl0eSA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gZXZlbnRBcnIuY29uY2F0KHRoaXMuY3JlYXRlQXJncyhlbnRpdHkpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50c1tpbmRleF0uc3lzdGVtLmFwcGx5KG51bGwsIGFyZ3MuY29uY2F0KHN1YnNjcmliZXIucVJlc3VsdC5zaGFyZWRBcmdzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfNV8xKSB7IGVfNSA9IHsgZXJyb3I6IGVfNV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV81KSB0aHJvdyBlXzUuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzUnVubmluZ1N5c3RlbXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZnRlclVwZGF0ZUxvb3AudHJpZ2dlcigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52b2tlcyBhbGwgbm9ybWFsIHN5c3RlbXMgYW5kIHN1cHBsaWVzIHRoZW0gd2l0aCBkZWx0YSB0aW1lIGFuZFxuICAgICAqIHJlbGV2YW50IGFyZ3VtZW50cyBiYXNlZCBvbiBzeXN0ZW0gcXVlcnlcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVfNiwgX2EsIGVfNywgX2I7XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nU3lzdGVtcyA9IHRydWU7XG4gICAgICAgIHRoaXMucHJldlJ1biA9ICh0aGlzLnByZXZSdW4pID8gdGhpcy5wcmV2UnVuIDogRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBkZWx0YVRpbWUgPSBbKG5vdyAtIHRoaXMucHJldlJ1bikgLyAxMDAwXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5zeXN0ZW1zKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBzeXN0ZW0gPSBfZC52YWx1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZSA9IChlXzcgPSB2b2lkIDAsIF9fdmFsdWVzKHN5c3RlbS5xUmVzdWx0LmVudGl0aWVzKSksIF9mID0gX2UubmV4dCgpOyAhX2YuZG9uZTsgX2YgPSBfZS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRpdHkgPSBfZi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gZGVsdGFUaW1lLmNvbmNhdCh0aGlzLmNyZWF0ZUFyZ3MoZW50aXR5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW0uc3lzdGVtLmFwcGx5KG51bGwsIGFyZ3MuY29uY2F0KHN5c3RlbS5xUmVzdWx0LnNoYXJlZEFyZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZV83XzEpIHsgZV83ID0geyBlcnJvcjogZV83XzEgfTsgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9mICYmICFfZi5kb25lICYmIChfYiA9IF9lLnJldHVybikpIF9iLmNhbGwoX2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV83KSB0aHJvdyBlXzcuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfNl8xKSB7IGVfNiA9IHsgZXJyb3I6IGVfNl8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV82KSB0aHJvdyBlXzYuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzUnVubmluZ1N5c3RlbXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZnRlclVwZGF0ZUxvb3AudHJpZ2dlcigpO1xuICAgICAgICB0aGlzLnByZXZSdW4gPSBub3c7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUuY3JlYXRlQXJncyA9IGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICB2YXIgZV84LCBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoZW50cnkuY29tcG9uZW50cyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ0NvbXAgPSB0aGlzLmNvbXBvbmVudHMuZ2V0KGNvbXBvbmVudC50eXBlU3RyKS51bnNhZmVHZXQoY29tcG9uZW50LmluZGV4KTtcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJnQ29tcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfOF8xKSB7IGVfOCA9IHsgZXJyb3I6IGVfOF8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV84KSB0aHJvdyBlXzguZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5pbnZhbGlkYXRlUXVlcnlSZXN1bHRzID0gZnVuY3Rpb24gKGNoYW5nZVR5cGVTdHIpIHtcbiAgICAgICAgdmFyIGVfOSwgX2EsIGVfMTAsIF9iO1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaXNDb21wb25lbnRJblF1ZXJ5ID0gZnVuY3Rpb24gKHR5cGVTdHIsIG5vZGUpIHtcbiAgICAgICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlc2NfcXVlcnlfbW9kZWxfMS5pc1F1ZXJ5Tm9kZShub2RlKSkge1xuICAgICAgICAgICAgICAgIHZhciBsZWZ0RmluZCA9IGlzQ29tcG9uZW50SW5RdWVyeSh0eXBlU3RyLCBub2RlLmxlZnRDaGlsZCk7XG4gICAgICAgICAgICAgICAgaWYgKGxlZnRGaW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcmlnaHRGaW5kID0gaXNDb21wb25lbnRJblF1ZXJ5KHR5cGVTdHIsIG5vZGUucmlnaHRDaGlsZCk7XG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0RmluZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUudHlwZVN0ciA9PT0gdHlwZVN0cjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHVwZGF0ZWRTeXN0ZW0gPSBmdW5jdGlvbiAoc3lzdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXNDb21wb25lbnRJblF1ZXJ5KGNoYW5nZVR5cGVTdHIsIHN5c3RlbS5xdWVyeSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucXVlcnlFbnRpdGllcyhzeXN0ZW0ucXVlcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN5c3RlbS5xUmVzdWx0O1xuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnN5c3RlbXMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5c3RlbSA9IF9kLnZhbHVlO1xuICAgICAgICAgICAgICAgIHN5c3RlbS5xUmVzdWx0ID0gdXBkYXRlZFN5c3RlbShzeXN0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzlfMSkgeyBlXzkgPSB7IGVycm9yOiBlXzlfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfOSkgdGhyb3cgZV85LmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5ldmVudHMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5c3RlbSA9IF9mLnZhbHVlO1xuICAgICAgICAgICAgICAgIHN5c3RlbS5xUmVzdWx0ID0gdXBkYXRlZFN5c3RlbShzeXN0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzEwXzEpIHsgZV8xMCA9IHsgZXJyb3I6IGVfMTBfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMTApIHRocm93IGVfMTAuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEVDU01hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5FQ1NNYW5hZ2VyID0gRUNTTWFuYWdlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hbmFnZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX192YWx1ZXMgPSAodGhpcyAmJiB0aGlzLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7XG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbXBvbmVudFBvb2wgPSB2b2lkIDA7XG4vLyBUT0RPOiBpdGVyYXRvciB3aWxsIGJyZWFrIGlmIHlvdSBicmVhayBlYXJseSBvdXQgb2YgbG9vcCBcbnZhciBDb21wb25lbnRQb29sID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbXBvbmVudFBvb2woZGVmYXVsdFZhbHVlLCBzdHJpZGUpIHtcbiAgICAgICAgaWYgKHN0cmlkZSA9PT0gdm9pZCAwKSB7IHN0cmlkZSA9IDIwOyB9XG4gICAgICAgIHRoaXMuc3RyaWRlID0gc3RyaWRlO1xuICAgICAgICB0aGlzLnBvb2wgPSBbXTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB0aGlzLm9uRXhwYW5kUG9vbCh0cnVlKTtcbiAgICB9XG4gICAgLy8gVE9ETzogZGlzc2FsbG93IGVudGl0eUlkIHRoYXQgYWxyZWFkeSBleGlzdCBcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZW50aXR5SWQsIG92ZXJyaWRlKSB7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA+PSB0aGlzLnBvb2wubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXhwYW5kUG9vbCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9vbFt0aGlzLmxlbmd0aF0uZW50aXR5SWQgPSBlbnRpdHlJZDtcbiAgICAgICAgdmFyIHRhcmdldCA9IG92ZXJyaWRlICE9PSBudWxsICYmIG92ZXJyaWRlICE9PSB2b2lkIDAgPyBvdmVycmlkZSA6IHRoaXMuZGVmYXVsdFZhbHVlO1xuICAgICAgICB0aGlzLmRlZXBBc3NpZ24odGhpcy5wb29sW3RoaXMubGVuZ3RoXS5kYXRhLCB0YXJnZXQpO1xuICAgICAgICB0aGlzLmxlbmd0aCArPSAxO1xuICAgIH07XG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGVudGl0eUlkKSB7XG4gICAgICAgIHZhciBpbmRleE9mID0gdGhpcy5wb29sLmZpbmRJbmRleChmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5lbnRpdHlJZCA9PT0gZW50aXR5SWQ7IH0pO1xuICAgICAgICBpZiAoaW5kZXhPZiA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVtb3ZlZCA9IHRoaXMucG9vbFtpbmRleE9mXTtcbiAgICAgICAgdmFyIGxhc3RJbmRleCA9IHRoaXMubGVuZ3RoIC0gMTtcbiAgICAgICAgdGhpcy5wb29sW2luZGV4T2ZdID0gdGhpcy5wb29sW2xhc3RJbmRleF07XG4gICAgICAgIHJlbW92ZWQuZW50aXR5SWQgPSAtMTtcbiAgICAgICAgdGhpcy5wb29sW2xhc3RJbmRleF0gPSByZW1vdmVkO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxhc3RJbmRleDtcbiAgICB9O1xuICAgIC8vIFRPRE86IHdlIHNob3VsZCBub3QgY2hhbmdlIGNvbXBvbmVudC1wb29sIHN0YXRlLCB3ZSBzaG91bGQgcmV0dXJuIGEgd3JhcHBlclxuICAgIC8vICAgICAgIGNsb3NqdXJlL29iamVjdCB0aGF0IGNvbnRhaW5zIHBvcyBhbmQgc28gb24gdG8gYXZvaWQgaGVsbGlzaCBidWdzXG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wb3MgPCB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5wb29sW3RoaXMucG9zKytdXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvbmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgICB9O1xuICAgIH07XG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGUudW5zYWZlR2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvb2xbaW5kZXhdO1xuICAgIH07XG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1hbnlcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDsgLy8gVE9ETzogaW1wbGVtZW50IGVudHJpZXMgdG8gZ2V0IGluZGV4IGluIGZvciBsb29wXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXAgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAocHJlZGljYXRlKGNvbXAsIGluZGV4LCB0aGlzLnBvb2wpKSB7IC8vIFRPRE86XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWFueVxuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uIChjYWxsYmFja2ZuLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBlXzIsIF9hO1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHZhciBpbmRleCA9IDA7IC8vIFRPRE86IGltcGxlbWVudCBlbnRyaWVzIHRvIGdldCBpbmRleCBpbiBmb3IgbG9vcFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjb21wID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrZm4oY29tcCwgaW5kZXgsIHRoaXMucG9vbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY29tcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGluZGV4ICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGUub25FeHBhbmRQb29sID0gZnVuY3Rpb24gKGZpcnN0RXhwYW5kKSB7XG4gICAgICAgIGlmIChmaXJzdEV4cGFuZCkge1xuICAgICAgICAgICAgdGhpcy5wb29sID0gbmV3IEFycmF5KHRoaXMuc3RyaWRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9vbC5sZW5ndGggKz0gdGhpcy5zdHJpZGU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMubGVuZ3RoOyBpIDwgdGhpcy5wb29sLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBvb2xbaV0gPSB7XG4gICAgICAgICAgICAgICAgZW50aXR5SWQ6IC0xLFxuICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuZGVlcENvcHkodGhpcy5kZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBTb3VyY2U6IGh0dHBzOi8vbWVkaXVtLmNvbS9qYXZhc2NyaXB0LWluLXBsYWluLWVuZ2xpc2gvaG93LXRvLWRlZXAtY29weS1vYmplY3RzLWFuZC1hcnJheXMtaW4tamF2YXNjcmlwdC03YzkxMTM1OWIwODlcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS5kZWVwQ29weSA9IGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKCFzb3VyY2UgfHwgdHlwZW9mIHNvdXJjZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby1hbnlcbiAgICAgICAgdmFyIGNvcHkgPSBBcnJheS5pc0FycmF5KHNvdXJjZSkgPyBbXSA6IHt9O1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICBjb3B5W2tleV0gPSB0aGlzLmRlZXBDb3B5KHNvdXJjZVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9O1xuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLmRlZXBBc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSk7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0W2tleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWVwQXNzaWduKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb21wb25lbnRQb29sO1xufSgpKTtcbmV4cG9ydHMuQ29tcG9uZW50UG9vbCA9IENvbXBvbmVudFBvb2w7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnQtcG9vbC5qcy5tYXAiLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyB8fFxuICBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaikge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICB2YXIgZGVzY3JpcHRvcnMgPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlc2NyaXB0b3JzW2tleXNbaV1dID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVzY3JpcHRvcnM7XG4gIH07XG5cbnZhciBmb3JtYXRSZWdFeHAgPSAvJVtzZGolXS9nO1xuZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7XG4gIGlmICghaXNTdHJpbmcoZikpIHtcbiAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpO1xuICB9XG5cbiAgdmFyIGkgPSAxO1xuICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgdmFyIGxlbiA9IGFyZ3MubGVuZ3RoO1xuICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7XG4gICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgaWYgKGkgPj0gbGVuKSByZXR1cm4geDtcbiAgICBzd2l0Y2ggKHgpIHtcbiAgICAgIGNhc2UgJyVzJzogcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWQnOiByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclaic6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZ3NbaSsrXSk7XG4gICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICByZXR1cm4gJ1tDaXJjdWxhcl0nO1xuICAgICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG4gIH0pO1xuICBmb3IgKHZhciB4ID0gYXJnc1tpXTsgaSA8IGxlbjsgeCA9IGFyZ3NbKytpXSkge1xuICAgIGlmIChpc051bGwoeCkgfHwgIWlzT2JqZWN0KHgpKSB7XG4gICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHI7XG59O1xuXG5cbi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuXG4vLyBSZXR1cm5zIGEgbW9kaWZpZWQgZnVuY3Rpb24gd2hpY2ggd2FybnMgb25jZSBieSBkZWZhdWx0LlxuLy8gSWYgLS1uby1kZXByZWNhdGlvbiBpcyBzZXQsIHRoZW4gaXQgaXMgYSBuby1vcC5cbmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykge1xuICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3Mubm9EZXByZWNhdGlvbiA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuXG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn07XG5cblxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmV4cG9ydHMuZGVidWdsb2cgPSBmdW5jdGlvbihzZXQpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpXG4gICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG4gIGlmICghZGVidWdzW3NldF0pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcbiAgICAgIHZhciBwaWQgPSBwcm9jZXNzLnBpZDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlYnVnc1tzZXRdO1xufTtcblxuXG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG4vKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuZXhwb3J0cy5pbnNwZWN0ID0gaW5zcGVjdDtcblxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGV4cG9ydHMuaW5zcGVjdCAmJlxuICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuICAgIGlmICghaXNTdHJpbmcocmV0KSkge1xuICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllc1xuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuICBpZiAocHJpbWl0aXZlKSB7XG4gICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgfVxuXG4gIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlXG4gIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4XG4gIGlmIChpc0Vycm9yKHZhbHVlKVxuICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107XG5cbiAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuICB9XG5cbiAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyBicmFjZXNbMV07XG4gIH1cblxuICBpZiAocmVjdXJzZVRpbWVzIDwgMCkge1xuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXG4gIHZhciBvdXRwdXQ7XG4gIGlmIChhcnJheSkge1xuICAgIG91dHB1dCA9IGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG5cbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG4gIGlmIChpc051bWJlcih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7XG4gIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCdudWxsJywgJ251bGwnKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgaWYgKCFzdHIpIHtcbiAgICBpZiAoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKSA8IDApIHtcbiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmIChpc1VuZGVmaW5lZChuYW1lKSkge1xuICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuXG5mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuICB2YXIgbnVtTGluZXNFc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICBudW1MaW5lc0VzdCsrO1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgbnVtTGluZXNFc3QrKztcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IHJlcXVpcmUoJy4vc3VwcG9ydC9pc0J1ZmZlcicpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxudmFyIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCA9IHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnID8gU3ltYm9sKCd1dGlsLnByb21pc2lmeS5jdXN0b20nKSA6IHVuZGVmaW5lZDtcblxuZXhwb3J0cy5wcm9taXNpZnkgPSBmdW5jdGlvbiBwcm9taXNpZnkob3JpZ2luYWwpIHtcbiAgaWYgKHR5cGVvZiBvcmlnaW5hbCAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJvcmlnaW5hbFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuXG4gIGlmIChrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wgJiYgb3JpZ2luYWxba0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXSkge1xuICAgIHZhciBmbiA9IG9yaWdpbmFsW2tDdXN0b21Qcm9taXNpZmllZFN5bWJvbF07XG4gICAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwidXRpbC5wcm9taXNpZnkuY3VzdG9tXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sLCB7XG4gICAgICB2YWx1ZTogZm4sIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBmbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZuKCkge1xuICAgIHZhciBwcm9taXNlUmVzb2x2ZSwgcHJvbWlzZVJlamVjdDtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHByb21pc2VSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIHByb21pc2VSZWplY3QgPSByZWplY3Q7XG4gICAgfSk7XG5cbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG4gICAgYXJncy5wdXNoKGZ1bmN0aW9uIChlcnIsIHZhbHVlKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHByb21pc2VSZWplY3QoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2VSZXNvbHZlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRyeSB7XG4gICAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHByb21pc2VSZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIE9iamVjdC5zZXRQcm90b3R5cGVPZihmbiwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9yaWdpbmFsKSk7XG5cbiAgaWYgKGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wsIHtcbiAgICB2YWx1ZTogZm4sIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFxuICAgIGZuLFxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3JpZ2luYWwpXG4gICk7XG59XG5cbmV4cG9ydHMucHJvbWlzaWZ5LmN1c3RvbSA9IGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbFxuXG5mdW5jdGlvbiBjYWxsYmFja2lmeU9uUmVqZWN0ZWQocmVhc29uLCBjYikge1xuICAvLyBgIXJlYXNvbmAgZ3VhcmQgaW5zcGlyZWQgYnkgYmx1ZWJpcmQgKFJlZjogaHR0cHM6Ly9nb28uZ2wvdDVJUzZNKS5cbiAgLy8gQmVjYXVzZSBgbnVsbGAgaXMgYSBzcGVjaWFsIGVycm9yIHZhbHVlIGluIGNhbGxiYWNrcyB3aGljaCBtZWFucyBcIm5vIGVycm9yXG4gIC8vIG9jY3VycmVkXCIsIHdlIGVycm9yLXdyYXAgc28gdGhlIGNhbGxiYWNrIGNvbnN1bWVyIGNhbiBkaXN0aW5ndWlzaCBiZXR3ZWVuXG4gIC8vIFwidGhlIHByb21pc2UgcmVqZWN0ZWQgd2l0aCBudWxsXCIgb3IgXCJ0aGUgcHJvbWlzZSBmdWxmaWxsZWQgd2l0aCB1bmRlZmluZWRcIi5cbiAgaWYgKCFyZWFzb24pIHtcbiAgICB2YXIgbmV3UmVhc29uID0gbmV3IEVycm9yKCdQcm9taXNlIHdhcyByZWplY3RlZCB3aXRoIGEgZmFsc3kgdmFsdWUnKTtcbiAgICBuZXdSZWFzb24ucmVhc29uID0gcmVhc29uO1xuICAgIHJlYXNvbiA9IG5ld1JlYXNvbjtcbiAgfVxuICByZXR1cm4gY2IocmVhc29uKTtcbn1cblxuZnVuY3Rpb24gY2FsbGJhY2tpZnkob3JpZ2luYWwpIHtcbiAgaWYgKHR5cGVvZiBvcmlnaW5hbCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcIm9yaWdpbmFsXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG4gIH1cblxuICAvLyBXZSBETyBOT1QgcmV0dXJuIHRoZSBwcm9taXNlIGFzIGl0IGdpdmVzIHRoZSB1c2VyIGEgZmFsc2Ugc2Vuc2UgdGhhdFxuICAvLyB0aGUgcHJvbWlzZSBpcyBhY3R1YWxseSBzb21laG93IHJlbGF0ZWQgdG8gdGhlIGNhbGxiYWNrJ3MgZXhlY3V0aW9uXG4gIC8vIGFuZCB0aGF0IHRoZSBjYWxsYmFjayB0aHJvd2luZyB3aWxsIHJlamVjdCB0aGUgcHJvbWlzZS5cbiAgZnVuY3Rpb24gY2FsbGJhY2tpZmllZCgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICB9XG5cbiAgICB2YXIgbWF5YmVDYiA9IGFyZ3MucG9wKCk7XG4gICAgaWYgKHR5cGVvZiBtYXliZUNiICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgbGFzdCBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBjYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG1heWJlQ2IuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIC8vIEluIHRydWUgbm9kZSBzdHlsZSB3ZSBwcm9jZXNzIHRoZSBjYWxsYmFjayBvbiBgbmV4dFRpY2tgIHdpdGggYWxsIHRoZVxuICAgIC8vIGltcGxpY2F0aW9ucyAoc3RhY2ssIGB1bmNhdWdodEV4Y2VwdGlvbmAsIGBhc3luY19ob29rc2ApXG4gICAgb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncylcbiAgICAgIC50aGVuKGZ1bmN0aW9uKHJldCkgeyBwcm9jZXNzLm5leHRUaWNrKGNiLCBudWxsLCByZXQpIH0sXG4gICAgICAgICAgICBmdW5jdGlvbihyZWopIHsgcHJvY2Vzcy5uZXh0VGljayhjYWxsYmFja2lmeU9uUmVqZWN0ZWQsIHJlaiwgY2IpIH0pO1xuICB9XG5cbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGNhbGxiYWNraWZpZWQsIE9iamVjdC5nZXRQcm90b3R5cGVPZihvcmlnaW5hbCkpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjYWxsYmFja2lmaWVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9yaWdpbmFsKSk7XG4gIHJldHVybiBjYWxsYmFja2lmaWVkO1xufVxuZXhwb3J0cy5jYWxsYmFja2lmeSA9IGNhbGxiYWNraWZ5O1xuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7XG4gIHJldHVybiBhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCdcbiAgICAmJiB0eXBlb2YgYXJnLmNvcHkgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgYXJnLnJlYWRVSW50OCA9PT0gJ2Z1bmN0aW9uJztcbn0iLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gIH1cbn1cbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Z1bmN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IGZhbHNlO1xuZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHNldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gLypAX19QVVJFX18qLyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS53YXJuKCdERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXFxuJyArIGVycm9yLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MpIHtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS5sb2coJ1J4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMnKTtcbiAgICAgICAgfVxuICAgICAgICBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSB2YWx1ZTtcbiAgICB9LFxuICAgIGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCkge1xuICAgICAgICByZXR1cm4gX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhvc3RSZXBvcnRFcnJvcihlcnIpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhyb3cgZXJyOyB9LCAwKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvc3RSZXBvcnRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG5leHBvcnQgdmFyIGVtcHR5ID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIGlzQXJyYXkgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7IHJldHVybiBBcnJheS5pc0FycmF5IHx8IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInOyB9KTsgfSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgVW5zdWJzY3JpcHRpb25FcnJvckltcGwgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9ycyA/XG4gICAgICAgICAgICBlcnJvcnMubGVuZ3RoICsgXCIgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcXG5cIiArIGVycm9ycy5tYXAoZnVuY3Rpb24gKGVyciwgaSkgeyByZXR1cm4gaSArIDEgKyBcIikgXCIgKyBlcnIudG9TdHJpbmcoKTsgfSkuam9pbignXFxuICAnKSA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgVW5zdWJzY3JpcHRpb25FcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xufSkoKTtcbmV4cG9ydCB2YXIgVW5zdWJzY3JpcHRpb25FcnJvciA9IFVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VW5zdWJzY3JpcHRpb25FcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfaXNBcnJheSxfdXRpbF9pc09iamVjdCxfdXRpbF9pc0Z1bmN0aW9uLF91dGlsX1Vuc3Vic2NyaXB0aW9uRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi91dGlsL2lzT2JqZWN0JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBVbnN1YnNjcmlwdGlvbkVycm9yIH0gZnJvbSAnLi91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xudmFyIFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWJzY3JpcHRpb24odW5zdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmICh1bnN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fdW5zdWJzY3JpYmUgPSB1bnN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBfcGFyZW50T3JQYXJlbnRzID0gX2EuX3BhcmVudE9yUGFyZW50cywgX3Vuc3Vic2NyaWJlID0gX2EuX3Vuc3Vic2NyaWJlLCBfc3Vic2NyaXB0aW9ucyA9IF9hLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgX3BhcmVudE9yUGFyZW50cy5yZW1vdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IF9wYXJlbnRPclBhcmVudHMubGVuZ3RoOyArK2luZGV4KSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudF8xID0gX3BhcmVudE9yUGFyZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgcGFyZW50XzEucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKF91bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX3Vuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGVycm9ycyA9IGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yID8gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSA6IFtlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheShfc3Vic2NyaXB0aW9ucykpIHtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICAgICAgdmFyIGxlbiA9IF9zdWJzY3JpcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YiA9IF9zdWJzY3JpcHRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3Qoc3ViKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycy5jb25jYXQoZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGUuZXJyb3JzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGVhcmRvd247XG4gICAgICAgIGlmICghdGVhcmRvd24pIHtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdGVhcmRvd24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKHRlYXJkb3duKTtcbiAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiA9PT0gdGhpcyB8fCBzdWJzY3JpcHRpb24uY2xvc2VkIHx8IHR5cGVvZiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCEoc3Vic2NyaXB0aW9uIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fc3Vic2NyaXB0aW9ucyA9IFt0bXBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VucmVjb2duaXplZCB0ZWFyZG93biAnICsgdGVhcmRvd24gKyAnIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICBpZiAoX3BhcmVudE9yUGFyZW50cyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHMgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMgaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzID09PSB0aGlzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5fcGFyZW50T3JQYXJlbnRzID0gW19wYXJlbnRPclBhcmVudHMsIHRoaXNdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9wYXJlbnRPclBhcmVudHMuaW5kZXhPZih0aGlzKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIF9wYXJlbnRPclBhcmVudHMucHVzaCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSB0aGlzLl9zdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9ucyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IFtzdWJzY3JpcHRpb25dO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKHN1YnNjcmlwdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uSW5kZXggPSBzdWJzY3JpcHRpb25zLmluZGV4T2Yoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25JbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb25zLnNwbGljZShzdWJzY3JpcHRpb25JbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5FTVBUWSA9IChmdW5jdGlvbiAoZW1wdHkpIHtcbiAgICAgICAgZW1wdHkuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH0obmV3IFN1YnNjcmlwdGlvbigpKSk7XG4gICAgcmV0dXJuIFN1YnNjcmlwdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfTtcbmZ1bmN0aW9uIGZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyhlcnJvcnMpIHtcbiAgICByZXR1cm4gZXJyb3JzLnJlZHVjZShmdW5jdGlvbiAoZXJycywgZXJyKSB7IHJldHVybiBlcnJzLmNvbmNhdCgoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikgPyBlcnIuZXJyb3JzIDogZXJyKTsgfSwgW10pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaXB0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHgpIHtcbiAgICByZXR1cm4geCAhPT0gbnVsbCAmJiB0eXBlb2YgeCA9PT0gJ29iamVjdCc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc09iamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgcnhTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gLypAX19QVVJFX18qLyBTeW1ib2woJ3J4U3Vic2NyaWJlcicpXG4gICAgICAgIDogJ0BAcnhTdWJzY3JpYmVyXycgKyAvKkBfX1BVUkVfXyovIE1hdGgucmFuZG9tKCk7XG59KSgpO1xuZXhwb3J0IHZhciAkJHJ4U3Vic2NyaWJlciA9IHJ4U3Vic2NyaWJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ4U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfaXNGdW5jdGlvbixfT2JzZXJ2ZXIsX1N1YnNjcmlwdGlvbixfaW50ZXJuYWxfc3ltYm9sX3J4U3Vic2NyaWJlcixfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuL09ic2VydmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9pbnRlcm5hbC9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGhvc3RSZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9ob3N0UmVwb3J0RXJyb3InO1xudmFyIFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVmFsdWUgPSBudWxsO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd24gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGVtcHR5T2JzZXJ2ZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbk9yTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGVtcHR5T2JzZXJ2ZXI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRlc3RpbmF0aW9uT3JOZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzdGluYXRpb25Pck5leHQgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBkZXN0aW5hdGlvbk9yTmV4dC5zeW5jRXJyb3JUaHJvd2FibGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uT3JOZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25Pck5leHQuYWRkKF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcihfdGhpcywgZGVzdGluYXRpb25Pck5leHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBTYWZlU3Vic2NyaWJlcihfdGhpcywgZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZVtyeFN1YnNjcmliZXJTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcbiAgICBTdWJzY3JpYmVyLmNyZWF0ZSA9IGZ1bmN0aW9uIChuZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBuZXcgU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBzdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX3Vuc3Vic2NyaWJlQW5kUmVjeWNsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRPclBhcmVudHMgPSB0aGlzLl9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIHRoaXMuX3BhcmVudE9yUGFyZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gU3Vic2NyaWJlcjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBTdWJzY3JpYmVyIH07XG52YXIgU2FmZVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoU2FmZVN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2FmZVN1YnNjcmliZXIoX3BhcmVudFN1YnNjcmliZXIsIG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBfcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdmFyIG5leHQ7XG4gICAgICAgIHZhciBjb250ZXh0ID0gX3RoaXM7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSkge1xuICAgICAgICAgICAgbmV4dCA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9ic2VydmVyT3JOZXh0KSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQubmV4dDtcbiAgICAgICAgICAgIGVycm9yID0gb2JzZXJ2ZXJPck5leHQuZXJyb3I7XG4gICAgICAgICAgICBjb21wbGV0ZSA9IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlO1xuICAgICAgICAgICAgaWYgKG9ic2VydmVyT3JOZXh0ICE9PSBlbXB0eU9ic2VydmVyKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IE9iamVjdC5jcmVhdGUob2JzZXJ2ZXJPck5leHQpO1xuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQudW5zdWJzY3JpYmUpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZChjb250ZXh0LnVuc3Vic2NyaWJlLmJpbmQoY29udGV4dCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250ZXh0LnVuc3Vic2NyaWJlID0gX3RoaXMudW5zdWJzY3JpYmUuYmluZChfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICBfdGhpcy5fbmV4dCA9IG5leHQ7XG4gICAgICAgIF90aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICBfdGhpcy5fY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkICYmIHRoaXMuX25leHQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9uZXh0LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgdGhpcy5fbmV4dCwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICB2YXIgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyA9IGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fZXJyb3IsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICBfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB2YXIgX3BhcmVudFN1YnNjcmliZXIgPSB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdyYXBwZWRDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLl9jb21wbGV0ZS5jYWxsKF90aGlzLl9jb250ZXh0KTsgfTtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nIHx8ICFfcGFyZW50U3Vic2NyaWJlci5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yVW5zdWIod3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHdyYXBwZWRDb21wbGV0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fX3RyeU9yVW5zdWIgPSBmdW5jdGlvbiAoZm4sIHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbi5jYWxsKHRoaXMuX2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JTZXRFcnJvciA9IGZ1bmN0aW9uIChwYXJlbnQsIGZuLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIWNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBjYWxsJyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgICAgICBwYXJlbnQuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgIHRoaXMuX2NvbnRleHQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wYXJlbnRTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgX3BhcmVudFN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIHJldHVybiBTYWZlU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU2FmZVN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIG9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlIHx8ICdAQG9ic2VydmFibGUnOyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eSh4KSB7XG4gICAgcmV0dXJuIHg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZGVudGl0eS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2lkZW50aXR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcbiAgICB2YXIgZm5zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBwaXBlRnJvbUFycmF5KGZucyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGlwZUZyb21BcnJheShmbnMpIHtcbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgfVxuICAgIGlmIChmbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmbnNbMF07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBwaXBlZChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZm4pIHsgcmV0dXJuIGZuKHByZXYpOyB9LCBpbnB1dCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2NhblJlcG9ydEVycm9yLF91dGlsX3RvU3Vic2NyaWJlcixfc3ltYm9sX29ic2VydmFibGUsX3V0aWxfcGlwZSxfY29uZmlnIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGNhblJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2NhblJlcG9ydEVycm9yJztcbmltcG9ydCB7IHRvU3Vic2NyaWJlciB9IGZyb20gJy4vdXRpbC90b1N1YnNjcmliZXInO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4vc3ltYm9sL29ic2VydmFibGUnO1xuaW1wb3J0IHsgcGlwZUZyb21BcnJheSB9IGZyb20gJy4vdXRpbC9waXBlJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbnZhciBPYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE9ic2VydmFibGUoc3Vic2NyaWJlKSB7XG4gICAgICAgIHRoaXMuX2lzU2NhbGFyID0gZmFsc2U7XG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBvYnNlcnZhYmxlID0gbmV3IE9ic2VydmFibGUoKTtcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xuICAgICAgICBvYnNlcnZhYmxlLm9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgdmFyIG9wZXJhdG9yID0gdGhpcy5vcGVyYXRvcjtcbiAgICAgICAgdmFyIHNpbmsgPSB0b1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIGlmIChvcGVyYXRvcikge1xuICAgICAgICAgICAgc2luay5hZGQob3BlcmF0b3IuY2FsbChzaW5rLCB0aGlzLnNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2luay5hZGQodGhpcy5zb3VyY2UgfHwgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nICYmICFzaW5rLnN5bmNFcnJvclRocm93YWJsZSkgP1xuICAgICAgICAgICAgICAgIHRoaXMuX3N1YnNjcmliZShzaW5rKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5U3Vic2NyaWJlKHNpbmspKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IHNpbmsuc3luY0Vycm9yVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaW5rO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzaW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhblJlcG9ydEVycm9yKHNpbmspKSB7XG4gICAgICAgICAgICAgICAgc2luay5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAobmV4dCwgcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCByZWplY3QsIHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG4gICAgICAgIHJldHVybiBzb3VyY2UgJiYgc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlW1N5bWJvbF9vYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgb3BlcmF0aW9uc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkob3BlcmF0aW9ucykodGhpcyk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh4KSB7IHJldHVybiB2YWx1ZSA9IHg7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2YWJsZSB9O1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpIHtcbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHByb21pc2VDdG9yID0gY29uZmlnLlByb21pc2UgfHwgUHJvbWlzZTtcbiAgICB9XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIFByb21pc2UgaW1wbCBmb3VuZCcpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZUN0b3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfU3Vic2NyaWJlcixfc3ltYm9sX3J4U3Vic2NyaWJlcixfT2JzZXJ2ZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4uL09ic2VydmVyJztcbmV4cG9ydCBmdW5jdGlvbiB0b1N1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgIGlmIChuZXh0T3JPYnNlcnZlcikge1xuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0pIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFuZXh0T3JPYnNlcnZlciAmJiAhZXJyb3IgJiYgIWNvbXBsZXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihlbXB0eU9ic2VydmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dG9TdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gY2FuUmVwb3J0RXJyb3Iob2JzZXJ2ZXIpIHtcbiAgICB3aGlsZSAob2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIF9hID0gb2JzZXJ2ZXIsIGNsb3NlZF8xID0gX2EuY2xvc2VkLCBkZXN0aW5hdGlvbiA9IF9hLmRlc3RpbmF0aW9uLCBpc1N0b3BwZWQgPSBfYS5pc1N0b3BwZWQ7XG4gICAgICAgIGlmIChjbG9zZWRfMSB8fCBpc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbiBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gZGVzdGluYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYW5SZXBvcnRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtYXAocHJvamVjdCwgdGhpc0FyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiBtYXBPcGVyYXRpb24oc291cmNlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvamVjdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24uIEFyZSB5b3UgbG9va2luZyBmb3IgYG1hcFRvKClgPycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgTWFwT3BlcmF0b3IocHJvamVjdCwgdGhpc0FyZykpO1xuICAgIH07XG59XG52YXIgTWFwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWFwT3BlcmF0b3IocHJvamVjdCwgdGhpc0FyZykge1xuICAgICAgICB0aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICB0aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgIH1cbiAgICBNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IE1hcFN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcm9qZWN0LCB0aGlzLnRoaXNBcmcpKTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBNYXBPcGVyYXRvciB9O1xudmFyIE1hcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTWFwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNYXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgX3RoaXMuY291bnQgPSAwO1xuICAgICAgICBfdGhpcy50aGlzQXJnID0gdGhpc0FyZyB8fCBfdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5wcm9qZWN0LmNhbGwodGhpcy50aGlzQXJnLCB2YWx1ZSwgdGhpcy5jb3VudCsrKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHJlc3VsdCk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pc0FycmF5LF91dGlsX2lzRnVuY3Rpb24sX29wZXJhdG9yc19tYXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uL29wZXJhdG9ycy9tYXAnO1xudmFyIHRvU3RyaW5nID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzsgfSkoKTtcbmV4cG9ydCBmdW5jdGlvbiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucykucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGlzQXJyYXkoYXJncykgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIGFyZ3MpIDogcmVzdWx0U2VsZWN0b3IoYXJncyk7IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoZSkge1xuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHRhcmdldCwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNldHVwU3Vic2NyaXB0aW9uKHNvdXJjZU9iaiwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKSB7XG4gICAgdmFyIHVuc3Vic2NyaWJlO1xuICAgIGlmIChpc0V2ZW50VGFyZ2V0KHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8xID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmouYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8xLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopKSB7XG4gICAgICAgIHZhciBzb3VyY2VfMiA9IHNvdXJjZU9iajtcbiAgICAgICAgc291cmNlT2JqLm9uKGV2ZW50TmFtZSwgaGFuZGxlcik7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzIub2ZmKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8zID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmouYWRkTGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMy5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChzb3VyY2VPYmogJiYgc291cmNlT2JqLmxlbmd0aCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc291cmNlT2JqLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBzZXR1cFN1YnNjcmlwdGlvbihzb3VyY2VPYmpbaV0sIGV2ZW50TmFtZSwgaGFuZGxlciwgc3Vic2NyaWJlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgdGFyZ2V0Jyk7XG4gICAgfVxuICAgIHN1YnNjcmliZXIuYWRkKHVuc3Vic2NyaWJlKTtcbn1cbmZ1bmN0aW9uIGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5hZGRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcihzb3VyY2VPYmopIHtcbiAgICByZXR1cm4gc291cmNlT2JqICYmIHR5cGVvZiBzb3VyY2VPYmoub24gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5vZmYgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0V2ZW50VGFyZ2V0KHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoucmVtb3ZlRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21FdmVudC5qcy5tYXBcbiIsImltcG9ydCB7IGZyb21FdmVudCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgRUNTTWFuYWdlciwgcmVnaXN0ZXJDb21wb25lbnRUeXBlLCBhZGRDb21wb25lbnQsIENvbXBvbmVudCwgcmVnaXN0ZXJTeXN0ZW0sIHJlZ2lzdGVyRXZlbnQgfSBmcm9tICduYWl2ZS10cy1lY3MnO1xuXG4vLyBzb3VyY2U6IGZvciByYW5kb20gY29sb3I6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0ODQ1MDYvcmFuZG9tLWNvbG9yLWdlbmVyYXRvciNjb21tZW50NjgwMTM1M181MzY1MDM2XG5cbi8vIGNyZWF0ZSBzb21lIHR5cGVzIHRoYXQgcmVwcmVzZW50IGNvbXBvbmVudHNcbmludGVyZmFjZSBDaXJjbGUge1xuICByYWRpdXM6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFBvc2l0aW9uIHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBWZWxvY2l0eSB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgQ29sb3JlZCB7XG4gIGNvbG9yOiBzdHJpbmc7XG59XG5cblxuaW50ZXJmYWNlIFVuaXF1ZVRhZyB7fVxuXG4vLyBjcmVhdGUgYSBtYW5hZ2VyXG5jb25zdCBtYW5hZ2VyID0gbmV3IEVDU01hbmFnZXIoKTtcblxuLy8gcmVnaXN0ZXIgeW91ciB0eXBlcyBpbiB0aGUgbWFuYWdlciB3aXRoIGRlZmF1bHQgdmFsdWVzXG5yZWdpc3RlckNvbXBvbmVudFR5cGU8Q2lyY2xlPihtYW5hZ2VyLCB7IHJhZGl1czogMTAgfSk7XG5yZWdpc3RlckNvbXBvbmVudFR5cGU8UG9zaXRpb24+KG1hbmFnZXIsIHsgeDogMCwgeTogMCB9KTtcbnJlZ2lzdGVyQ29tcG9uZW50VHlwZTxWZWxvY2l0eT4obWFuYWdlciwgeyB4OiAwLCB5OiAwIH0pO1xucmVnaXN0ZXJDb21wb25lbnRUeXBlPENvbG9yZWQ+KG1hbmFnZXIsIHsgY29sb3I6ICcjZmYwMDAwJyB9KTtcbnJlZ2lzdGVyQ29tcG9uZW50VHlwZTxVbmlxdWVUYWc+KG1hbmFnZXIsIHsgfSk7XG5cblxuZnJvbUV2ZW50KHdpbmRvdywgJ0RPTUNvbnRlbnRMb2FkZWQnKS5zdWJzY3JpYmUoKCkgPT4ge1xuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2F2ZVNob290Q2FudmFzJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG4gIGlmICghY2FudmFzKSB7XG4gICAgY29uc29sZS5lcnJvcignZmFpbGVkIHRvIGxvYWQgY2FudmFzIScpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG9uUmVzaXplID0gKCkgPT4ge1xuICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cbiAgZnJvbUV2ZW50KHdpbmRvdywgJ3Jlc2l6ZScpLnN1YnNjcmliZShvblJlc2l6ZSk7XG4gIG9uUmVzaXplKCk7XG5cblxuICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAvLyBjcmVhdGUgZW50aXRpZXMgYW5kIGF0dGFjaCBjb21wb25lbnRzIHRvIHRoZW1cbiAgY29uc3QgY3JlYXRlQ2lyY2xlRW50aXR5ID0gKHBvc1g6IG51bWJlciwgcG9zWTogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgY2lyY2xlTWF4U2l6ZSA9IDQwO1xuICAgIGNvbnN0IHsgZW50aXR5SWQgfSA9IG1hbmFnZXIuY3JlYXRlRW50aXR5KCk7XG4gICAgY29uc3QgcmFkaXVzID0gTWF0aC5yYW5kb20oKSAqIGNpcmNsZU1heFNpemU7XG4gICAgYWRkQ29tcG9uZW50PENpcmNsZT4obWFuYWdlciwgZW50aXR5SWQsIHsgcmFkaXVzOiByYWRpdXMgfSk7XG4gICAgYWRkQ29tcG9uZW50PFBvc2l0aW9uPihtYW5hZ2VyLCBlbnRpdHlJZCwgeyB4OiBwb3NYLCB5OiBwb3NZIH0pO1xuICAgIGFkZENvbXBvbmVudDxWZWxvY2l0eT4obWFuYWdlciwgZW50aXR5SWQsIHsgeDogTWF0aC5yYW5kb20oKSAqIDggKyAyLCB5OiBNYXRoLnJhbmRvbSgpICogOCArIDJ9KTtcbiAgICBhZGRDb21wb25lbnQ8Q29sb3JlZD4obWFuYWdlciwgZW50aXR5SWQsIHsgY29sb3I6ICcjJysoTWF0aC5yYW5kb20oKSoweEZGRkZGRjw8MCkudG9TdHJpbmcoMTYpIH0pO1xuICB9XG4gIFxuICAvLyBXZSBpbml0aWFsbHkgY3JlYXRlIDUwMFxuICBmb3IgKGxldCBpID0gMDsgaSA8IDUwMDsgaSsrKSB7XG4gICAgY3JlYXRlQ2lyY2xlRW50aXR5KE1hdGgucmFuZG9tKCkgKiBjYW52YXMud2lkdGgsIE1hdGgucmFuZG9tKCkgKiBjYW52YXMuaGVpZ2h0KTtcbiAgfVxuXG4gIC8vIGNyZWF0ZSBzeXN0ZW1zIHRoYXQgd2lsbCBydW4gZWFjaCBmcmFtZSBcbiAgLy8gYWxsIHN5c3RlbXMgdGFrZSBpbiBkZWx0YSB0aW1lIGFzIHRoZWlyIGZpcnN0IGFyZ3VtZW50ICh0aGUgdGltZSBzaW5jZSBsYXN0IGZyYW1lKVxuICAvLyBhbGwgb3RoZXIgYXJndW1lbnRzIG5lZWRzIHRvIGJlIHdyYXBwZWQgaW4gYSBDb21wb25lbnQ8VD5cbiAgY29uc3QgZHJhd0NpcmNsZVN5c3RlbSA9IChfZHQ6IG51bWJlciwgY2lyY2xlOiBDb21wb25lbnQ8Q2lyY2xlPiwgcG9zOiBDb21wb25lbnQ8UG9zaXRpb24+LCBjb2xvcjogQ29tcG9uZW50PENvbG9yZWQ+KSA9PiB7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yLmRhdGEuY29sb3I7XG4gICAgY3R4LmFyYyhwb3MuZGF0YS54LCBwb3MuZGF0YS55LCBjaXJjbGUuZGF0YS5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICBjdHguc3Ryb2tlKCk7XG4gIH1cblxuICAvLyBGb3Igc2ltcGxlIHF1ZXJ5IHJlcXVpcmVtZW50cyB0cy1lY3MgY2FuIGdlbmVyYXRlIHRoZSBxdWVyeSBmb3IgeW91IGJhc2Ugb24geW91ciBzeXN0ZW1cbiAgLy8gU2ltcGxlIG1lYW5pbmcgb25seSBcIkFORFwiIHNvIGluIHRoaXMgY2FzZSB3ZSBhc2sgZm9yIGFsbCBlbnRpdGllcyB3aXRoIGNpcmNsZSBhbmQgcG9zaXRpb24gYW5kIGNvbG9yXG4gIHJlZ2lzdGVyU3lzdGVtKG1hbmFnZXIsIGRyYXdDaXJjbGVTeXN0ZW0pO1xuXG4gIGNvbnN0IG1vdmVDaXJjbGVTeXN0ZW0gPSAoZHQ6IG51bWJlciwgcG9zOiBDb21wb25lbnQ8UG9zaXRpb24+LCB2ZWw6IENvbXBvbmVudDxWZWxvY2l0eT4pID0+IHtcbiAgICBwb3MuZGF0YS54ICs9IHZlbC5kYXRhLnggKiBkdDtcbiAgICBwb3MuZGF0YS55ICs9IHZlbC5kYXRhLnkgKiBkdDtcbiAgfVxuICByZWdpc3RlclN5c3RlbShtYW5hZ2VyLCBtb3ZlQ2lyY2xlU3lzdGVtKTtcblxuICBjb25zdCByZXNldFBvc1N5c3RlbSA9IChfZHQ6IG51bWJlciwgcG9zOiBDb21wb25lbnQ8UG9zaXRpb24+LCBjaXJjbGU6IENvbXBvbmVudDxDaXJjbGU+KSA9PiB7XG4gICAgaWYgKHBvcy5kYXRhLnggLSBjaXJjbGUuZGF0YS5yYWRpdXMgKiAyID4gY2FudmFzLndpZHRoIFxuICAgICAgJiYgcG9zLmRhdGEueSAtIGNpcmNsZS5kYXRhLnJhZGl1cyAqIDIgPiBjYW52YXMuaGVpZ2h0KSB7XG4gICAgICAgIHBvcy5kYXRhLnggPSAtTWF0aC5yYW5kb20oKSAqIChjYW52YXMud2lkdGggKiAwLjA1KTtcbiAgICAgICAgcG9zLmRhdGEueSA9IC1NYXRoLnJhbmRvbSgpICogKGNhbnZhcy5oZWlnaHQgKiAwLjA1KTtcbiAgICAgIH0gXG4gIH1cbiAgcmVnaXN0ZXJTeXN0ZW0obWFuYWdlciwgcmVzZXRQb3NTeXN0ZW0pO1xuXG4gIGNvbnN0IHsgZW50aXR5SWQgfSA9IG1hbmFnZXIuY3JlYXRlRW50aXR5KCk7XG4gIGFkZENvbXBvbmVudDxVbmlxdWVUYWc+KG1hbmFnZXIsIGVudGl0eUlkLCB7IH0pO1xuICBcbiAgLy8gY3JlYXRlIGV2ZW50cyB0aGF0IHdpbGwgcnVuIG9uIHJlcXVlc3QvZXZlbnRcbiAgY29uc3Qgc3Bhd25DaXJjbGVFdmVudCA9IChldmVudDogRXZlbnQsIF91bmlxdWU6IENvbXBvbmVudDxVbmlxdWVUYWc+KSA9PiB7XG4gICAgY29uc3QgZSA9IGV2ZW50IGFzIE1vdXNlRXZlbnQ7XG4gICAgXG4gICAgY3JlYXRlQ2lyY2xlRW50aXR5KGUueCAtIGNhbnZhcy5vZmZzZXRMZWZ0LCBlLnkgLSBjYW52YXMub2Zmc2V0VG9wKVxuICB9XG5cbiAgLy8gZXZlbnRzIGFyZSByYXRoZXIgcHJpbWl0aXZlIGFuZCBuZWVkcyB0byBiZSBjYWxsZWQgbWFudWFsbHkgd2l0aCB0aGUgaWQgXG4gIC8vIHJldHVybmVkIGJ5IHRoZSByZWdpc3RlciBmdW5jdGlvblxuICBjb25zdCBvblVzZXJDbGljayA9IHJlZ2lzdGVyRXZlbnQobWFuYWdlciwgc3Bhd25DaXJjbGVFdmVudCk7XG4gIGZyb21FdmVudChjYW52YXMsICdjbGljaycpLnN1YnNjcmliZShlID0+IG1hbmFnZXIub25FdmVudChvblVzZXJDbGljaywgZSkpO1xuXG5cbiAgY29uc3QgdGljayA9ICgpID0+IHtcbiAgICBjdHguZmlsbFN0eWxlID0gJyMwMDAwMDAnO1xuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgIG1hbmFnZXIuZGlzcGF0Y2goKTtcbiAgICBcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xuICB9O1xuICBcbiAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcbn0pOyJdLCJzb3VyY2VSb290IjoiIn0=