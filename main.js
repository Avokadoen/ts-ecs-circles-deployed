!function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.isQueryLeafNode=e.isQueryNode=e.queryTokenFromString=e.QueryToken=void 0,function(t){t[t.AND=0]="AND",t[t.OR=1]="OR",t[t.NOT=2]="NOT",t[t.SHARED=3]="SHARED"}(n=e.QueryToken||(e.QueryToken={})),e.queryTokenFromString=function(t){switch(null==t?void 0:t.toLowerCase()){case"and":return n.AND;case"or":return n.OR;case"not":return n.NOT;case"shared":return n.SHARED;default:return null}},e.isQueryNode=function(t){return void 0!==t.token},e.isQueryLeafNode=function(t){return void 0!==t.typeStr}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryBuilder=e.createQueryFromIdentifierList=void 0;var n,o=r(0);!function(t){t[t.Node=0]="Node",t[t.LeafNode=1]="LeafNode"}(n||(n={})),e.createQueryFromIdentifierList=function(t){var e=!1,r=function(t){for(var n=new i,s=0;s<t.length;s++){var u=t[s].split("[");n.identifier(u[0]);var c=s===t.length-1,a=!e&&!c&&t[s+1].split("[").length>1;if(c||a){if(a){e=!0,n.token(o.QueryToken.OR),n.token(o.QueryToken.SHARED),n.append(r(t.slice(s+1,t.length)));break}}else n.token(o.QueryToken.AND)}return n.build()};return r(t)};var i=function(){function t(t){return this.root=t||{token:null},this.currentNode=this.root,this}return Object.defineProperty(t.prototype,"workingNode",{get:function(){return this.currentNode},enumerable:!1,configurable:!0}),t.prototype.identifier=function(t){return this.lastChange===n.LeafNode||(this.lastChange=n.LeafNode,this.currentNode.leftChild?this.currentNode.rightChild||(this.currentNode.rightChild={typeStr:t}):this.currentNode.leftChild={typeStr:t}),this},t.prototype.token=function(t){if(this.lastChange=n.Node,null===this.currentNode.token)this.currentNode.token=t;else if(this.currentNode.leftChild){if(this.currentNode.rightChild){var e=this.currentNode.rightChild;this.currentNode.rightChild={token:t,leftChild:e}}else this.currentNode.rightChild={token:t};this.currentNode=this.currentNode.rightChild}else this.currentNode.leftChild={token:t},this.currentNode=this.currentNode.leftChild;return this},t.prototype.append=function(t){if(this.lastChange!==n.LeafNode)if(this.currentNode.leftChild)if(this.currentNode.rightChild){this.currentNode.rightChild;this.currentNode.rightChild={token:o.QueryToken.AND,leftChild:t}}else this.currentNode.rightChild=t;else this.currentNode.leftChild=t},t.prototype.build=function(){var t=this.root;return this.root={token:null},this.currentNode=this.root,null===t.token&&(t.token=o.QueryToken.OR),t},t}();e.QueryBuilder=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DispatchSubject=void 0;var n=function(){function t(){this.observers=[]}return t.prototype.subscribe=function(t){this.observers.indexOf(t)>=0||this.observers.push(t)},t.prototype.unsubscribe=function(t){var e=this.observers.indexOf(t);e<0||this.observers.splice(e,1)},t.prototype.trigger=function(t){this.observers.forEach((function(e){return e(t)})),this.observers.length>0&&(this.observers=[])},t}();e.DispatchSubject=n},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),o(r(4),e),o(r(5),e),o(r(0),e),o(r(6),e),o(r(1),e),o(r(7),e),o(r(2),e)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ECSManager=e.EntityBuilder=void 0;var o=r(0),i=r(2),s=r(1),u=r(8),c=r(9),a=function(){function t(t,e){this.id=t,this.ecsManager=e}return Object.defineProperty(t.prototype,"entityId",{get:function(){return this.id},enumerable:!1,configurable:!0}),t.prototype.addComponent=function(t,e){return this.ecsManager.addComponent(this.id,t,e,this)},t.prototype.removeComponent=function(t){return this.ecsManager.removeComponent(this.id,t,this)},t}();e.EntityBuilder=a;var l=function(){function t(){this.events=[],this.systems=[],this.entities=[],this.components=new Map,this.entityId=0,this.afterUpdateLoop=new i.DispatchSubject,this.isRunningSystems=!1}return t.prototype.registerEventWithEscQuery=function(t,e){return this.events.push({query:e,qResult:this.queryEntities(e),system:t}),this.events.length-1},t.prototype.registerEvent=function(t,e){var r=s.createQueryFromIdentifierList(e);return this.registerEventWithEscQuery(t,r)},t.prototype.registerSystemWithEscQuery=function(t,e){this.systems.push({query:e,qResult:this.queryEntities(e),system:t})},t.prototype.registerSystem=function(t,e){var r=s.createQueryFromIdentifierList(e);this.registerSystemWithEscQuery(t,r)},t.prototype.createEntity=function(){return this.entities.push({id:this.entityId++}),new a(this.entityId-1,this)},t.prototype.registerComponentType=function(t,e){this.components.has(t)||this.components.set(t,new u.ComponentPool(e))},t.prototype.addComponent=function(t,e,r,n){var o=this,i=function(e){return null!=e?e:new a(t,o)};if(this.components.has(e)){var s=this.components.get(e);if(!(null==s?void 0:s.find((function(e){return e.entityId===t}))))return this.isRunningSystems?(this.afterUpdateLoop.subscribe((function(){o.addComponent(t,e,r)})),i(n)):(s.add(t,r),this.invalidateQueryResults(e),i(n))}},t.prototype.removeComponent=function(t,e,r){var n=this;if(!this.isRunningSystems)return this.components.get(e).remove(t),this.invalidateQueryResults(e),null!=r?r:new a(t,this);this.afterUpdateLoop.subscribe((function(){n.removeComponent(t,e)}))},t.prototype.queryEntities=function(t){var e,r,i,s,u=this,a=function(t,e){var r,o,i=t.findIndex((function(t){return t.id===e.id}));if(i<0)t.push(e);else{var s=function(e){t[i].components.find((function(t){return t===e}))||t[i].components.push(e)};try{for(var u=n(e.components),c=u.next();!c.done;c=u.next()){s(c.value)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}}return t},l=function(t){var e;if(!t)return[];if(!o.isQueryNode(t)){var r=t.typeStr,i=u.components.get(r);return null!==(e=null==i?void 0:i.filter((function(t){return c.isNumber(t.entityId)&&t.entityId>=0})).reduce((function(t,e,n){var o=t.findIndex((function(t){return t.id===e.entityId})),i={typeStr:r,index:n};if(o<0){var s={id:e.entityId,components:[i]};t.push(s)}else{t[o].components.find((function(t){return t.index===i.index&&t.typeStr===i.typeStr}))||t[o].components.push(i)}return t}),[]))&&void 0!==e?e:[]}var s=l(t.leftChild),f=l(t.rightChild);switch(t.token){case o.QueryToken.AND:return function(t,e){var r,o,i=[],s=function(t){var r=e.findIndex((function(e){return e.id===t.id}));if(r<0)return"continue";var n=e.splice(r,1);n.length>=1&&i.push({id:t.id,components:t.components.concat(n[0].components)})};try{for(var u=n(t),c=u.next();!c.done;c=u.next()){s(c.value)}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return i}(s,f);case o.QueryToken.OR:return s.concat(f).reduce(a,[]);case o.QueryToken.NOT:return s.filter((function(t){return!f.find((function(e){return e.id==t.id}))}));case o.QueryToken.SHARED:return[]}},f=function(t){if(t&&!o.isQueryLeafNode(t)){if(t.token===o.QueryToken.SHARED)return t;var e=f(t.leftChild),r=f(t.rightChild);return null!=e?e:r}},p=f(t),h=l(null==p?void 0:p.leftChild),d=void 0;if(h.length>0){var y=h.map((function(t){return t.components}));d=new Array(y[0].length);var v=[];try{for(var b=n(y),g=b.next();!g.done;g=b.next()){var m=g.value,w=function(t){var e=v.findIndex((function(e){return e===t.typeStr}));e<0&&(e=v.length,v.push(t.typeStr)),d[e]?d[e]=d[e].concat(S.components.get(t.typeStr).unsafeGet(t.index)):d[e]=[S.components.get(t.typeStr).unsafeGet(t.index)]},S=this;try{for(var _=(i=void 0,n(m)),E=_.next();!E.done;E=_.next()){w(E.value)}}catch(t){i={error:t}}finally{try{E&&!E.done&&(s=_.return)&&s.call(_)}finally{if(i)throw i.error}}}}catch(t){e={error:t}}finally{try{g&&!g.done&&(r=b.return)&&r.call(b)}finally{if(e)throw e.error}}}return{sharedArgs:d,entities:l(t)}},t.prototype.accessComponentData=function(t,e){var r,n=this.components.get(e);return null===(r=null==n?void 0:n.find((function(e){return e.entityId===t})))||void 0===r?void 0:r.data},t.prototype.onEvent=function(t,e){var r,o;this.isRunningSystems=!0;var i=this.events[t],s=[e];try{for(var u=n(i.qResult.entities),c=u.next();!c.done;c=u.next()){var a=c.value,l=s.concat(this.createArgs(a));this.events[t].system.apply(null,l.concat(i.qResult.sharedArgs))}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}this.isRunningSystems=!1,this.afterUpdateLoop.trigger()},t.prototype.dispatch=function(){var t,e,r,o;this.isRunningSystems=!0,this.prevRun=this.prevRun?this.prevRun:Date.now();var i=Date.now(),s=[(i-this.prevRun)/1e3];try{for(var u=n(this.systems),c=u.next();!c.done;c=u.next()){var a=c.value;try{for(var l=(r=void 0,n(a.qResult.entities)),f=l.next();!f.done;f=l.next()){var p=f.value,h=s.concat(this.createArgs(p));a.system.apply(null,h.concat(a.qResult.sharedArgs))}}catch(t){r={error:t}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}this.isRunningSystems=!1,this.afterUpdateLoop.trigger(),this.prevRun=i},t.prototype.createArgs=function(t){var e,r,o=[];try{for(var i=n(t.components),s=i.next();!s.done;s=i.next()){var u=s.value,c=this.components.get(u.typeStr).unsafeGet(u.index);o.push(c)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return o},t.prototype.invalidateQueryResults=function(t){var e,r,i,s,u=this,c=function(t,e){return!!e&&(o.isQueryNode(e)?!!c(t,e.leftChild)||!!c(t,e.rightChild):e.typeStr===t)},a=function(e){return c(t,e.query)?u.queryEntities(e.query):e.qResult};try{for(var l=n(this.systems),f=l.next();!f.done;f=l.next()){(d=f.value).qResult=a(d)}}catch(t){e={error:t}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}try{for(var p=n(this.events),h=p.next();!h.done;h=p.next()){var d;(d=h.value).qResult=a(d)}}catch(t){i={error:t}}finally{try{h&&!h.done&&(s=p.return)&&s.call(p)}finally{if(i)throw i.error}}},t}();e.ECSManager=l},function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ComponentPool=void 0;var o=function(){function t(t,e){void 0===e&&(e=20),this.stride=e,this.pool=[],this.length=0,this.pos=0,this.defaultValue=t,this.onExpandPool(!0)}return t.prototype.add=function(t,e){this.length>=this.pool.length&&this.onExpandPool(),this.pool[this.length].entityId=t;var r=null!=e?e:this.defaultValue;this.deepAssign(this.pool[this.length].data,r),this.length+=1},t.prototype.remove=function(t){var e=this.pool.findIndex((function(e){return e.entityId===t}));if(!(e<0)){var r=this.pool[e],n=this.length-1;this.pool[e]=this.pool[n],r.entityId=-1,this.pool[n]=r,this.length=n}},t.prototype[Symbol.iterator]=function(){return this},t.prototype.next=function(){return this.pos<this.length?{done:!1,value:this.pool[this.pos++]}:(this.pos=0,{done:!0,value:null})},t.prototype.unsafeGet=function(t){return this.pool[t]},t.prototype.find=function(t,e){var r,o;try{for(var i=n(this),s=i.next();!s.done;s=i.next()){var u=s.value;if(t(u,0,this.pool))return this.pos=0,u}}catch(t){r={error:t}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return null},t.prototype.filter=function(t,e){var r,o,i=[],s=0;try{for(var u=n(this),c=u.next();!c.done;c=u.next()){var a=c.value;t(a,s,this.pool)&&i.push(a),s+=1}}catch(t){r={error:t}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}return i},t.prototype.onExpandPool=function(t){t?this.pool=new Array(this.stride):this.pool.length+=this.stride;for(var e=this.length;e<this.pool.length;e++)this.pool[e]={entityId:-1,data:this.deepCopy(this.defaultValue)}},t.prototype.deepCopy=function(t){if(!t||"object"!=typeof t)return t;var e=Array.isArray(t)?[]:{};for(var r in t)e[r]=this.deepCopy(t[r]);return e},t.prototype.deepAssign=function(t,e){for(var r in Object.assign(t,e),e)"object"==typeof t[r]&&this.deepAssign(t[r],e[r])},t}();e.ComponentPool=o},function(t,e,r){(function(t){var n=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++)r[e[n]]=Object.getOwnPropertyDescriptor(t,e[n]);return r},o=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(u(arguments[r]));return e.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(t).replace(o,(function(t){if("%%"===t)return"%";if(r>=i)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return t}})),c=n[r];r<i;c=n[++r])y(c)||!w(c)?s+=" "+c:s+=" "+u(c);return s},e.deprecate=function(r,n){if(void 0!==t&&!0===t.noDeprecation)return r;if(void 0===t)return function(){return e.deprecate(r,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var i,s={};function u(t,r){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),d(r)?n.showHidden=r:r&&e._extend(n,r),g(n.showHidden)&&(n.showHidden=!1),g(n.depth)&&(n.depth=2),g(n.colors)&&(n.colors=!1),g(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=c),l(n,t,n.depth)}function c(t,e){var r=u.styles[e];return r?"["+u.colors[r][0]+"m"+t+"["+u.colors[r][1]+"m":t}function a(t,e){return t}function l(t,r,n){if(t.customInspect&&r&&E(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,t);return b(o)||(o=l(t,o,n)),o}var i=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(v(e))return t.stylize(""+e,"number");if(d(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,r);if(i)return i;var s=Object.keys(r),u=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(r)),_(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(E(r)){var c=r.name?": "+r.name:"";return t.stylize("[Function"+c+"]","special")}if(m(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return t.stylize(Date.prototype.toString.call(r),"date");if(_(r))return f(r)}var a,w="",x=!1,O=["{","}"];(h(r)&&(x=!0,O=["[","]"]),E(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return m(r)&&(w=" "+RegExp.prototype.toString.call(r)),S(r)&&(w=" "+Date.prototype.toUTCString.call(r)),_(r)&&(w=" "+f(r)),0!==s.length||x&&0!=r.length?n<0?m(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special"):(t.seen.push(r),a=x?function(t,e,r,n,o){for(var i=[],s=0,u=e.length;s<u;++s)C(e,String(s))?i.push(p(t,e,r,n,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(t,e,r,n,o,!0))})),i}(t,r,n,u,s):s.map((function(e){return p(t,r,n,u,e,x)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1];return r[0]+e+" "+t.join(", ")+" "+r[1]}(a,w,O)):O[0]+w+O[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,r,n,o,i){var s,u,c;if((c=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]}).get?u=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(u=t.stylize("[Setter]","special")),C(n,o)||(s="["+o+"]"),u||(t.seen.indexOf(c.value)<0?(u=y(r)?l(t,c.value,null):l(t,c.value,r-1)).indexOf("\n")>-1&&(u=i?u.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+u.split("\n").map((function(t){return"   "+t})).join("\n")):u=t.stylize("[Circular]","special")),g(s)){if(i&&o.match(/^\d+$/))return u;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+u}function h(t){return Array.isArray(t)}function d(t){return"boolean"==typeof t}function y(t){return null===t}function v(t){return"number"==typeof t}function b(t){return"string"==typeof t}function g(t){return void 0===t}function m(t){return w(t)&&"[object RegExp]"===x(t)}function w(t){return"object"==typeof t&&null!==t}function S(t){return w(t)&&"[object Date]"===x(t)}function _(t){return w(t)&&("[object Error]"===x(t)||t instanceof Error)}function E(t){return"function"==typeof t}function x(t){return Object.prototype.toString.call(t)}function O(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(r){if(g(i)&&(i=t.env.NODE_DEBUG||""),r=r.toUpperCase(),!s[r])if(new RegExp("\\b"+r+"\\b","i").test(i)){var n=t.pid;s[r]=function(){var t=e.format.apply(e,arguments);console.error("%s %d: %s",r,n,t)}}else s[r]=function(){};return s[r]},e.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=h,e.isBoolean=d,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=v,e.isString=b,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=m,e.isObject=w,e.isDate=S,e.isError=_,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=r(11);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var t=new Date,e=[O(t.getHours()),O(t.getMinutes()),O(t.getSeconds())].join(":");return[t.getDate(),T[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",j(),e.format.apply(e,arguments))},e.inherits=r(12),e._extend=function(t,e){if(!e||!w(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function N(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(P&&t[P]){var e;if("function"!=typeof(e=t[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,r,n=new Promise((function(t,n){e=t,r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(t,n){t?r(t):e(n)}));try{t.apply(this,o)}catch(t){r(t)}return n}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),P&&Object.defineProperty(e,P,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,n(t))},e.promisify.custom=P,e.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};e.apply(this,r).then((function(e){t.nextTick(s,null,e)}),(function(e){t.nextTick(N,e,s)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,n(e)),r}}).call(this,r(10))},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(t){n=s}}();var c,a=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?a=c.concat(a):f=-1,a.length&&h())}function h(){if(!l){var t=u(p);l=!0;for(var e=a.length;e;){for(c=a,a=[];++f<e;)c&&c[f].run();f=-1,e=a.length}c=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];a.push(new d(t,e)),1!==a.length||l||u(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";r.r(e);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function o(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function i(t){return"function"==typeof t}var s=!1,u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function c(t){setTimeout((function(){throw t}),0)}var a={closed:!0,next:function(t){},error:function(t){if(u.useDeprecatedSynchronousErrorHandling)throw t;c(t)},complete:function(){}},l=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();var f=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),p=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r,n=this._parentOrParents,o=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u){n[u].remove(this)}if(i(o))try{o.call(this)}catch(t){e=t instanceof f?h(t.errors):[t]}if(l(s)){u=-1;for(var c=s.length;++u<c;){var a=s[u];if(null!==(r=a)&&"object"==typeof r)try{a.unsubscribe()}catch(t){e=e||[],t instanceof f?e=e.concat(h(t.errors)):e.push(t)}}}if(e)throw new f(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof t){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function h(t){return t.reduce((function(t,e){return t.concat(e instanceof f?e.errors:e)}),[])}var d=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),y=function(t){function e(r,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=a;break;case 1:if(!r){i.destination=a;break}if("object"==typeof r){r instanceof e?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new v(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new v(i,r,n,o)}return i}return o(e,t),e.prototype[d]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(p),v=function(t){function e(e,r,n,o){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return i(r)?s=r:r&&(s=r.next,n=r.error,o=r.complete,r!==a&&(i((c=Object.create(r)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=n,u._complete=o,u}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=u.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):c(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;c(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw t;c(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return u.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(c(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(y);var b=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function g(t){return t}function m(t){return 0===t.length?g:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var w=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,o=function(t,e,r){if(t){if(t instanceof y)return t;if(t[d])return t[d]()}return t||e||r?new y(t,e,r):new y(a)}(t,e,r);if(n?o.add(n.call(o,this.source)):o.add(this.source||u.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),u.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,r=e.closed,n=e.destination,o=e.isStopped;if(r||o)return!1;t=n&&n instanceof y?n:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=S(e))((function(e,n){var o;o=r.subscribe((function(e){try{t(e)}catch(t){n(t),o&&o.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[b]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:m(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=S(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function S(t){if(t||(t=u.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var _=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new E(t,this.project,this.thisArg))},t}(),E=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(y);function x(t,e,r,n){return i(r)&&(n=r,r=void 0),n?x(t,e,r).pipe((o=function(t){return l(t)?n.apply(void 0,t):n(t)},function(t){if("function"!=typeof o)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new _(o,s))})):new w((function(n){!function t(e,r,n,o,i){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var u=e;e.addEventListener(r,n,i),s=function(){return u.removeEventListener(r,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(r,n),s=function(){return c.off(r,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var a=e;e.addListener(r,n),s=function(){return a.removeListener(r,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],r,n,o,i)}o.add(s)}(t,e,(function(t){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(t)}),n,r)}));var o,s}var O=new(r(3).ECSManager);O.registerComponentType("Circle",{radius:10}),O.registerComponentType("Position",{x:0,y:0}),O.registerComponentType("Velocity",{x:0,y:0}),O.registerComponentType("Colored",{color:"#ff0000"}),O.registerComponentType("UniqueTag",{}),x(window,"DOMContentLoaded").subscribe((function(){var t=document.getElementById("waveShootCanvas");if(t){t.width=window.innerWidth,t.height=window.innerHeight;for(var e=t.getContext("2d"),r=function(t,e){var r=O.createEntity().entityId,n=40*Math.random();O.addComponent(r,"Circle",{radius:n}),O.addComponent(r,"Position",{x:t,y:e}),O.addComponent(r,"Velocity",{x:8*Math.random()+2,y:8*Math.random()+2}),O.addComponent(r,"Colored",{color:"#"+(16777215*Math.random()<<0).toString(16)})},n=0;n<500;n++)r(Math.random()*t.width,Math.random()*t.height);O.registerSystem((function(t,r,n,o){e.beginPath(),e.strokeStyle=o.data.color,e.arc(n.data.x,n.data.y,r.data.radius,0,2*Math.PI),e.stroke()}),["Circle","Position","Colored"]);O.registerSystem((function(t,e,r){e.data.x+=r.data.x*t,e.data.y+=r.data.y*t}),["Position","Velocity"]);O.registerSystem((function(e,r,n){r.data.x-2*n.data.radius>t.width&&r.data.y-2*n.data.radius>t.height&&(r.data.x=-Math.random()*(.05*t.width),r.data.y=-Math.random()*(.05*t.height))}),["Position","Circle"]);var o=O.createEntity().entityId;O.addComponent(o,"UniqueTag",{});var i=O.registerEvent((function(e,n){var o=e;r(o.x-t.offsetLeft,o.y-t.offsetTop)}),["UniqueTag"]);x(t,"click").subscribe((function(t){return O.onEvent(i,t)}));var s=function(){e.fillStyle="#000000",e.fillRect(0,0,t.width,t.height),O.dispatch(),window.requestAnimationFrame(s)};window.requestAnimationFrame(s)}else console.error("failed to load canvas!")}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25haXZlLXRzLWVjcy9kaXN0L3NyYy9lY3MvZXNjLXF1ZXJ5Lm1vZGVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvZWNzL3F1ZXJ5LWJ1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25haXZlLXRzLWVjcy9kaXN0L3NyYy9vYnNlcnZlci9kaXNwYXRjaC1zdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFpdmUtdHMtZWNzL2Rpc3Qvc3JjL2Vjcy9jb21wb25lbnQubW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL25haXZlLXRzLWVjcy9kaXN0L3NyYy9lY3MvZW50aXR5Lm1vZGVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvZWNzL3N5c3RlbS5tb2RlbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbmFpdmUtdHMtZWNzL2Rpc3Qvc3JjL2Vjcy9tYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9uYWl2ZS10cy1lY3MvZGlzdC9zcmMvcG9vbC9jb21wb25lbnQtcG9vbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXRpbC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaG9zdFJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNPYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc3ltYm9sL3J4U3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9waXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC90b1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9jYW5SZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlF1ZXJ5VG9rZW4iLCJpc1F1ZXJ5TGVhZk5vZGUiLCJpc1F1ZXJ5Tm9kZSIsInF1ZXJ5VG9rZW5Gcm9tU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJBTkQiLCJPUiIsIk5PVCIsIlNIQVJFRCIsIm5vZGUiLCJ1bmRlZmluZWQiLCJ0b2tlbiIsInR5cGVTdHIiLCJRdWVyeUJ1aWxkZXIiLCJjcmVhdGVRdWVyeUZyb21JZGVudGlmaWVyTGlzdCIsIlN0YXRlQ2hhbmdlIiwiZXNjX3F1ZXJ5X21vZGVsXzEiLCJpZGVudGlmaWVycyIsInNoYXJlZFNldCIsImNyZWF0ZVRyZWUiLCJxQnVpbGRlciIsImxlbmd0aCIsImlkZW50aWZpZXJTcGxpdCIsInNwbGl0IiwiaWRlbnRpZmllciIsIm9uTGFzdCIsIm5leHRJc1NoYXJlZCIsImFwcGVuZCIsInNsaWNlIiwiYnVpbGQiLCJzdGF0ZSIsInRoaXMiLCJyb290IiwiY3VycmVudE5vZGUiLCJjb25maWd1cmFibGUiLCJsYXN0Q2hhbmdlIiwiTGVhZk5vZGUiLCJsZWZ0Q2hpbGQiLCJyaWdodENoaWxkIiwiTm9kZSIsInRyZWUiLCJxdWVyeSIsIkRpc3BhdGNoU3ViamVjdCIsIm9ic2VydmVycyIsInN1YnNjcmliZSIsIm9ic2VydmVyIiwiaW5kZXhPZiIsInB1c2giLCJ1bnN1YnNjcmliZSIsImluZGV4Iiwic3BsaWNlIiwidHJpZ2dlciIsIm9ic2VydmVkIiwiZm9yRWFjaCIsIl9fY3JlYXRlQmluZGluZyIsImsiLCJrMiIsIl9fZXhwb3J0U3RhciIsIl9fdmFsdWVzIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsIlR5cGVFcnJvciIsIkVDU01hbmFnZXIiLCJFbnRpdHlCdWlsZGVyIiwiZGlzcGF0Y2hfc3ViamVjdF8xIiwicXVlcnlfYnVpbGRlcl8xIiwiY29tcG9uZW50X3Bvb2xfMSIsInV0aWxfMSIsImlkIiwiZWNzTWFuYWdlciIsImFkZENvbXBvbmVudCIsImNvbXBvbmVudCIsInJlbW92ZUNvbXBvbmVudCIsInR5cGVTdHJzIiwiZXZlbnRzIiwic3lzdGVtcyIsImVudGl0aWVzIiwiY29tcG9uZW50cyIsIk1hcCIsImVudGl0eUlkIiwiYWZ0ZXJVcGRhdGVMb29wIiwiaXNSdW5uaW5nU3lzdGVtcyIsInJlZ2lzdGVyRXZlbnRXaXRoRXNjUXVlcnkiLCJzeXN0ZW0iLCJxUmVzdWx0IiwicXVlcnlFbnRpdGllcyIsInJlZ2lzdGVyRXZlbnQiLCJyZWdpc3RlclN5c3RlbVdpdGhFc2NRdWVyeSIsInJlZ2lzdGVyU3lzdGVtIiwiY3JlYXRlRW50aXR5IiwicmVnaXN0ZXJDb21wb25lbnRUeXBlIiwiZGVmYXVsdFZhbHVlIiwiaGFzIiwic2V0IiwiQ29tcG9uZW50UG9vbCIsImJ1aWxkZXIiLCJfdGhpcyIsImJ1aWxkZXJSdHIiLCJmaW5kIiwiYWRkIiwiaW52YWxpZGF0ZVF1ZXJ5UmVzdWx0cyIsInJlbW92ZSIsImVfMSIsIl9hIiwiZV8yIiwiX2IiLCJvclJlZHVjZXIiLCJwcmV2aW91c1ZhbHVlcyIsImVfNCIsImZpbmRJbmRleCIsIl9sb29wXzMiLCJjb21wIiwiX2MiLCJlXzRfMSIsImVycm9yIiwicmV0dXJuIiwicXVlcnlTdGVwIiwidHlwZVN0cl8xIiwiZmlsdGVyIiwiaXNOdW1iZXIiLCJyZWR1Y2UiLCJjdXJyZW50SW5kZXgiLCJuZXdDb21wIiwibmV3RW50cnkiLCJxTFJlc3VsdCIsInFSUmVzdWx0XzEiLCJsZWZ0IiwicmlndGgiLCJlXzMiLCJ2YWx1ZXMiLCJfbG9vcF8yIiwiZW50cnkiLCJySW5kZXgiLCJyRSIsImZvdW5kIiwiY29uY2F0IiwibGVmdF8xIiwibGVmdF8xXzEiLCJlXzNfMSIsImFuZEZuIiwiZW50aXR5Iiwib2UiLCJmaW5kU2hhcmVkIiwibGVmdExpc3QiLCJyaWdodExpc3QiLCJzaGFyZWROb2RlIiwic2hhcmVkRW50aXRpZXMiLCJzaGFyZWRBcmdzIiwiY29tcEVudHJpZXMiLCJtYXAiLCJBcnJheSIsInR5cGVNYXAiLCJjb21wRW50cmllc18xIiwiY29tcEVudHJpZXNfMV8xIiwiX2xvb3BfMSIsInRoaXNfMSIsInVuc2FmZUdldCIsImVudHJ5XzEiLCJlbnRyeV8xXzEiLCJlXzJfMSIsImVfMV8xIiwiYWNjZXNzQ29tcG9uZW50RGF0YSIsImRhdGEiLCJvbkV2ZW50IiwiZXZlbnQiLCJlXzUiLCJzdWJzY3JpYmVyIiwiZXZlbnRBcnIiLCJhcmdzIiwiY3JlYXRlQXJncyIsImFwcGx5IiwiZV81XzEiLCJkaXNwYXRjaCIsImVfNiIsImVfNyIsInByZXZSdW4iLCJEYXRlIiwibm93IiwiZGVsdGFUaW1lIiwiX2QiLCJfZSIsIl9mIiwiZV83XzEiLCJlXzZfMSIsImVfOCIsImFyZ0NvbXAiLCJlXzhfMSIsImNoYW5nZVR5cGVTdHIiLCJlXzkiLCJlXzEwIiwiaXNDb21wb25lbnRJblF1ZXJ5IiwidXBkYXRlZFN5c3RlbSIsImVfOV8xIiwiZV8xMF8xIiwic3RyaWRlIiwicG9vbCIsInBvcyIsIm9uRXhwYW5kUG9vbCIsIm92ZXJyaWRlIiwidGFyZ2V0IiwiZGVlcEFzc2lnbiIsInJlbW92ZWQiLCJsYXN0SW5kZXgiLCJwcmVkaWNhdGUiLCJ0aGlzQXJnIiwiY2FsbGJhY2tmbiIsInJlc3VsdCIsImZpcnN0RXhwYW5kIiwiZGVlcENvcHkiLCJzb3VyY2UiLCJjb3B5IiwiaXNBcnJheSIsImFzc2lnbiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJvYmoiLCJrZXlzIiwiZGVzY3JpcHRvcnMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJmb3JtYXRSZWdFeHAiLCJmb3JtYXQiLCJmIiwiaXNTdHJpbmciLCJvYmplY3RzIiwiYXJndW1lbnRzIiwiaW5zcGVjdCIsImpvaW4iLCJsZW4iLCJzdHIiLCJTdHJpbmciLCJyZXBsYWNlIiwieCIsIk51bWJlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJfIiwiaXNOdWxsIiwiaXNPYmplY3QiLCJkZXByZWNhdGUiLCJmbiIsIm1zZyIsInByb2Nlc3MiLCJub0RlcHJlY2F0aW9uIiwid2FybmVkIiwidGhyb3dEZXByZWNhdGlvbiIsIkVycm9yIiwidHJhY2VEZXByZWNhdGlvbiIsImNvbnNvbGUiLCJ0cmFjZSIsImRlYnVnRW52aXJvbiIsImRlYnVncyIsIm9wdHMiLCJjdHgiLCJzZWVuIiwic3R5bGl6ZSIsInN0eWxpemVOb0NvbG9yIiwiZGVwdGgiLCJjb2xvcnMiLCJpc0Jvb2xlYW4iLCJzaG93SGlkZGVuIiwiX2V4dGVuZCIsImlzVW5kZWZpbmVkIiwiY3VzdG9tSW5zcGVjdCIsInN0eWxpemVXaXRoQ29sb3IiLCJmb3JtYXRWYWx1ZSIsInN0eWxlVHlwZSIsInN0eWxlIiwic3R5bGVzIiwicmVjdXJzZVRpbWVzIiwiaXNGdW5jdGlvbiIsImNvbnN0cnVjdG9yIiwicmV0IiwicHJpbWl0aXZlIiwic2ltcGxlIiwiZm9ybWF0UHJpbWl0aXZlIiwidmlzaWJsZUtleXMiLCJhcnJheSIsImhhc2giLCJ2YWwiLCJpZHgiLCJhcnJheVRvSGFzaCIsImdldE93blByb3BlcnR5TmFtZXMiLCJpc0Vycm9yIiwiZm9ybWF0RXJyb3IiLCJpc1JlZ0V4cCIsIlJlZ0V4cCIsInRvU3RyaW5nIiwiaXNEYXRlIiwib3V0cHV0IiwiYmFzZSIsImJyYWNlcyIsInRvVVRDU3RyaW5nIiwiZm9ybWF0UHJvcGVydHkiLCJtYXRjaCIsImZvcm1hdEFycmF5IiwicG9wIiwicHJldiIsImN1ciIsIm51bUxpbmVzRXN0IiwicmVkdWNlVG9TaW5nbGVTdHJpbmciLCJkZXNjIiwibGluZSIsInN1YnN0ciIsImFyIiwiYXJnIiwicmUiLCJvYmplY3RUb1N0cmluZyIsImUiLCJwYWQiLCJkZWJ1Z2xvZyIsImVudiIsIk5PREVfREVCVUciLCJ0b1VwcGVyQ2FzZSIsInRlc3QiLCJwaWQiLCJpc051bGxPclVuZGVmaW5lZCIsImlzU3ltYm9sIiwiaXNQcmltaXRpdmUiLCJpc0J1ZmZlciIsIm1vbnRocyIsInRpbWVzdGFtcCIsInRpbWUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwicHJvcCIsImxvZyIsImluaGVyaXRzIiwib3JpZ2luIiwia0N1c3RvbVByb21pc2lmaWVkU3ltYm9sIiwiY2FsbGJhY2tpZnlPblJlamVjdGVkIiwicmVhc29uIiwiY2IiLCJuZXdSZWFzb24iLCJwcm9taXNpZnkiLCJvcmlnaW5hbCIsIndyaXRhYmxlIiwicHJvbWlzZVJlc29sdmUiLCJwcm9taXNlUmVqZWN0IiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyIiwic2V0UHJvdG90eXBlT2YiLCJnZXRQcm90b3R5cGVPZiIsImRlZmluZVByb3BlcnRpZXMiLCJjdXN0b20iLCJjYWxsYmFja2lmeSIsImNhbGxiYWNraWZpZWQiLCJtYXliZUNiIiwic2VsZiIsInRoZW4iLCJuZXh0VGljayIsInJlaiIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJkcmFpblF1ZXVlIiwidGltZW91dCIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJub29wIiwidGl0bGUiLCJicm93c2VyIiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiZmlsbCIsInJlYWRVSW50OCIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJUZW1wQ3RvciIsImV4dGVuZFN0YXRpY3MiLCJiIiwiX19wcm90b19fIiwiX19leHRlbmRzIiwiX18iLCJfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MiLCJjb25maWciLCJzdGFjayIsImhvc3RSZXBvcnRFcnJvciIsImVtcHR5IiwiY2xvc2VkIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsImNvbXBsZXRlIiwiVW5zdWJzY3JpcHRpb25FcnJvciIsIlVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsIiwiZXJyb3JzIiwibWVzc2FnZSIsIlN1YnNjcmlwdGlvbiIsIl9wYXJlbnRPclBhcmVudHMiLCJfc3Vic2NyaXB0aW9ucyIsIl91bnN1YnNjcmliZSIsImZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyIsInN1YiIsInRlYXJkb3duIiwic3Vic2NyaXB0aW9uIiwiRU1QVFkiLCJ0bXAiLCJzdWJzY3JpcHRpb25zIiwic3Vic2NyaXB0aW9uSW5kZXgiLCJlcnJzIiwicnhTdWJzY3JpYmVyIiwiTWF0aCIsInJhbmRvbSIsIl9zdXBlciIsIlN1YnNjcmliZXIiLCJkZXN0aW5hdGlvbk9yTmV4dCIsInN5bmNFcnJvclZhbHVlIiwic3luY0Vycm9yVGhyb3duIiwic3luY0Vycm9yVGhyb3dhYmxlIiwiaXNTdG9wcGVkIiwiZGVzdGluYXRpb24iLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl91bnN1YnNjcmliZUFuZFJlY3ljbGUiLCJTYWZlU3Vic2NyaWJlciIsIl9wYXJlbnRTdWJzY3JpYmVyIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0IiwiX2NvbnRleHQiLCJfX3RyeU9yU2V0RXJyb3IiLCJfX3RyeU9yVW5zdWIiLCJ3cmFwcGVkQ29tcGxldGUiLCJwYXJlbnQiLCJvYnNlcnZhYmxlIiwiaWRlbnRpdHkiLCJwaXBlRnJvbUFycmF5IiwiZm5zIiwiaW5wdXQiLCJPYnNlcnZhYmxlIiwiX2lzU2NhbGFyIiwiX3N1YnNjcmliZSIsImxpZnQiLCJvcGVyYXRvciIsInNpbmsiLCJuZXh0T3JPYnNlcnZlciIsInRvU3Vic2NyaWJlciIsIl90cnlTdWJzY3JpYmUiLCJjbG9zZWRfMSIsImNhblJlcG9ydEVycm9yIiwid2FybiIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJwaXBlIiwib3BlcmF0aW9ucyIsIl9pIiwidG9Qcm9taXNlIiwiTWFwT3BlcmF0b3IiLCJwcm9qZWN0IiwiTWFwU3Vic2NyaWJlciIsImNvdW50IiwiZnJvbUV2ZW50IiwiZXZlbnROYW1lIiwib3B0aW9ucyIsInJlc3VsdFNlbGVjdG9yIiwic2V0dXBTdWJzY3JpcHRpb24iLCJzb3VyY2VPYmoiLCJoYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0Iiwic291cmNlXzEiLCJpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyIiwic291cmNlXzIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8zIiwibWFuYWdlciIsInJhZGl1cyIsInkiLCJjb2xvciIsIndpbmRvdyIsImNhbnZhcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImdldENvbnRleHQiLCJjcmVhdGVDaXJjbGVFbnRpdHkiLCJwb3NYIiwicG9zWSIsIl9kdCIsImNpcmNsZSIsImJlZ2luUGF0aCIsInN0cm9rZVN0eWxlIiwiYXJjIiwiUEkiLCJzdHJva2UiLCJkdCIsInZlbCIsIm9uVXNlckNsaWNrIiwiX3VuaXF1ZSIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJ0aWNrIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxF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LEVBQUlHLEVBQU91QixhQUtBLGVBQzNEM0MsRUFBVW9CLEVBQVEsU0FBUzVjLFdBQVUsU0FBQXVRLEdBQUssT0FBQWdNLEVBQVEvVSxRQUFRd1csRUFBYXpOLE1BR3ZFLElBQU02TixFQUFPLFdBQ1hwUixFQUFJcVIsVUFBWSxVQUNoQnJSLEVBQUlzUixTQUFTLEVBQUcsRUFBRzFCLEVBQU9HLE1BQU9ILEVBQU9LLFFBQ3hDVixFQUFRdFUsV0FFUjBVLE9BQU80QixzQkFBc0JILElBRy9CekIsT0FBTzRCLHNCQUFzQkgsUUE5RTNCelIsUUFBUXBJLE1BQU0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMyk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNRdWVyeUxlYWZOb2RlID0gZXhwb3J0cy5pc1F1ZXJ5Tm9kZSA9IGV4cG9ydHMucXVlcnlUb2tlbkZyb21TdHJpbmcgPSBleHBvcnRzLlF1ZXJ5VG9rZW4gPSB2b2lkIDA7XG4vKipcbiAqIERlZmluZXMgdGhlIGVuZCB1c2VyIGludGVudCB3aXRoIGEgZ2l2ZW4ge0BsaW5rIFF1ZXJ5Tm9kZX1cbiAqL1xudmFyIFF1ZXJ5VG9rZW47XG4oZnVuY3Rpb24gKFF1ZXJ5VG9rZW4pIHtcbiAgICBRdWVyeVRva2VuW1F1ZXJ5VG9rZW5bXCJBTkRcIl0gPSAwXSA9IFwiQU5EXCI7XG4gICAgUXVlcnlUb2tlbltRdWVyeVRva2VuW1wiT1JcIl0gPSAxXSA9IFwiT1JcIjtcbiAgICBRdWVyeVRva2VuW1F1ZXJ5VG9rZW5bXCJOT1RcIl0gPSAyXSA9IFwiTk9UXCI7XG4gICAgUXVlcnlUb2tlbltRdWVyeVRva2VuW1wiU0hBUkVEXCJdID0gM10gPSBcIlNIQVJFRFwiO1xufSkoUXVlcnlUb2tlbiA9IGV4cG9ydHMuUXVlcnlUb2tlbiB8fCAoZXhwb3J0cy5RdWVyeVRva2VuID0ge30pKTtcbmZ1bmN0aW9uIHF1ZXJ5VG9rZW5Gcm9tU3RyaW5nKHZhbHVlKSB7XG4gICAgc3dpdGNoICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBjYXNlICdhbmQnOlxuICAgICAgICAgICAgcmV0dXJuIFF1ZXJ5VG9rZW4uQU5EO1xuICAgICAgICBjYXNlICdvcic6XG4gICAgICAgICAgICByZXR1cm4gUXVlcnlUb2tlbi5PUjtcbiAgICAgICAgY2FzZSAnbm90JzpcbiAgICAgICAgICAgIHJldHVybiBRdWVyeVRva2VuLk5PVDtcbiAgICAgICAgY2FzZSAnc2hhcmVkJzpcbiAgICAgICAgICAgIHJldHVybiBRdWVyeVRva2VuLlNIQVJFRDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydHMucXVlcnlUb2tlbkZyb21TdHJpbmcgPSBxdWVyeVRva2VuRnJvbVN0cmluZztcbmZ1bmN0aW9uIGlzUXVlcnlOb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50b2tlbiAhPT0gdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5pc1F1ZXJ5Tm9kZSA9IGlzUXVlcnlOb2RlO1xuZnVuY3Rpb24gaXNRdWVyeUxlYWZOb2RlKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50eXBlU3RyICE9PSB1bmRlZmluZWQ7XG59XG5leHBvcnRzLmlzUXVlcnlMZWFmTm9kZSA9IGlzUXVlcnlMZWFmTm9kZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVzYy1xdWVyeS5tb2RlbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUXVlcnlCdWlsZGVyID0gZXhwb3J0cy5jcmVhdGVRdWVyeUZyb21JZGVudGlmaWVyTGlzdCA9IHZvaWQgMDtcbnZhciBlc2NfcXVlcnlfbW9kZWxfMSA9IHJlcXVpcmUoXCIuL2VzYy1xdWVyeS5tb2RlbFwiKTtcbnZhciBTdGF0ZUNoYW5nZTtcbihmdW5jdGlvbiAoU3RhdGVDaGFuZ2UpIHtcbiAgICBTdGF0ZUNoYW5nZVtTdGF0ZUNoYW5nZVtcIk5vZGVcIl0gPSAwXSA9IFwiTm9kZVwiO1xuICAgIFN0YXRlQ2hhbmdlW1N0YXRlQ2hhbmdlW1wiTGVhZk5vZGVcIl0gPSAxXSA9IFwiTGVhZk5vZGVcIjtcbn0pKFN0YXRlQ2hhbmdlIHx8IChTdGF0ZUNoYW5nZSA9IHt9KSk7XG4vLyBUT0RPOiB0aGlzIHNlZW1zIGxpa2UgaXQgc2hvdWxkIGJlIGEgc3RhdGUgbWFjaGluZVxuLy8gVE9ETzogd2Ugc2hvdWxkIGp1c3Qgd3JpdGUgYSB0ZXh0IHBhcnNlciBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBidWlsZGVyXG4vLyBUT0RPOiBzdXBwb3J0IE5PVFxuLy8gQ3VycmVudGx5IGEgdGVycmlibGUgbWVzcyBvZiBpZidzLiBTaG91bGQgcmVmYWN0b3IgYXNhcFxuZnVuY3Rpb24gY3JlYXRlUXVlcnlGcm9tSWRlbnRpZmllckxpc3QoaWRlbnRpZmllcnMpIHtcbiAgICB2YXIgc2hhcmVkU2V0ID0gZmFsc2U7XG4gICAgdmFyIGNyZWF0ZVRyZWUgPSBmdW5jdGlvbiAoaWRlbnRpZmllcnMpIHtcbiAgICAgICAgdmFyIHFCdWlsZGVyID0gbmV3IFF1ZXJ5QnVpbGRlcigpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaWRlbnRpZmllclNwbGl0ID0gaWRlbnRpZmllcnNbaV0uc3BsaXQoJ1snKTtcbiAgICAgICAgICAgIHFCdWlsZGVyLmlkZW50aWZpZXIoaWRlbnRpZmllclNwbGl0WzBdKTtcbiAgICAgICAgICAgIHZhciBvbkxhc3QgPSAoaSA9PT0gaWRlbnRpZmllcnMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB2YXIgbmV4dElzU2hhcmVkID0gIXNoYXJlZFNldCAmJiAhb25MYXN0ICYmIGlkZW50aWZpZXJzW2kgKyAxXS5zcGxpdCgnWycpLmxlbmd0aCA+IDE7XG4gICAgICAgICAgICBpZiAoIW9uTGFzdCAmJiAhbmV4dElzU2hhcmVkKSB7XG4gICAgICAgICAgICAgICAgcUJ1aWxkZXIudG9rZW4oZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5BTkQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmV4dElzU2hhcmVkKSB7XG4gICAgICAgICAgICAgICAgc2hhcmVkU2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBxQnVpbGRlci50b2tlbihlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLk9SKTtcbiAgICAgICAgICAgICAgICBxQnVpbGRlci50b2tlbihlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLlNIQVJFRCk7XG4gICAgICAgICAgICAgICAgcUJ1aWxkZXIuYXBwZW5kKGNyZWF0ZVRyZWUoaWRlbnRpZmllcnMuc2xpY2UoaSArIDEsIGlkZW50aWZpZXJzLmxlbmd0aCkpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcUJ1aWxkZXIuYnVpbGQoKTtcbiAgICB9O1xuICAgIHJldHVybiBjcmVhdGVUcmVlKGlkZW50aWZpZXJzKTtcbn1cbmV4cG9ydHMuY3JlYXRlUXVlcnlGcm9tSWRlbnRpZmllckxpc3QgPSBjcmVhdGVRdWVyeUZyb21JZGVudGlmaWVyTGlzdDtcbnZhciBRdWVyeUJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUXVlcnlCdWlsZGVyKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5yb290ID0gc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSB7XG4gICAgICAgICAgICAgICAgdG9rZW46IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHRoaXMucm9vdDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShRdWVyeUJ1aWxkZXIucHJvdG90eXBlLCBcIndvcmtpbmdOb2RlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50Tm9kZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8vIFRPRE86IEVycm9yIGhhbmRsaW5nXG4gICAgUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5pZGVudGlmaWVyID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdENoYW5nZSA9PT0gU3RhdGVDaGFuZ2UuTGVhZk5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdENoYW5nZSA9IFN0YXRlQ2hhbmdlLkxlYWZOb2RlO1xuICAgICAgICBpZiAoIXRoaXMuY3VycmVudE5vZGUubGVmdENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLmxlZnRDaGlsZCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlU3RyOiBpZGVudGlmaWVyXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZCA9IHtcbiAgICAgICAgICAgICAgICB0eXBlU3RyOiBpZGVudGlmaWVyXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUXVlcnlCdWlsZGVyLnByb3RvdHlwZS50b2tlbiA9IGZ1bmN0aW9uICh0b2tlbikge1xuICAgICAgICB0aGlzLmxhc3RDaGFuZ2UgPSBTdGF0ZUNoYW5nZS5Ob2RlO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50Tm9kZS50b2tlbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS50b2tlbiA9IHRva2VuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmN1cnJlbnROb2RlLmxlZnRDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5sZWZ0Q2hpbGQgPSB7XG4gICAgICAgICAgICAgICAgdG9rZW46IHRva2VuXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHRoaXMuY3VycmVudE5vZGUubGVmdENoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuOiB0b2tlblxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVmdENoaWxkID0gdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUucmlnaHRDaGlsZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0Q2hpbGQ6IGxlZnRDaGlsZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUXVlcnlCdWlsZGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAodHJlZSkge1xuICAgICAgICBpZiAodGhpcy5sYXN0Q2hhbmdlID09PSBTdGF0ZUNoYW5nZS5MZWFmTm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50Tm9kZS5sZWZ0Q2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUubGVmdENoaWxkID0gdHJlZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLnJpZ2h0Q2hpbGQgPSB0cmVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJjID0gdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Tm9kZS5yaWdodENoaWxkID0ge1xuICAgICAgICAgICAgICAgIHRva2VuOiBlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLkFORCxcbiAgICAgICAgICAgICAgICBsZWZ0Q2hpbGQ6IHRyZWVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFF1ZXJ5QnVpbGRlci5wcm90b3R5cGUuYnVpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBxdWVyeSA9IHRoaXMucm9vdDtcbiAgICAgICAgdGhpcy5yb290ID0ge1xuICAgICAgICAgICAgdG9rZW46IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jdXJyZW50Tm9kZSA9IHRoaXMucm9vdDtcbiAgICAgICAgaWYgKHF1ZXJ5LnRva2VuID09PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeS50b2tlbiA9IGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uT1I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgIH07XG4gICAgcmV0dXJuIFF1ZXJ5QnVpbGRlcjtcbn0oKSk7XG5leHBvcnRzLlF1ZXJ5QnVpbGRlciA9IFF1ZXJ5QnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5LWJ1aWxkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRpc3BhdGNoU3ViamVjdCA9IHZvaWQgMDtcbnZhciBEaXNwYXRjaFN1YmplY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlzcGF0Y2hTdWJqZWN0KCkge1xuICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xuICAgIH1cbiAgICBEaXNwYXRjaFN1YmplY3QucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlcikge1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcikgPj0gMCkge1xuICAgICAgICAgICAgLy8gVE9ETzogZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKG9ic2VydmVyKTtcbiAgICB9O1xuICAgIERpc3BhdGNoU3ViamVjdC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5vYnNlcnZlcnMuaW5kZXhPZihvYnNlcnZlcik7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIC8vIFRPRE86IGVycm9yIGhhbmRsaW5nXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9O1xuICAgIERpc3BhdGNoU3ViamVjdC5wcm90b3R5cGUudHJpZ2dlciA9IGZ1bmN0aW9uIChvYnNlcnZlZCkge1xuICAgICAgICB0aGlzLm9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvKG9ic2VydmVkKTsgfSk7XG4gICAgICAgIGlmICh0aGlzLm9ic2VydmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRGlzcGF0Y2hTdWJqZWN0O1xufSgpKTtcbmV4cG9ydHMuRGlzcGF0Y2hTdWJqZWN0ID0gRGlzcGF0Y2hTdWJqZWN0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGlzcGF0Y2gtc3ViamVjdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19leHBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2V4cG9ydFN0YXIpIHx8IGZ1bmN0aW9uKG0sIGV4cG9ydHMpIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zcmMvZWNzL2NvbXBvbmVudC5tb2RlbFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3JjL2Vjcy9lbnRpdHkubW9kZWxcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3NyYy9lY3MvZXNjLXF1ZXJ5Lm1vZGVsXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zcmMvZWNzL3N5c3RlbS5tb2RlbFwiKSwgZXhwb3J0cyk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3JjL2Vjcy9xdWVyeS1idWlsZGVyXCIpLCBleHBvcnRzKTtcbl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9zcmMvZWNzL21hbmFnZXJcIiksIGV4cG9ydHMpO1xuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3NyYy9vYnNlcnZlci9kaXNwYXRjaC1zdWJqZWN0XCIpLCBleHBvcnRzKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50Lm1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW50aXR5Lm1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3lzdGVtLm1vZGVsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fdmFsdWVzID0gKHRoaXMgJiYgdGhpcy5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykge1xuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FQ1NNYW5hZ2VyID0gZXhwb3J0cy5FbnRpdHlCdWlsZGVyID0gdm9pZCAwO1xudmFyIGVzY19xdWVyeV9tb2RlbF8xID0gcmVxdWlyZShcIi4vZXNjLXF1ZXJ5Lm1vZGVsXCIpO1xudmFyIGRpc3BhdGNoX3N1YmplY3RfMSA9IHJlcXVpcmUoXCIuLi9vYnNlcnZlci9kaXNwYXRjaC1zdWJqZWN0XCIpO1xudmFyIHF1ZXJ5X2J1aWxkZXJfMSA9IHJlcXVpcmUoXCIuL3F1ZXJ5LWJ1aWxkZXJcIik7XG52YXIgY29tcG9uZW50X3Bvb2xfMSA9IHJlcXVpcmUoXCIuLi9wb29sL2NvbXBvbmVudC1wb29sXCIpO1xudmFyIHV0aWxfMSA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xuLyoqXG4gKiBCdWlsZGVyIGZvciBlbnRpdGllcy4gRW5hYmxlcyBlbmQgdXNlciB0byBjaGFpbiBvcGVyYXRpb25zLlxuICogRXhhbXBsZTpcbiAqIGBgYHRzXG4gKiBuZXcgRUNTTWFuYWdlcigpLmNyZWF0ZUVudGl0eSgpLmFkZENvbXBvbmVudChuZXcgVGVzdENvbXAoKSk7XG4gKiBgYGBcbiAqL1xudmFyIEVudGl0eUJ1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogVGhpcyBzaG91bGQgbm90IGJlIHVzZWQgbWFudWFsbHlcbiAgICAgKiBAcGFyYW0gaWQgIGlkIG9mIGVudGl0eSB0aGF0IGlzIHN1cHBvc2VkIHRvIGJlIHVwZGF0ZWRcbiAgICAgKiBAcGFyYW0gZWNzTWFuYWdlciBtYW5hZ2VyIHRoYXQgaXMgY3JlYXRpbmcgdGhlIGJ1aWxkZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBFbnRpdHlCdWlsZGVyKGlkLCBlY3NNYW5hZ2VyKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5lY3NNYW5hZ2VyID0gZWNzTWFuYWdlcjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVudGl0eUJ1aWxkZXIucHJvdG90eXBlLCBcImVudGl0eUlkXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlIHRoZSBpZCBvZiB0aGUgZW50aXR5IHRoYXQgaXMgYmVpbmcgYnVpbHRcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBIGZhY2FkZSB0byB7QGxpbmsgRUNTTWFuYWdlci5hZGRDb21wb25lbnR9XG4gICAgICogQHR5cGVQYXJhbSBUIGFueSBvYmplY3QgeW91IHdvdWxkIGxpa2UgdG8gYmUgYSBjb21wb25lbnQuIFNob3VsZCBvbmx5IGJlIGRhdGEsIGFuZCBub3QgYW55IGZ1bmN0aW9uc1xuICAgICAqIEBwYXJhbSBjb21wb25lbnQgICBhIG5ldyBjb21wb25lbnQgdG8gYmUgY29ubmVjdGVkIHdpdGggZ2l2ZW4gZW50aXR5LlxuICAgICAqL1xuICAgIEVudGl0eUJ1aWxkZXIucHJvdG90eXBlLmFkZENvbXBvbmVudCA9IGZ1bmN0aW9uICh0eXBlU3RyLCBjb21wb25lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWNzTWFuYWdlci5hZGRDb21wb25lbnQodGhpcy5pZCwgdHlwZVN0ciwgY29tcG9uZW50LCB0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgZmFjYWRlIHRvIHtAbGluayBFQ1NNYW5hZ2VyLnJlbW92ZUNvbXBvbmVudH1cbiAgICAgKiBAdHlwZVBhcmFtIFQgYW55IG9iamVjdCB5b3Ugd291bGQgbGlrZSB0byBiZSBhIGNvbXBvbmVudC4gU2hvdWxkIG9ubHkgYmUgZGF0YSwgYW5kIG5vdCBhbnkgZnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHR5cGVTdHIgICB0aGUgdHlwZSB0eXBlU3RycyBmb3IgdGhlIGNvbXBvbmVudCB5b3Ugd2FudCB0byByZW1vdmVcbiAgICAgKi9cbiAgICBFbnRpdHlCdWlsZGVyLnByb3RvdHlwZS5yZW1vdmVDb21wb25lbnQgPSBmdW5jdGlvbiAodHlwZVN0cnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWNzTWFuYWdlci5yZW1vdmVDb21wb25lbnQodGhpcy5pZCwgdHlwZVN0cnMsIHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIEVudGl0eUJ1aWxkZXI7XG59KCkpO1xuZXhwb3J0cy5FbnRpdHlCdWlsZGVyID0gRW50aXR5QnVpbGRlcjtcbi8qKlxuICogVGhlIG1haW4gY2xhc3MsIGFuZCB1c3VhbGx5IGEgc2luZ2xldG9uIGZvciB5b3VyIHByb2dyYW0gdGhhdCB3aWxsIG1hbmFnZSB5b3VyIGdhbWUgc3RhdGVcbiAqL1xudmFyIEVDU01hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRUNTTWFuYWdlcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaWdub3JlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN5c3RlbXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpZ25vcmVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW50aXR5SWQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hZnRlclVwZGF0ZUxvb3AgPSBuZXcgZGlzcGF0Y2hfc3ViamVjdF8xLkRpc3BhdGNoU3ViamVjdCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGlnbm9yZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc1J1bm5pbmdTeXN0ZW1zID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgc3lzdGVtIG1lYW50IHRvIGJlIGNhbGxlZCBtYW51YWxseSBieSB0aGUgY2FsbGVlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3lzdGVtICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCByZWFkL3dyaXRlIHRvIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gcXVlcnkgIFRoZSBxdWVyeSB1c2VkIHRvIGZldGNoIHN5c3RlbSBwYXJhbWV0ZXJzXG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUucmVnaXN0ZXJFdmVudFdpdGhFc2NRdWVyeSA9IGZ1bmN0aW9uIChzeXN0ZW0sIHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgcVJlc3VsdDogdGhpcy5xdWVyeUVudGl0aWVzKHF1ZXJ5KSxcbiAgICAgICAgICAgIHN5c3RlbTogc3lzdGVtXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMubGVuZ3RoIC0gMTtcbiAgICB9O1xuICAgIC8qKlxuICAgKiBSZWdpc3RlciBhIHN5c3RlbSBtZWFudCB0byBiZSBjYWxsZWQgbWFudWFsbHkgYnkgdGhlIGNhbGxlZVxuICAgKlxuICAgKiBAcGFyYW0gc3lzdGVtICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCByZWFkL3dyaXRlIHRvIGNvbXBvbmVudHNcbiAgICogQHBhcmFtIHR5cGVTdHJzICBBIGxpc3Qgb2YgdHlwZXMgYXMgc3RyaW5nXG4gICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyRXZlbnQgPSBmdW5jdGlvbiAoc3lzdGVtLCB0eXBlU3Rycykge1xuICAgICAgICB2YXIgcXVlcnkgPSBxdWVyeV9idWlsZGVyXzEuY3JlYXRlUXVlcnlGcm9tSWRlbnRpZmllckxpc3QodHlwZVN0cnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWdpc3RlckV2ZW50V2l0aEVzY1F1ZXJ5KHN5c3RlbSwgcXVlcnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBzeXN0ZW0gbWVhbnQgdG8gYmUgY2FsbGVkIGVhY2ggZnJhbWUgYnkgdGhlIG1hbmFnZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBzeXN0ZW0gIEEgZnVuY3Rpb24gdGhhdCB3aWxsIHJlYWQvd3JpdGUgdG8gY29tcG9uZW50c1xuICAgICAqIEBwYXJhbSBxdWVyeSAgVGhlIHF1ZXJ5IHVzZWQgdG8gZmV0Y2ggc3lzdGVtIHBhcmFtZXRlcnNcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlclN5c3RlbVdpdGhFc2NRdWVyeSA9IGZ1bmN0aW9uIChzeXN0ZW0sIHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuc3lzdGVtcy5wdXNoKHtcbiAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeSxcbiAgICAgICAgICAgIHFSZXN1bHQ6IHRoaXMucXVlcnlFbnRpdGllcyhxdWVyeSksXG4gICAgICAgICAgICBzeXN0ZW06IHN5c3RlbVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgc3lzdGVtIG1lYW50IHRvIGJlIGNhbGxlZCBlYWNoIGZyYW1lIGJ5IHRoZSBtYW5hZ2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3lzdGVtICBBIGZ1bmN0aW9uIHRoYXQgd2lsbCByZWFkL3dyaXRlIHRvIGNvbXBvbmVudHNcbiAgICAgKiBAcGFyYW0gdHlwZVN0ciAgQSBsaXN0IG9mIHR5cGVzIGFzIHN0cmluZ1xuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLnJlZ2lzdGVyU3lzdGVtID0gZnVuY3Rpb24gKHN5c3RlbSwgdHlwZVN0cikge1xuICAgICAgICB2YXIgcXVlcnkgPSBxdWVyeV9idWlsZGVyXzEuY3JlYXRlUXVlcnlGcm9tSWRlbnRpZmllckxpc3QodHlwZVN0cik7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJTeXN0ZW1XaXRoRXNjUXVlcnkoc3lzdGVtLCBxdWVyeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGVudGl0eVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLmNyZWF0ZUVudGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5lbnRpdGllcy5wdXNoKHsgaWQ6IHRoaXMuZW50aXR5SWQrKyB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBFbnRpdHlCdWlsZGVyKHRoaXMuZW50aXR5SWQgLSAxLCB0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIG5vbiB0cmFuc2Zvcm0gdmVyc2lvbiBvZiByZWdpc3RlckNvbXBvbmVudFR5cGVcbiAgICAgKiBZb3Ugc2hvdWxkIHByb2JhYmx5IGNhbGwge0BsaW5rIHJlZ2lzdGVyQ29tcG9uZW50VHlwZX0gZnJvbSB0aGUgaW5kZXggaW5zdGVhZFxuICAgICAqXG4gICAgICogVXNlZCB0byBwcmVhbGxvY2F0ZSBzdG9yYWdlIGZvciBhIGdpdmVuIGNvbXBvbmVudCB0eXBlXG4gICAgICogYXZvaWQgY2FsbGluZyB0aGlzIGluIGEgZ2FtZSBsb29wXG4gICAgICogQHBhcmFtIHR5cGVTdHIgdGhlIHR5cGUgb2YgdGhlIGNvbXBvbmVudCBhcyBhIHN0cmluZ1xuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWVcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3RlckNvbXBvbmVudFR5cGUgPSBmdW5jdGlvbiAodHlwZVN0ciwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudHMuaGFzKHR5cGVTdHIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wb25lbnRzLnNldCh0eXBlU3RyLCBuZXcgY29tcG9uZW50X3Bvb2xfMS5Db21wb25lbnRQb29sKGRlZmF1bHRWYWx1ZSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgbm9uIHRyYW5zZm9ybSB2ZXJzaW9uIG9mIGFkZENvbXBvbmVudFxuICAgICAqIFlvdSBzaG91bGQgcHJvYmFibHkgY2FsbCB7QGxpbmsgYWRkQ29tcG9uZW50fSBmcm9tIHRoZSBpbmRleCBpbnN0ZWFkXG4gICAgICpcbiAgICAqIEB0eXBlUGFyYW0gVCBhbnkgb2JqZWN0IHlvdSB3b3VsZCBsaWtlIHRvIGJlIGEgY29tcG9uZW50LiBTaG91bGQgb25seSBiZSBkYXRhLCBhbmQgbm90IGFueSBmdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0gZW50aXR5SWQgIGlkIG9mIGVudGl0eSB0aGF0IGlzIHN1cHBvc2VkIHRvIGJlIHVwZGF0ZWRcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50ICBhIG5ldyBjb21wb25lbnQgdG8gYmUgY29ubmVjdGVkIHdpdGggZ2l2ZW4gZW50aXR5LlxuICAgICAqIEBwYXJhbSBidWlsZGVyICBVc2VkIGJ5IHRoZSBFbnRpdHlCdWlsZGVyIHRvIGNhY2hlIGl0c2VsZiwgY2FuIGJlIGlnbm9yZWQgdXN1YWxseVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLmFkZENvbXBvbmVudCA9IGZ1bmN0aW9uIChlbnRpdHlJZCwgdHlwZVN0ciwgY29tcG9uZW50LCBidWlsZGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBidWlsZGVyUnRyID0gZnVuY3Rpb24gKGJ1aWxkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBidWlsZGVyICE9PSBudWxsICYmIGJ1aWxkZXIgIT09IHZvaWQgMCA/IGJ1aWxkZXIgOiBuZXcgRW50aXR5QnVpbGRlcihlbnRpdHlJZCwgX3RoaXMpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXMuY29tcG9uZW50cy5oYXModHlwZVN0cikpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8gVE9ETzogZXJyb3JoYW5kbGluZ1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21wb25lbnRzID0gdGhpcy5jb21wb25lbnRzLmdldCh0eXBlU3RyKTtcbiAgICAgICAgaWYgKGNvbXBvbmVudHMgPT09IG51bGwgfHwgY29tcG9uZW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcG9uZW50cy5maW5kKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmVudGl0eUlkID09PSBlbnRpdHlJZDsgfSkpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8gVE9ETzogZXJyb3JoYW5kbGluZ1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZ1N5c3RlbXMpIHtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJVcGRhdGVMb29wLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRkQ29tcG9uZW50KGVudGl0eUlkLCB0eXBlU3RyLCBjb21wb25lbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRlclJ0cihidWlsZGVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb21wb25lbnRzLmFkZChlbnRpdHlJZCwgY29tcG9uZW50KTtcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlUXVlcnlSZXN1bHRzKHR5cGVTdHIpO1xuICAgICAgICByZXR1cm4gYnVpbGRlclJ0cihidWlsZGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgdGhlIG5vbiB0cmFuc2Zvcm0gdmVyc2lvbiBvZiByZW1vdmVDb21wb25lbnRcbiAgICAgKiBZb3Ugc2hvdWxkIHByb2JhYmx5IGNhbGwge0BsaW5rIHJlbW92ZUNvbXBvbmVudH0gZnJvbSB0aGUgaW5kZXggaW5zdGVhZFxuICAgICAqXG4gICAgICogQHBhcmFtIGVudGl0eUlkICBpZCBvZiBlbnRpdHkgdGhhdCBpcyBzdXBwb3NlZCB0byBiZSB1cGRhdGVkXG4gICAgICogQHBhcmFtIHR5cGVTdHIgICB0aGUgdHlwZSBhcyBzdHJpbmcgZm9yIHRoZSBjb21wb25lbnQgeW91IHdhbnQgdG8gcmVtb3ZlXG4gICAgICogQHBhcmFtIGJ1aWxkZXIgIFVzZWQgYnkgdGhlIEVudGl0eUJ1aWxkZXIgdG8gY2FjaGUgaXRzZWxmLCBjYW4gYmUgaWdub3JlZCB1c3VhbGx5XG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUucmVtb3ZlQ29tcG9uZW50ID0gZnVuY3Rpb24gKGVudGl0eUlkLCB0eXBlU3RyLCBidWlsZGVyKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZ1N5c3RlbXMpIHtcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJVcGRhdGVMb29wLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMucmVtb3ZlQ29tcG9uZW50KGVudGl0eUlkLCB0eXBlU3RyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5nZXQodHlwZVN0cikucmVtb3ZlKGVudGl0eUlkKTtcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlUXVlcnlSZXN1bHRzKHR5cGVTdHIpO1xuICAgICAgICByZXR1cm4gYnVpbGRlciAhPT0gbnVsbCAmJiBidWlsZGVyICE9PSB2b2lkIDAgPyBidWlsZGVyIDogbmV3IEVudGl0eUJ1aWxkZXIoZW50aXR5SWQsIHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHF1ZXJ5ICBmaWx0ZXIgZm9yIHdoaWNoIGVudGl0aWVzIHRvIHJldHJpZXZlXG4gICAgICogQHJldHVybiByZXR1cm5zIGEgb2JqZWN0IGNvbnRhaW5pbmcgZW50aXRpZXMgdGhhdCBhcmUgbWVhbnQgdG9cbiAgICAgKiBiZSBpdGVyYXRlZCBieSB0aGUgbWFuYWdlciB1bmRlciBkaXNwYXRjaC9ldmVudCBhbmQgc2hhcmVkIGVudGl0aWVzIHRoYXRcbiAgICAgKiB3aWxsIGJlIHNoYXJlZCBlYWNoIGl0ZXJhdGlvblxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLnF1ZXJ5RW50aXRpZXMgPSBmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBhbmRGbiA9IGZ1bmN0aW9uIChsZWZ0LCByaWd0aCkge1xuICAgICAgICAgICAgdmFyIGVfMywgX2E7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgICB2YXIgX2xvb3BfMiA9IGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgICAgIHZhciBySW5kZXggPSByaWd0aC5maW5kSW5kZXgoZnVuY3Rpb24gKHJFKSB7IHJldHVybiByRS5pZCA9PT0gZW50cnkuaWQ7IH0pO1xuICAgICAgICAgICAgICAgIGlmIChySW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImNvbnRpbnVlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IHJpZ3RoLnNwbGljZShySW5kZXgsIDEpOyAvLyB0aGlzIG1pZ2h0IGJlIHN0dXBpZCBcbiAgICAgICAgICAgICAgICBpZiAoZm91bmQubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVudHJ5LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogZW50cnkuY29tcG9uZW50cy5jb25jYXQoZm91bmRbMF0uY29tcG9uZW50cylcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbGVmdF8xID0gX192YWx1ZXMobGVmdCksIGxlZnRfMV8xID0gbGVmdF8xLm5leHQoKTsgIWxlZnRfMV8xLmRvbmU7IGxlZnRfMV8xID0gbGVmdF8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW50cnkgPSBsZWZ0XzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2xvb3BfMihlbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfM18xKSB7IGVfMyA9IHsgZXJyb3I6IGVfM18xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWZ0XzFfMSAmJiAhbGVmdF8xXzEuZG9uZSAmJiAoX2EgPSBsZWZ0XzEucmV0dXJuKSkgX2EuY2FsbChsZWZ0XzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgb3JSZWR1Y2VyID0gZnVuY3Rpb24gKHByZXZpb3VzVmFsdWVzLCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVfNCwgX2E7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBwcmV2aW91c1ZhbHVlcy5maW5kSW5kZXgoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4uaWQgPT09IHZhbHVlLmlkOyB9KTtcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBfbG9vcF8zID0gZnVuY3Rpb24gKGNvbXApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2aW91c1ZhbHVlc1tpbmRleF0uY29tcG9uZW50cy5maW5kKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjID09PSBjb21wOyB9KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZXNbaW5kZXhdLmNvbXBvbmVudHMucHVzaChjb21wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh2YWx1ZS5jb21wb25lbnRzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXAgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wXzMoY29tcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNCkgdGhyb3cgZV80LmVycm9yOyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWVzO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgcXVlcnlTdGVwID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVzY19xdWVyeV9tb2RlbF8xLmlzUXVlcnlOb2RlKHF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgIHZhciBxTFJlc3VsdCA9IHF1ZXJ5U3RlcChxdWVyeS5sZWZ0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIHZhciBxUlJlc3VsdF8xID0gcXVlcnlTdGVwKHF1ZXJ5LnJpZ2h0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAocXVlcnkudG9rZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBlc2NfcXVlcnlfbW9kZWxfMS5RdWVyeVRva2VuLkFORDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbmRGbihxTFJlc3VsdCwgcVJSZXN1bHRfMSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5PUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBxTFJlc3VsdC5jb25jYXQocVJSZXN1bHRfMSkucmVkdWNlKG9yUmVkdWNlciwgW10pO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGVzY19xdWVyeV9tb2RlbF8xLlF1ZXJ5VG9rZW4uTk9UOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHFMUmVzdWx0LmZpbHRlcihmdW5jdGlvbiAoZW50aXR5KSB7IHJldHVybiAhcVJSZXN1bHRfMS5maW5kKGZ1bmN0aW9uIChvZSkgeyByZXR1cm4gb2UuaWQgPT0gZW50aXR5LmlkOyB9KTsgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5TSEFSRUQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHR5cGVTdHJfMSA9IHF1ZXJ5LnR5cGVTdHI7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudHMgPSBfdGhpcy5jb21wb25lbnRzLmdldCh0eXBlU3RyXzEpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlZmFjdG9yIHNvIHdlIGRvbid0IG5lZWQgdmFyaWFibGUgZnJvbSBvdXRzaWRlIHNjb3BlXG4gICAgICAgICAgICAgICAgLy8gICAgICAgY2xlYW4gc28gaXQncyBtb3JlIHJlYWRhYmxlXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNSZXN1bHQgPSAoX2EgPSBjb21wb25lbnRzID09PSBudWxsIHx8IGNvbXBvbmVudHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbXBvbmVudHMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiB1dGlsXzEuaXNOdW1iZXIoYy5lbnRpdHlJZCkgJiYgYy5lbnRpdHlJZCA+PSAwOyB9KS5yZWR1Y2UoZnVuY3Rpb24gKHByZXZpb3VzVmFsdWVzLCB2YWx1ZSwgY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHByZXZpb3VzVmFsdWVzLmZpbmRJbmRleChmdW5jdGlvbiAobikgeyByZXR1cm4gbi5pZCA9PT0gdmFsdWUuZW50aXR5SWQ7IH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Q29tcCA9IHsgdHlwZVN0cjogdHlwZVN0cl8xLCBpbmRleDogY3VycmVudEluZGV4IH07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdmFsdWUuZW50aXR5SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50czogW25ld0NvbXBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZXMucHVzaChuZXdFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBwcmV2aW91c1ZhbHVlc1tpbmRleF0uY29tcG9uZW50cy5maW5kKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmluZGV4ID09PSBuZXdDb21wLmluZGV4ICYmIGMudHlwZVN0ciA9PT0gbmV3Q29tcC50eXBlU3RyOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1ZhbHVlc1tpbmRleF0uY29tcG9uZW50cy5wdXNoKG5ld0NvbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1ZhbHVlcztcbiAgICAgICAgICAgICAgICB9LCBbXSkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzUmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgZmluZFNoYXJlZCA9IGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICAgICAgaWYgKCFxdWVyeSB8fCBlc2NfcXVlcnlfbW9kZWxfMS5pc1F1ZXJ5TGVhZk5vZGUocXVlcnkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChxdWVyeS50b2tlbiA9PT0gZXNjX3F1ZXJ5X21vZGVsXzEuUXVlcnlUb2tlbi5TSEFSRUQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGVmdExpc3QgPSBmaW5kU2hhcmVkKHF1ZXJ5LmxlZnRDaGlsZCk7XG4gICAgICAgICAgICB2YXIgcmlnaHRMaXN0ID0gZmluZFNoYXJlZChxdWVyeS5yaWdodENoaWxkKTtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0TGlzdCAhPT0gbnVsbCAmJiBsZWZ0TGlzdCAhPT0gdm9pZCAwID8gbGVmdExpc3QgOiByaWdodExpc3Q7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBleHRyYWN0TGVhZk5vZGVzID0gZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICAgICAgICBpZiAoIXF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVzY19xdWVyeV9tb2RlbF8xLmlzUXVlcnlOb2RlKHF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgIHZhciBsZWZ0TGVhZnMgPSBleHRyYWN0TGVhZk5vZGVzKHF1ZXJ5LmxlZnRDaGlsZCk7XG4gICAgICAgICAgICAgICAgdmFyIHJpZ2h0TGVhZnMgPSBleHRyYWN0TGVhZk5vZGVzKHF1ZXJ5LnJpZ2h0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIHJldHVybiAobGVmdExlYWZzICE9PSBudWxsICYmIGxlZnRMZWFmcyAhPT0gdm9pZCAwID8gbGVmdExlYWZzIDogW10pLmNvbmNhdChyaWdodExlYWZzICE9PSBudWxsICYmIHJpZ2h0TGVhZnMgIT09IHZvaWQgMCA/IHJpZ2h0TGVhZnMgOiBbXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW3F1ZXJ5XTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHNoYXJlZE5vZGUgPSBmaW5kU2hhcmVkKHF1ZXJ5KTtcbiAgICAgICAgdmFyIHNoYXJlZEVudGl0aWVzID0gcXVlcnlTdGVwKHNoYXJlZE5vZGUgPT09IG51bGwgfHwgc2hhcmVkTm9kZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2hhcmVkTm9kZS5sZWZ0Q2hpbGQpO1xuICAgICAgICB2YXIgc2hhcmVkQXJncyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHNoYXJlZEVudGl0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHZhciBjb21wRW50cmllcyA9IHNoYXJlZEVudGl0aWVzLm1hcChmdW5jdGlvbiAoZW50cnkpIHsgcmV0dXJuIGVudHJ5LmNvbXBvbmVudHM7IH0pO1xuICAgICAgICAgICAgc2hhcmVkQXJncyA9IG5ldyBBcnJheShjb21wRW50cmllc1swXS5sZW5ndGgpO1xuICAgICAgICAgICAgdmFyIHR5cGVNYXAgPSBbXTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY29tcEVudHJpZXNfMSA9IF9fdmFsdWVzKGNvbXBFbnRyaWVzKSwgY29tcEVudHJpZXNfMV8xID0gY29tcEVudHJpZXNfMS5uZXh0KCk7ICFjb21wRW50cmllc18xXzEuZG9uZTsgY29tcEVudHJpZXNfMV8xID0gY29tcEVudHJpZXNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gY29tcEVudHJpZXNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChjb21wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0eXBlTWFwLmZpbmRJbmRleChmdW5jdGlvbiAodCkgeyByZXR1cm4gdCA9PT0gY29tcC50eXBlU3RyOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHR5cGVNYXAubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVNYXAucHVzaChjb21wLnR5cGVTdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaGFyZWRBcmdzW2luZGV4XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlZEFyZ3NbaW5kZXhdID0gW3RoaXNfMS5jb21wb25lbnRzLmdldChjb21wLnR5cGVTdHIpLnVuc2FmZUdldChjb21wLmluZGV4KV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFyZWRBcmdzW2luZGV4XSA9IHNoYXJlZEFyZ3NbaW5kZXhdLmNvbmNhdCh0aGlzXzEuY29tcG9uZW50cy5nZXQoY29tcC50eXBlU3RyKS51bnNhZmVHZXQoY29tcC5pbmRleCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc18xID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGVudHJ5XzEgPSAoZV8yID0gdm9pZCAwLCBfX3ZhbHVlcyhlbnRyeSkpLCBlbnRyeV8xXzEgPSBlbnRyeV8xLm5leHQoKTsgIWVudHJ5XzFfMS5kb25lOyBlbnRyeV8xXzEgPSBlbnRyeV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wID0gZW50cnlfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wXzEoY29tcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeV8xXzEgJiYgIWVudHJ5XzFfMS5kb25lICYmIChfYiA9IGVudHJ5XzEucmV0dXJuKSkgX2IuY2FsbChlbnRyeV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcEVudHJpZXNfMV8xICYmICFjb21wRW50cmllc18xXzEuZG9uZSAmJiAoX2EgPSBjb21wRW50cmllc18xLnJldHVybikpIF9hLmNhbGwoY29tcEVudHJpZXNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgc2hhcmVkQXJnczogc2hhcmVkQXJncyxcbiAgICAgICAgICAgIGVudGl0aWVzOiBxdWVyeVN0ZXAocXVlcnkpLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgbm9uIHRyYW5zZm9ybSB2ZXJzaW9uIG9mIGFjY2Vzc0NvbXBvbmVudERhdGFcbiAgICAgKiBZb3Ugc2hvdWxkIHByb2JhYmx5IGNhbGwge0BsaW5rIGFjY2Vzc0NvbXBvbmVudERhdGF9IGZyb20gdGhlIGluZGV4IGluc3RlYWRcbiAgICAgKlxuICAgICAqIEB0eXBlUGFyYW0gVCBjb21wb25lbnQgZGF0YSB0eXBlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29tcFR5cGUgYW55IGluc3RhbmNlIG9mIHNhbWUgdHlwZSBhcyB0YXJnZXQgY29tcG9uZW50XG4gICAgICogQHBhcmFtIGVudGl0eUlkIGlkIG9mIGVudGl0eSBvd25lciBvZiBjb21wb25lbnRcbiAgICAgKlxuICAgICAqIEByZXR1cm4gcmVxdWVzdGVkIGNvbXBvbmVudCBvciBudWxsXG4gICAgICovXG4gICAgRUNTTWFuYWdlci5wcm90b3R5cGUuYWNjZXNzQ29tcG9uZW50RGF0YSA9IGZ1bmN0aW9uIChlbnRpdHlJZCwgdHlwZVN0cikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBjb21wb25lbnRzID0gdGhpcy5jb21wb25lbnRzLmdldCh0eXBlU3RyKTtcbiAgICAgICAgcmV0dXJuIChfYSA9IGNvbXBvbmVudHMgPT09IG51bGwgfHwgY29tcG9uZW50cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tcG9uZW50cy5maW5kKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmVudGl0eUlkID09PSBlbnRpdHlJZDsgfSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kYXRhO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW52b2tlcyBhIHN5c3RlbSBldmVudCBhbmQgc3VwcGxpZXMgdGhlbSB3aXRoIHJlbGV2YW50IGJhc2VkIG9uIHByZXZpb3VzIHF1ZXJ5IGFyZ3VtZW50c1xuICAgICAqIEBwYXJhbSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGV2ZW50IGJlaW5nIGZpcmVkXG4gICAgICogQHBhcmFtIGV2ZW50IEV2ZW50IGRhdGFcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5vbkV2ZW50ID0gZnVuY3Rpb24gKGluZGV4LCBldmVudCkge1xuICAgICAgICB2YXIgZV81LCBfYTtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmdTeXN0ZW1zID0gdHJ1ZTtcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSB0aGlzLmV2ZW50c1tpbmRleF07XG4gICAgICAgIHZhciBldmVudEFyciA9IFtldmVudF07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHN1YnNjcmliZXIucVJlc3VsdC5lbnRpdGllcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW50aXR5ID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBldmVudEFyci5jb25jYXQodGhpcy5jcmVhdGVBcmdzKGVudGl0eSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzW2luZGV4XS5zeXN0ZW0uYXBwbHkobnVsbCwgYXJncy5jb25jYXQoc3Vic2NyaWJlci5xUmVzdWx0LnNoYXJlZEFyZ3MpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV81XzEpIHsgZV81ID0geyBlcnJvcjogZV81XzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzUpIHRocm93IGVfNS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nU3lzdGVtcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFmdGVyVXBkYXRlTG9vcC50cmlnZ2VyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnZva2VzIGFsbCBub3JtYWwgc3lzdGVtcyBhbmQgc3VwcGxpZXMgdGhlbSB3aXRoIGRlbHRhIHRpbWUgYW5kXG4gICAgICogcmVsZXZhbnQgYXJndW1lbnRzIGJhc2VkIG9uIHN5c3RlbSBxdWVyeVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZV82LCBfYSwgZV83LCBfYjtcbiAgICAgICAgdGhpcy5pc1J1bm5pbmdTeXN0ZW1zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5wcmV2UnVuID0gKHRoaXMucHJldlJ1bikgPyB0aGlzLnByZXZSdW4gOiBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIGRlbHRhVGltZSA9IFsobm93IC0gdGhpcy5wcmV2UnVuKSAvIDEwMDBdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnN5c3RlbXMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN5c3RlbSA9IF9kLnZhbHVlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9lID0gKGVfNyA9IHZvaWQgMCwgX192YWx1ZXMoc3lzdGVtLnFSZXN1bHQuZW50aXRpZXMpKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudGl0eSA9IF9mLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBkZWx0YVRpbWUuY29uY2F0KHRoaXMuY3JlYXRlQXJncyhlbnRpdHkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5c3RlbS5zeXN0ZW0uYXBwbHkobnVsbCwgYXJncy5jb25jYXQoc3lzdGVtLnFSZXN1bHQuc2hhcmVkQXJncykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzdfMSkgeyBlXzcgPSB7IGVycm9yOiBlXzdfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzcpIHRocm93IGVfNy5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV82XzEpIHsgZV82ID0geyBlcnJvcjogZV82XzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYSA9IF9jLnJldHVybikpIF9hLmNhbGwoX2MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzYpIHRocm93IGVfNi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNSdW5uaW5nU3lzdGVtcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFmdGVyVXBkYXRlTG9vcC50cmlnZ2VyKCk7XG4gICAgICAgIHRoaXMucHJldlJ1biA9IG5vdztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICBFQ1NNYW5hZ2VyLnByb3RvdHlwZS5jcmVhdGVBcmdzID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHZhciBlXzgsIF9hO1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhlbnRyeS5jb21wb25lbnRzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgYXJnQ29tcCA9IHRoaXMuY29tcG9uZW50cy5nZXQoY29tcG9uZW50LnR5cGVTdHIpLnVuc2FmZUdldChjb21wb25lbnQuaW5kZXgpO1xuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmdDb21wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV84XzEpIHsgZV84ID0geyBlcnJvcjogZV84XzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzgpIHRocm93IGVfOC5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIEVDU01hbmFnZXIucHJvdG90eXBlLmludmFsaWRhdGVRdWVyeVJlc3VsdHMgPSBmdW5jdGlvbiAoY2hhbmdlVHlwZVN0cikge1xuICAgICAgICB2YXIgZV85LCBfYSwgZV8xMCwgX2I7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBpc0NvbXBvbmVudEluUXVlcnkgPSBmdW5jdGlvbiAodHlwZVN0ciwgbm9kZSkge1xuICAgICAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVzY19xdWVyeV9tb2RlbF8xLmlzUXVlcnlOb2RlKG5vZGUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlZnRGaW5kID0gaXNDb21wb25lbnRJblF1ZXJ5KHR5cGVTdHIsIG5vZGUubGVmdENoaWxkKTtcbiAgICAgICAgICAgICAgICBpZiAobGVmdEZpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByaWdodEZpbmQgPSBpc0NvbXBvbmVudEluUXVlcnkodHlwZVN0ciwgbm9kZS5yaWdodENoaWxkKTtcbiAgICAgICAgICAgICAgICBpZiAocmlnaHRGaW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS50eXBlU3RyID09PSB0eXBlU3RyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdXBkYXRlZFN5c3RlbSA9IGZ1bmN0aW9uIChzeXN0ZW0pIHtcbiAgICAgICAgICAgIGlmIChpc0NvbXBvbmVudEluUXVlcnkoY2hhbmdlVHlwZVN0ciwgc3lzdGVtLnF1ZXJ5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5xdWVyeUVudGl0aWVzKHN5c3RlbS5xdWVyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc3lzdGVtLnFSZXN1bHQ7XG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKHRoaXMuc3lzdGVtcyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3lzdGVtID0gX2QudmFsdWU7XG4gICAgICAgICAgICAgICAgc3lzdGVtLnFSZXN1bHQgPSB1cGRhdGVkU3lzdGVtKHN5c3RlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfOV8xKSB7IGVfOSA9IHsgZXJyb3I6IGVfOV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV85KSB0aHJvdyBlXzkuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2UgPSBfX3ZhbHVlcyh0aGlzLmV2ZW50cyksIF9mID0gX2UubmV4dCgpOyAhX2YuZG9uZTsgX2YgPSBfZS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3lzdGVtID0gX2YudmFsdWU7XG4gICAgICAgICAgICAgICAgc3lzdGVtLnFSZXN1bHQgPSB1cGRhdGVkU3lzdGVtKHN5c3RlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMTBfMSkgeyBlXzEwID0geyBlcnJvcjogZV8xMF8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfZiAmJiAhX2YuZG9uZSAmJiAoX2IgPSBfZS5yZXR1cm4pKSBfYi5jYWxsKF9lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xMCkgdGhyb3cgZV8xMC5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRUNTTWFuYWdlcjtcbn0oKSk7XG5leHBvcnRzLkVDU01hbmFnZXIgPSBFQ1NNYW5hZ2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFuYWdlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3ZhbHVlcyA9ICh0aGlzICYmIHRoaXMuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHtcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29tcG9uZW50UG9vbCA9IHZvaWQgMDtcbi8vIFRPRE86IGl0ZXJhdG9yIHdpbGwgYnJlYWsgaWYgeW91IGJyZWFrIGVhcmx5IG91dCBvZiBsb29wIFxudmFyIENvbXBvbmVudFBvb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29tcG9uZW50UG9vbChkZWZhdWx0VmFsdWUsIHN0cmlkZSkge1xuICAgICAgICBpZiAoc3RyaWRlID09PSB2b2lkIDApIHsgc3RyaWRlID0gMjA7IH1cbiAgICAgICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgICAgIHRoaXMucG9vbCA9IFtdO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMucG9zID0gMDtcbiAgICAgICAgdGhpcy5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIHRoaXMub25FeHBhbmRQb29sKHRydWUpO1xuICAgIH1cbiAgICAvLyBUT0RPOiBkaXNzYWxsb3cgZW50aXR5SWQgdGhhdCBhbHJlYWR5IGV4aXN0IFxuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChlbnRpdHlJZCwgb3ZlcnJpZGUpIHtcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoID49IHRoaXMucG9vbC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMub25FeHBhbmRQb29sKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb29sW3RoaXMubGVuZ3RoXS5lbnRpdHlJZCA9IGVudGl0eUlkO1xuICAgICAgICB2YXIgdGFyZ2V0ID0gb3ZlcnJpZGUgIT09IG51bGwgJiYgb3ZlcnJpZGUgIT09IHZvaWQgMCA/IG92ZXJyaWRlIDogdGhpcy5kZWZhdWx0VmFsdWU7XG4gICAgICAgIHRoaXMuZGVlcEFzc2lnbih0aGlzLnBvb2xbdGhpcy5sZW5ndGhdLmRhdGEsIHRhcmdldCk7XG4gICAgICAgIHRoaXMubGVuZ3RoICs9IDE7XG4gICAgfTtcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZW50aXR5SWQpIHtcbiAgICAgICAgdmFyIGluZGV4T2YgPSB0aGlzLnBvb2wuZmluZEluZGV4KGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLmVudGl0eUlkID09PSBlbnRpdHlJZDsgfSk7XG4gICAgICAgIGlmIChpbmRleE9mIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW1vdmVkID0gdGhpcy5wb29sW2luZGV4T2ZdO1xuICAgICAgICB2YXIgbGFzdEluZGV4ID0gdGhpcy5sZW5ndGggLSAxO1xuICAgICAgICB0aGlzLnBvb2xbaW5kZXhPZl0gPSB0aGlzLnBvb2xbbGFzdEluZGV4XTtcbiAgICAgICAgcmVtb3ZlZC5lbnRpdHlJZCA9IC0xO1xuICAgICAgICB0aGlzLnBvb2xbbGFzdEluZGV4XSA9IHJlbW92ZWQ7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGFzdEluZGV4O1xuICAgIH07XG4gICAgLy8gVE9ETzogd2Ugc2hvdWxkIG5vdCBjaGFuZ2UgY29tcG9uZW50LXBvb2wgc3RhdGUsIHdlIHNob3VsZCByZXR1cm4gYSB3cmFwcGVyXG4gICAgLy8gICAgICAgY2xvc2p1cmUvb2JqZWN0IHRoYXQgY29udGFpbnMgcG9zIGFuZCBzbyBvbiB0byBhdm9pZCBoZWxsaXNoIGJ1Z3NcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvcyA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0aGlzLnBvb2xbdGhpcy5wb3MrK11cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZG9uZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiBudWxsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS51bnNhZmVHZXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9vbFtpbmRleF07XG4gICAgfTtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWFueVxuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgaW5kZXggPSAwOyAvLyBUT0RPOiBpbXBsZW1lbnQgZW50cmllcyB0byBnZXQgaW5kZXggaW4gZm9yIGxvb3BcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29tcCA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoY29tcCwgaW5kZXgsIHRoaXMucG9vbCkpIHsgLy8gVE9ETzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tYW55XG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGNhbGxiYWNrZm4sIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdmFyIGluZGV4ID0gMDsgLy8gVE9ETzogaW1wbGVtZW50IGVudHJpZXMgdG8gZ2V0IGluZGV4IGluIGZvciBsb29wXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXAgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tmbihjb21wLCBpbmRleCwgdGhpcy5wb29sKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb21wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5kZXggKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBDb21wb25lbnRQb29sLnByb3RvdHlwZS5vbkV4cGFuZFBvb2wgPSBmdW5jdGlvbiAoZmlyc3RFeHBhbmQpIHtcbiAgICAgICAgaWYgKGZpcnN0RXhwYW5kKSB7XG4gICAgICAgICAgICB0aGlzLnBvb2wgPSBuZXcgQXJyYXkodGhpcy5zdHJpZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wb29sLmxlbmd0aCArPSB0aGlzLnN0cmlkZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGg7IGkgPCB0aGlzLnBvb2wubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMucG9vbFtpXSA9IHtcbiAgICAgICAgICAgICAgICBlbnRpdHlJZDogLTEsXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5kZWVwQ29weSh0aGlzLmRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFNvdXJjZTogaHR0cHM6Ly9tZWRpdW0uY29tL2phdmFzY3JpcHQtaW4tcGxhaW4tZW5nbGlzaC9ob3ctdG8tZGVlcC1jb3B5LW9iamVjdHMtYW5kLWFycmF5cy1pbi1qYXZhc2NyaXB0LTdjOTExMzU5YjA4OVxuICAgIENvbXBvbmVudFBvb2wucHJvdG90eXBlLmRlZXBDb3B5ID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBpZiAoIXNvdXJjZSB8fCB0eXBlb2Ygc291cmNlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG5vLWFueVxuICAgICAgICB2YXIgY29weSA9IEFycmF5LmlzQXJyYXkoc291cmNlKSA/IFtdIDoge307XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGNvcHlba2V5XSA9IHRoaXMuZGVlcENvcHkoc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3B5O1xuICAgIH07XG4gICAgQ29tcG9uZW50UG9vbC5wcm90b3R5cGUuZGVlcEFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRba2V5XSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlZXBBc3NpZ24odGFyZ2V0W2tleV0sIHNvdXJjZVtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENvbXBvbmVudFBvb2w7XG59KCkpO1xuZXhwb3J0cy5Db21wb25lbnRQb29sID0gQ29tcG9uZW50UG9vbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBvbmVudC1wb29sLmpzLm1hcCIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIHx8XG4gIGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob2JqKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIHZhciBkZXNjcmlwdG9ycyA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgZGVzY3JpcHRvcnNba2V5c1tpXV0gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBkZXNjcmlwdG9ycztcbiAgfTtcblxudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5leHBvcnRzLmZvcm1hdCA9IGZ1bmN0aW9uKGYpIHtcbiAgaWYgKCFpc1N0cmluZyhmKSkge1xuICAgIHZhciBvYmplY3RzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0cy5qb2luKCcgJyk7XG4gIH1cblxuICB2YXIgaSA9IDE7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIHZhciBzdHIgPSBTdHJpbmcoZikucmVwbGFjZShmb3JtYXRSZWdFeHAsIGZ1bmN0aW9uKHgpIHtcbiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJztcbiAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgIHN3aXRjaCAoeCkge1xuICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICBjYXNlICclZCc6IHJldHVybiBOdW1iZXIoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVqJzpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgfSBjYXRjaCAoXykge1xuICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgfSk7XG4gIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgaWYgKGlzTnVsbCh4KSB8fCAhaXNPYmplY3QoeCkpIHtcbiAgICAgIHN0ciArPSAnICcgKyB4O1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgKz0gJyAnICsgaW5zcGVjdCh4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5cblxuLy8gTWFyayB0aGF0IGEgbWV0aG9kIHNob3VsZCBub3QgYmUgdXNlZC5cbi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuXG4vLyBJZiAtLW5vLWRlcHJlY2F0aW9uIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLlxuZXhwb3J0cy5kZXByZWNhdGUgPSBmdW5jdGlvbihmbiwgbXNnKSB7XG4gIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbiwgbXNnKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICB2YXIgd2FybmVkID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGRlcHJlY2F0ZWQoKSB7XG4gICAgaWYgKCF3YXJuZWQpIHtcbiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MudHJhY2VEZXByZWNhdGlvbikge1xuICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1zZyk7XG4gICAgICB9XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIHJldHVybiBkZXByZWNhdGVkO1xufTtcblxuXG52YXIgZGVidWdzID0ge307XG52YXIgZGVidWdFbnZpcm9uO1xuZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkge1xuICBpZiAoaXNVbmRlZmluZWQoZGVidWdFbnZpcm9uKSlcbiAgICBkZWJ1Z0Vudmlyb24gPSBwcm9jZXNzLmVudi5OT0RFX0RFQlVHIHx8ICcnO1xuICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTtcbiAgaWYgKCFkZWJ1Z3Nbc2V0XSkge1xuICAgIGlmIChuZXcgUmVnRXhwKCdcXFxcYicgKyBzZXQgKyAnXFxcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkge1xuICAgICAgdmFyIHBpZCA9IHByb2Nlc3MucGlkO1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJyVzICVkOiAlcycsIHNldCwgcGlkLCBtc2cpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWdzW3NldF0gPSBmdW5jdGlvbigpIHt9O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVidWdzW3NldF07XG59O1xuXG5cbi8qKlxuICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dFxuICogaW4gdGhlIGJlc3Qgd2F5IHBvc3NpYmxlIGdpdmVuIHRoZSBkaWZmZXJlbnQgdHlwZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzIE9wdGlvbmFsIG9wdGlvbnMgb2JqZWN0IHRoYXQgYWx0ZXJzIHRoZSBvdXRwdXQuXG4gKi9cbi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi9cbmZ1bmN0aW9uIGluc3BlY3Qob2JqLCBvcHRzKSB7XG4gIC8vIGRlZmF1bHQgb3B0aW9uc1xuICB2YXIgY3R4ID0ge1xuICAgIHNlZW46IFtdLFxuICAgIHN0eWxpemU6IHN0eWxpemVOb0NvbG9yXG4gIH07XG4gIC8vIGxlZ2FjeS4uLlxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAzKSBjdHguZGVwdGggPSBhcmd1bWVudHNbMl07XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107XG4gIGlmIChpc0Jvb2xlYW4ob3B0cykpIHtcbiAgICAvLyBsZWdhY3kuLi5cbiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7XG4gIH0gZWxzZSBpZiAob3B0cykge1xuICAgIC8vIGdvdCBhbiBcIm9wdGlvbnNcIiBvYmplY3RcbiAgICBleHBvcnRzLl9leHRlbmQoY3R4LCBvcHRzKTtcbiAgfVxuICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXG4gIGlmIChpc1VuZGVmaW5lZChjdHguc2hvd0hpZGRlbikpIGN0eC5zaG93SGlkZGVuID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmNvbG9ycykpIGN0eC5jb2xvcnMgPSBmYWxzZTtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jdXN0b21JbnNwZWN0KSkgY3R4LmN1c3RvbUluc3BlY3QgPSB0cnVlO1xuICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yO1xuICByZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aCk7XG59XG5leHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0O1xuXG5cbi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuaW5zcGVjdC5jb2xvcnMgPSB7XG4gICdib2xkJyA6IFsxLCAyMl0sXG4gICdpdGFsaWMnIDogWzMsIDIzXSxcbiAgJ3VuZGVybGluZScgOiBbNCwgMjRdLFxuICAnaW52ZXJzZScgOiBbNywgMjddLFxuICAnd2hpdGUnIDogWzM3LCAzOV0sXG4gICdncmV5JyA6IFs5MCwgMzldLFxuICAnYmxhY2snIDogWzMwLCAzOV0sXG4gICdibHVlJyA6IFszNCwgMzldLFxuICAnY3lhbicgOiBbMzYsIDM5XSxcbiAgJ2dyZWVuJyA6IFszMiwgMzldLFxuICAnbWFnZW50YScgOiBbMzUsIDM5XSxcbiAgJ3JlZCcgOiBbMzEsIDM5XSxcbiAgJ3llbGxvdycgOiBbMzMsIDM5XVxufTtcblxuLy8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5pbnNwZWN0LnN0eWxlcyA9IHtcbiAgJ3NwZWNpYWwnOiAnY3lhbicsXG4gICdudW1iZXInOiAneWVsbG93JyxcbiAgJ2Jvb2xlYW4nOiAneWVsbG93JyxcbiAgJ3VuZGVmaW5lZCc6ICdncmV5JyxcbiAgJ251bGwnOiAnYm9sZCcsXG4gICdzdHJpbmcnOiAnZ3JlZW4nLFxuICAnZGF0ZSc6ICdtYWdlbnRhJyxcbiAgLy8gXCJuYW1lXCI6IGludGVudGlvbmFsbHkgbm90IHN0eWxpbmdcbiAgJ3JlZ2V4cCc6ICdyZWQnXG59O1xuXG5cbmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHtcbiAgdmFyIHN0eWxlID0gaW5zcGVjdC5zdHlsZXNbc3R5bGVUeXBlXTtcblxuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gJ1xcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVswXSArICdtJyArIHN0ciArXG4gICAgICAgICAgICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIHN0eWxpemVOb0NvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHJldHVybiBzdHI7XG59XG5cblxuZnVuY3Rpb24gYXJyYXlUb0hhc2goYXJyYXkpIHtcbiAgdmFyIGhhc2ggPSB7fTtcblxuICBhcnJheS5mb3JFYWNoKGZ1bmN0aW9uKHZhbCwgaWR4KSB7XG4gICAgaGFzaFt2YWxdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGhhc2g7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7XG4gIC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cbiAgLy8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG4gIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuICAgICAgdmFsdWUgJiZcbiAgICAgIGlzRnVuY3Rpb24odmFsdWUuaW5zcGVjdCkgJiZcbiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbFxuICAgICAgdmFsdWUuaW5zcGVjdCAhPT0gZXhwb3J0cy5pbnNwZWN0ICYmXG4gICAgICAvLyBBbHNvIGZpbHRlciBvdXQgYW55IHByb3RvdHlwZSBvYmplY3RzIHVzaW5nIHRoZSBjaXJjdWxhciBjaGVjay5cbiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHtcbiAgICB2YXIgcmV0ID0gdmFsdWUuaW5zcGVjdChyZWN1cnNlVGltZXMsIGN0eCk7XG4gICAgaWYgKCFpc1N0cmluZyhyZXQpKSB7XG4gICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIC8vIFByaW1pdGl2ZSB0eXBlcyBjYW5ub3QgaGF2ZSBwcm9wZXJ0aWVzXG4gIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7XG4gIGlmIChwcmltaXRpdmUpIHtcbiAgICByZXR1cm4gcHJpbWl0aXZlO1xuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUga2V5cyBvZiB0aGUgb2JqZWN0LlxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgdmFyIHZpc2libGVLZXlzID0gYXJyYXlUb0hhc2goa2V5cyk7XG5cbiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7XG4gICAga2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKTtcbiAgfVxuXG4gIC8vIElFIGRvZXNuJ3QgbWFrZSBlcnJvciBmaWVsZHMgbm9uLWVudW1lcmFibGVcbiAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2R3dzUyc2J0KHY9dnMuOTQpLmFzcHhcbiAgaWYgKGlzRXJyb3IodmFsdWUpXG4gICAgICAmJiAoa2V5cy5pbmRleE9mKCdtZXNzYWdlJykgPj0gMCB8fCBrZXlzLmluZGV4T2YoJ2Rlc2NyaXB0aW9uJykgPj0gMCkpIHtcbiAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgLy8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgIHZhciBuYW1lID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpO1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGJhc2UgPSAnJywgYXJyYXkgPSBmYWxzZSwgYnJhY2VzID0gWyd7JywgJ30nXTtcblxuICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIGFycmF5ID0gdHJ1ZTtcbiAgICBicmFjZXMgPSBbJ1snLCAnXSddO1xuICB9XG5cbiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zXG4gIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgIHZhciBuID0gdmFsdWUubmFtZSA/ICc6ICcgKyB2YWx1ZS5uYW1lIDogJyc7XG4gICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7XG4gIH1cblxuICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuICBpZiAoaXNSZWdFeHAodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGRhdGVzIHdpdGggcHJvcGVydGllcyBmaXJzdCBzYXkgdGhlIGRhdGVcbiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIH1cblxuICAvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG4gIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7XG4gIH1cblxuICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHtcbiAgICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArIGJyYWNlc1sxXTtcbiAgfVxuXG4gIGlmIChyZWN1cnNlVGltZXMgPCAwKSB7XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbT2JqZWN0XScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG5cbiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7XG5cbiAgdmFyIG91dHB1dDtcbiAgaWYgKGFycmF5KSB7XG4gICAgb3V0cHV0ID0gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cyk7XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSk7XG4gICAgfSk7XG4gIH1cblxuICBjdHguc2Vlbi5wb3AoKTtcblxuICByZXR1cm4gcmVkdWNlVG9TaW5nbGVTdHJpbmcob3V0cHV0LCBiYXNlLCBicmFjZXMpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKSB7XG4gIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCd1bmRlZmluZWQnLCAndW5kZWZpbmVkJyk7XG4gIGlmIChpc1N0cmluZyh2YWx1ZSkpIHtcbiAgICB2YXIgc2ltcGxlID0gJ1xcJycgKyBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXlwifFwiJC9nLCAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJztcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7XG4gIH1cbiAgaWYgKGlzTnVtYmVyKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpO1xuICBpZiAoaXNCb29sZWFuKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ2Jvb2xlYW4nKTtcbiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzIFwib2JqZWN0XCIsIHNvIHNwZWNpYWwgY2FzZSBoZXJlLlxuICBpZiAoaXNOdWxsKHZhbHVlKSlcbiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ251bGwnLCAnbnVsbCcpO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKHZhbHVlKSB7XG4gIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0QXJyYXkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7XG4gICAgaWYgKGhhc093blByb3BlcnR5KHZhbHVlLCBTdHJpbmcoaSkpKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaCgnJyk7XG4gICAgfVxuICB9XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoIWtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG4gICAgICAgICAga2V5LCB0cnVlKSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KSB7XG4gIHZhciBuYW1lLCBzdHIsIGRlc2M7XG4gIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTtcbiAgaWYgKGRlc2MuZ2V0KSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRlc2Muc2V0KSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7XG4gICAgbmFtZSA9ICdbJyArIGtleSArICddJztcbiAgfVxuICBpZiAoIXN0cikge1xuICAgIGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuICAgICAgaWYgKGlzTnVsbChyZWN1cnNlVGltZXMpKSB7XG4gICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIHJlY3Vyc2VUaW1lcyAtIDEpO1xuICAgICAgfVxuICAgICAgaWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKS5zdWJzdHIoMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgICcgKyBsaW5lO1xuICAgICAgICAgIH0pLmpvaW4oJ1xcbicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbQ2lyY3VsYXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzVW5kZWZpbmVkKG5hbWUpKSB7XG4gICAgaWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7XG4gICAgaWYgKG5hbWUubWF0Y2goL15cIihbYS16QS1aX11bYS16QS1aXzAtOV0qKVwiJC8pKSB7XG4gICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnbmFtZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIilcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKF5cInxcIiQpL2csIFwiJ1wiKTtcbiAgICAgIG5hbWUgPSBjdHguc3R5bGl6ZShuYW1lLCAnc3RyaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5hbWUgKyAnOiAnICsgc3RyO1xufVxuXG5cbmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7XG4gIHZhciBudW1MaW5lc0VzdCA9IDA7XG4gIHZhciBsZW5ndGggPSBvdXRwdXQucmVkdWNlKGZ1bmN0aW9uKHByZXYsIGN1cikge1xuICAgIG51bUxpbmVzRXN0Kys7XG4gICAgaWYgKGN1ci5pbmRleE9mKCdcXG4nKSA+PSAwKSBudW1MaW5lc0VzdCsrO1xuICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1xcdTAwMWJcXFtcXGRcXGQ/bS9nLCAnJykubGVuZ3RoICsgMTtcbiAgfSwgMCk7XG5cbiAgaWYgKGxlbmd0aCA+IDYwKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArXG4gICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBvdXRwdXQuam9pbignLFxcbiAgJykgK1xuICAgICAgICAgICAnICcgK1xuICAgICAgICAgICBicmFjZXNbMV07XG4gIH1cblxuICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdO1xufVxuXG5cbi8vIE5PVEU6IFRoZXNlIHR5cGUgY2hlY2tpbmcgZnVuY3Rpb25zIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIGBpbnN0YW5jZW9mYFxuLy8gYmVjYXVzZSBpdCBpcyBmcmFnaWxlIGFuZCBjYW4gYmUgZWFzaWx5IGZha2VkIHdpdGggYE9iamVjdC5jcmVhdGUoKWAuXG5mdW5jdGlvbiBpc0FycmF5KGFyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGFyKTtcbn1cbmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn1cbmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuO1xuXG5mdW5jdGlvbiBpc051bGwoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbCA9IGlzTnVsbDtcblxuZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cbmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjtcblxuZnVuY3Rpb24gaXNTdHJpbmcoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn1cbmV4cG9ydHMuaXNTdHJpbmcgPSBpc1N0cmluZztcblxuZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3ltYm9sJztcbn1cbmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDtcblxuZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7XG4gIHJldHVybiBhcmcgPT09IHZvaWQgMDtcbn1cbmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcblxuZnVuY3Rpb24gaXNSZWdFeHAocmUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHJlKSAmJiBvYmplY3RUb1N0cmluZyhyZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwO1xuXG5mdW5jdGlvbiBpc09iamVjdChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbn1cbmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDtcblxuZnVuY3Rpb24gaXNEYXRlKGQpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5leHBvcnRzLmlzRGF0ZSA9IGlzRGF0ZTtcblxuZnVuY3Rpb24gaXNFcnJvcihlKSB7XG4gIHJldHVybiBpc09iamVjdChlKSAmJlxuICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7XG59XG5leHBvcnRzLmlzRXJyb3IgPSBpc0Vycm9yO1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG5cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCcgfHwgIC8vIEVTNiBzeW1ib2xcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnO1xufVxuZXhwb3J0cy5pc1ByaW1pdGl2ZSA9IGlzUHJpbWl0aXZlO1xuXG5leHBvcnRzLmlzQnVmZmVyID0gcmVxdWlyZSgnLi9zdXBwb3J0L2lzQnVmZmVyJyk7XG5cbmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKTtcbn1cblxuXG5mdW5jdGlvbiBwYWQobikge1xuICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTtcbn1cblxuXG52YXIgbW9udGhzID0gWydKYW4nLCAnRmViJywgJ01hcicsICdBcHInLCAnTWF5JywgJ0p1bicsICdKdWwnLCAnQXVnJywgJ1NlcCcsXG4gICAgICAgICAgICAgICdPY3QnLCAnTm92JywgJ0RlYyddO1xuXG4vLyAyNiBGZWIgMTY6MTk6MzRcbmZ1bmN0aW9uIHRpbWVzdGFtcCgpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICB2YXIgdGltZSA9IFtwYWQoZC5nZXRIb3VycygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0TWludXRlcygpKSxcbiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpO1xuICByZXR1cm4gW2QuZ2V0RGF0ZSgpLCBtb250aHNbZC5nZXRNb250aCgpXSwgdGltZV0uam9pbignICcpO1xufVxuXG5cbi8vIGxvZyBpcyBqdXN0IGEgdGhpbiB3cmFwcGVyIHRvIGNvbnNvbGUubG9nIHRoYXQgcHJlcGVuZHMgYSB0aW1lc3RhbXBcbmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKCclcyAtICVzJywgdGltZXN0YW1wKCksIGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cykpO1xufTtcblxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci5cbiAqXG4gKiBUaGUgRnVuY3Rpb24ucHJvdG90eXBlLmluaGVyaXRzIGZyb20gbGFuZy5qcyByZXdyaXR0ZW4gYXMgYSBzdGFuZGFsb25lXG4gKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWRcbiAqIGR1cmluZyBib290c3RyYXBwaW5nIHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmV3cml0dGVuIHVzaW5nIHNvbWUgbmF0aXZlXG4gKiBmdW5jdGlvbnMgYXMgcHJvdG90eXBlIHNldHVwIHVzaW5nIG5vcm1hbCBKYXZhU2NyaXB0IGRvZXMgbm90IHdvcmsgYXNcbiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gd2hpY2ggbmVlZHMgdG8gaW5oZXJpdCB0aGVcbiAqICAgICBwcm90b3R5cGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzdXBlckN0b3IgQ29uc3RydWN0b3IgZnVuY3Rpb24gdG8gaW5oZXJpdCBwcm90b3R5cGUgZnJvbS5cbiAqL1xuZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmV4cG9ydHMuX2V4dGVuZCA9IGZ1bmN0aW9uKG9yaWdpbiwgYWRkKSB7XG4gIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3RcbiAgaWYgKCFhZGQgfHwgIWlzT2JqZWN0KGFkZCkpIHJldHVybiBvcmlnaW47XG5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvcmlnaW47XG59O1xuXG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG52YXIga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sID0gdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgPyBTeW1ib2woJ3V0aWwucHJvbWlzaWZ5LmN1c3RvbScpIDogdW5kZWZpbmVkO1xuXG5leHBvcnRzLnByb21pc2lmeSA9IGZ1bmN0aW9uIHByb21pc2lmeShvcmlnaW5hbCkge1xuICBpZiAodHlwZW9mIG9yaWdpbmFsICE9PSAnZnVuY3Rpb24nKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcIm9yaWdpbmFsXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uJyk7XG5cbiAgaWYgKGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCAmJiBvcmlnaW5hbFtrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2xdKSB7XG4gICAgdmFyIGZuID0gb3JpZ2luYWxba0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXTtcbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJ1dGlsLnByb21pc2lmeS5jdXN0b21cIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCBrQ3VzdG9tUHJvbWlzaWZpZWRTeW1ib2wsIHtcbiAgICAgIHZhbHVlOiBmbiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgZnVuY3Rpb24gZm4oKSB7XG4gICAgdmFyIHByb21pc2VSZXNvbHZlLCBwcm9taXNlUmVqZWN0O1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgcHJvbWlzZVJlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcblxuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cbiAgICBhcmdzLnB1c2goZnVuY3Rpb24gKGVyciwgdmFsdWUpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcHJvbWlzZVJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvbWlzZVJlc29sdmUodmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHJ5IHtcbiAgICAgIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcHJvbWlzZVJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGZuLCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3JpZ2luYWwpKTtcblxuICBpZiAoa0N1c3RvbVByb21pc2lmaWVkU3ltYm9sKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIGtDdXN0b21Qcm9taXNpZmllZFN5bWJvbCwge1xuICAgIHZhbHVlOiBmbiwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoXG4gICAgZm4sXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvcmlnaW5hbClcbiAgKTtcbn1cblxuZXhwb3J0cy5wcm9taXNpZnkuY3VzdG9tID0ga0N1c3RvbVByb21pc2lmaWVkU3ltYm9sXG5cbmZ1bmN0aW9uIGNhbGxiYWNraWZ5T25SZWplY3RlZChyZWFzb24sIGNiKSB7XG4gIC8vIGAhcmVhc29uYCBndWFyZCBpbnNwaXJlZCBieSBibHVlYmlyZCAoUmVmOiBodHRwczovL2dvby5nbC90NUlTNk0pLlxuICAvLyBCZWNhdXNlIGBudWxsYCBpcyBhIHNwZWNpYWwgZXJyb3IgdmFsdWUgaW4gY2FsbGJhY2tzIHdoaWNoIG1lYW5zIFwibm8gZXJyb3JcbiAgLy8gb2NjdXJyZWRcIiwgd2UgZXJyb3Itd3JhcCBzbyB0aGUgY2FsbGJhY2sgY29uc3VtZXIgY2FuIGRpc3Rpbmd1aXNoIGJldHdlZW5cbiAgLy8gXCJ0aGUgcHJvbWlzZSByZWplY3RlZCB3aXRoIG51bGxcIiBvciBcInRoZSBwcm9taXNlIGZ1bGZpbGxlZCB3aXRoIHVuZGVmaW5lZFwiLlxuICBpZiAoIXJlYXNvbikge1xuICAgIHZhciBuZXdSZWFzb24gPSBuZXcgRXJyb3IoJ1Byb21pc2Ugd2FzIHJlamVjdGVkIHdpdGggYSBmYWxzeSB2YWx1ZScpO1xuICAgIG5ld1JlYXNvbi5yZWFzb24gPSByZWFzb247XG4gICAgcmVhc29uID0gbmV3UmVhc29uO1xuICB9XG4gIHJldHVybiBjYihyZWFzb24pO1xufVxuXG5mdW5jdGlvbiBjYWxsYmFja2lmeShvcmlnaW5hbCkge1xuICBpZiAodHlwZW9mIG9yaWdpbmFsICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwib3JpZ2luYWxcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24nKTtcbiAgfVxuXG4gIC8vIFdlIERPIE5PVCByZXR1cm4gdGhlIHByb21pc2UgYXMgaXQgZ2l2ZXMgdGhlIHVzZXIgYSBmYWxzZSBzZW5zZSB0aGF0XG4gIC8vIHRoZSBwcm9taXNlIGlzIGFjdHVhbGx5IHNvbWVob3cgcmVsYXRlZCB0byB0aGUgY2FsbGJhY2sncyBleGVjdXRpb25cbiAgLy8gYW5kIHRoYXQgdGhlIGNhbGxiYWNrIHRocm93aW5nIHdpbGwgcmVqZWN0IHRoZSBwcm9taXNlLlxuICBmdW5jdGlvbiBjYWxsYmFja2lmaWVkKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cblxuICAgIHZhciBtYXliZUNiID0gYXJncy5wb3AoKTtcbiAgICBpZiAodHlwZW9mIG1heWJlQ2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsYXN0IGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbicpO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGNiID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbWF5YmVDYi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgLy8gSW4gdHJ1ZSBub2RlIHN0eWxlIHdlIHByb2Nlc3MgdGhlIGNhbGxiYWNrIG9uIGBuZXh0VGlja2Agd2l0aCBhbGwgdGhlXG4gICAgLy8gaW1wbGljYXRpb25zIChzdGFjaywgYHVuY2F1Z2h0RXhjZXB0aW9uYCwgYGFzeW5jX2hvb2tzYClcbiAgICBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKVxuICAgICAgLnRoZW4oZnVuY3Rpb24ocmV0KSB7IHByb2Nlc3MubmV4dFRpY2soY2IsIG51bGwsIHJldCkgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHJlaikgeyBwcm9jZXNzLm5leHRUaWNrKGNhbGxiYWNraWZ5T25SZWplY3RlZCwgcmVqLCBjYikgfSk7XG4gIH1cblxuICBPYmplY3Quc2V0UHJvdG90eXBlT2YoY2FsbGJhY2tpZmllZCwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG9yaWdpbmFsKSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNhbGxiYWNraWZpZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvcnMob3JpZ2luYWwpKTtcbiAgcmV0dXJuIGNhbGxiYWNraWZpZWQ7XG59XG5leHBvcnRzLmNhbGxiYWNraWZ5ID0gY2FsbGJhY2tpZnk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufSIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzID0gZmFsc2U7XG5leHBvcnQgdmFyIGNvbmZpZyA9IHtcbiAgICBQcm9taXNlOiB1bmRlZmluZWQsXG4gICAgc2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSAvKkBfX1BVUkVfXyovIG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLndhcm4oJ0RFUFJFQ0FURUQhIFJ4SlMgd2FzIHNldCB0byB1c2UgZGVwcmVjYXRlZCBzeW5jaHJvbm91cyBlcnJvciBoYW5kbGluZyBiZWhhdmlvciBieSBjb2RlIGF0OiBcXG4nICsgZXJyb3Iuc3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncykge1xuICAgICAgICAgICAgLypAX19QVVJFX18qLyBjb25zb2xlLmxvZygnUnhKUzogQmFjayB0byBhIGJldHRlciBlcnJvciBiZWhhdmlvci4gVGhhbmsgeW91LiA8MycpO1xuICAgICAgICB9XG4gICAgICAgIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0IHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcoKSB7XG4gICAgICAgIHJldHVybiBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3M7XG4gICAgfSxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaG9zdFJlcG9ydEVycm9yKGVycikge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyB0aHJvdyBlcnI7IH0sIDApO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aG9zdFJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfY29uZmlnLF91dGlsX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvaG9zdFJlcG9ydEVycm9yJztcbmV4cG9ydCB2YXIgZW1wdHkgPSB7XG4gICAgY2xvc2VkOiB0cnVlLFxuICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB9LFxuICAgIGVycm9yOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7IH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgaXNBcnJheSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIEFycmF5LmlzQXJyYXkgfHwgKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcic7IH0pOyB9KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbnZhciBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbChlcnJvcnMpIHtcbiAgICAgICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzID9cbiAgICAgICAgICAgIGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpIDogJyc7XG4gICAgICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBVbnN1YnNjcmlwdGlvbkVycm9ySW1wbC5wcm90b3R5cGUgPSAvKkBfX1BVUkVfXyovIE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICByZXR1cm4gVW5zdWJzY3JpcHRpb25FcnJvckltcGw7XG59KSgpO1xuZXhwb3J0IHZhciBVbnN1YnNjcmlwdGlvbkVycm9yID0gVW5zdWJzY3JpcHRpb25FcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VbnN1YnNjcmlwdGlvbkVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc0FycmF5LF91dGlsX2lzT2JqZWN0LF91dGlsX2lzRnVuY3Rpb24sX3V0aWxfVW5zdWJzY3JpcHRpb25FcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL3V0aWwvaXNPYmplY3QnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IFVuc3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICcuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvcic7XG52YXIgU3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbih1bnN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IHVuc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnRPclBhcmVudHMgPSBfYS5fcGFyZW50T3JQYXJlbnRzLCBfdW5zdWJzY3JpYmUgPSBfYS5fdW5zdWJzY3JpYmUsIF9zdWJzY3JpcHRpb25zID0gX2EuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBfcGFyZW50T3JQYXJlbnRzLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgX3BhcmVudE9yUGFyZW50cy5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50XzEgPSBfcGFyZW50T3JQYXJlbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBwYXJlbnRfMS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oX3Vuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfdW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpIDogW2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KF9zdWJzY3JpcHRpb25zKSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgICAgICB2YXIgbGVuID0gX3N1YnNjcmlwdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViID0gX3N1YnNjcmlwdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChzdWIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0ZWFyZG93bjtcbiAgICAgICAgaWYgKCF0ZWFyZG93bikge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0ZWFyZG93bikge1xuICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24odGVhcmRvd24pO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uID09PSB0aGlzIHx8IHN1YnNjcmlwdGlvbi5jbG9zZWQgfHwgdHlwZW9mIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIShzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9zdWJzY3JpcHRpb25zID0gW3RtcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkIHRlYXJkb3duICcgKyB0ZWFyZG93biArICcgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBfcGFyZW50T3JQYXJlbnRzID0gc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cyBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHMgPSBbX3BhcmVudE9yUGFyZW50cywgdGhpc107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cy5pbmRleE9mKHRoaXMpID09PSAtMSkge1xuICAgICAgICAgICAgX3BhcmVudE9yUGFyZW50cy5wdXNoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gW3N1YnNjcmlwdGlvbl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25JbmRleCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKHN1YnNjcmlwdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uIChlbXB0eSkge1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfShuZXcgU3Vic2NyaXB0aW9uKCkpKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZnVuY3Rpb24gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMucmVkdWNlKGZ1bmN0aW9uIChlcnJzLCBlcnIpIHsgcmV0dXJuIGVycnMuY29uY2F0KChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSA/IGVyci5lcnJvcnMgOiBlcnIpOyB9LCBbXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICAgIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IHZhciByeFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAvKkBfX1BVUkVfXyovIFN5bWJvbCgncnhTdWJzY3JpYmVyJylcbiAgICAgICAgOiAnQEByeFN1YnNjcmliZXJfJyArIC8qQF9fUFVSRV9fKi8gTWF0aC5yYW5kb20oKTtcbn0pKCk7XG5leHBvcnQgdmFyICQkcnhTdWJzY3JpYmVyID0gcnhTdWJzY3JpYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnhTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc0Z1bmN0aW9uLF9PYnNlcnZlcixfU3Vic2NyaXB0aW9uLF9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9jb25maWcsX3V0aWxfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4vT2JzZXJ2ZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG52YXIgU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZXIoZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JWYWx1ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93biA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uT3JOZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzdGluYXRpb25Pck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGRlc3RpbmF0aW9uT3JOZXh0LnN5bmNFcnJvclRocm93YWJsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb25Pck5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbk9yTmV4dC5hZGQoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnNjcmliZXIucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgIFN1YnNjcmliZXIuY3JlYXRlID0gZnVuY3Rpb24gKG5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKG5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIHN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHRoaXMuX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBfcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihfcGFyZW50U3Vic2NyaWJlciwgb2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IF9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB2YXIgbmV4dDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBfdGhpcztcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dC5uZXh0O1xuICAgICAgICAgICAgZXJyb3IgPSBvYnNlcnZlck9yTmV4dC5lcnJvcjtcbiAgICAgICAgICAgIGNvbXBsZXRlID0gb2JzZXJ2ZXJPck5leHQuY29tcGxldGU7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJPck5leHQgIT09IGVtcHR5T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dC51bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkKGNvbnRleHQudW5zdWJzY3JpYmUuYmluZChjb250ZXh0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQudW5zdWJzY3JpYmUgPSBfdGhpcy51bnN1YnNjcmliZS5iaW5kKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIF90aGlzLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgIF90aGlzLl9jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQgJiYgdGhpcy5fbmV4dCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX25leHQsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9uZXh0LCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIHZhciB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nID0gY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZENvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2NvbXBsZXRlLmNhbGwoX3RoaXMuX2NvbnRleHQpOyB9O1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgd3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JVbnN1YiA9IGZ1bmN0aW9uIChmbiwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclNldEVycm9yID0gZnVuY3Rpb24gKHBhcmVudCwgZm4sIHZhbHVlKSB7XG4gICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGNhbGwnKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICBfcGFyZW50U3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNhZmVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTYWZlU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB2YXIgb2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUgfHwgJ0BAb2JzZXJ2YWJsZSc7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KHgpIHtcbiAgICByZXR1cm4geDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aXR5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfaWRlbnRpdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2lkZW50aXR5JztcbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmIChmbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBpZGVudGl0eTtcbiAgICB9XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZuc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHBpcGVkKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBmbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBmbikgeyByZXR1cm4gZm4ocHJldik7IH0sIGlucHV0KTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGlwZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfY2FuUmVwb3J0RXJyb3IsX3V0aWxfdG9TdWJzY3JpYmVyLF9zeW1ib2xfb2JzZXJ2YWJsZSxfdXRpbF9waXBlLF9jb25maWcgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY2FuUmVwb3J0RXJyb3IgfSBmcm9tICcuL3V0aWwvY2FuUmVwb3J0RXJyb3InO1xuaW1wb3J0IHsgdG9TdWJzY3JpYmVyIH0gZnJvbSAnLi91dGlsL3RvU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xudmFyIE9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgdGhpcy5faXNTY2FsYXIgPSBmYWxzZTtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgb3BlcmF0b3IgPSB0aGlzLm9wZXJhdG9yO1xuICAgICAgICB2YXIgc2luayA9IHRvU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgaWYgKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBzaW5rLmFkZChvcGVyYXRvci5jYWxsKHNpbmssIHRoaXMuc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaW5rLmFkZCh0aGlzLnNvdXJjZSB8fCAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgJiYgIXNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSA/XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlKHNpbmspIDpcbiAgICAgICAgICAgICAgICB0aGlzLl90cnlTdWJzY3JpYmUoc2luaykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgaWYgKHNpbmsuc3luY0Vycm9yVGhyb3dhYmxlKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgc2luay5zeW5jRXJyb3JWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpbms7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdWJzY3JpYmUoc2luayk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNpbmsuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuUmVwb3J0RXJyb3Ioc2luaykpIHtcbiAgICAgICAgICAgICAgICBzaW5rLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gX3RoaXMuc3Vic2NyaWJlKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlamVjdCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZSAmJiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGVbU3ltYm9sX29ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnBpcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBvcGVyYXRpb25zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHZhbHVlID0geDsgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gcmVqZWN0KGVycik7IH0sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmUodmFsdWUpOyB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2YWJsZTtcbn0oKSk7XG5leHBvcnQgeyBPYnNlcnZhYmxlIH07XG5mdW5jdGlvbiBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcikge1xuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBjb25maWcuUHJvbWlzZSB8fCBQcm9taXNlO1xuICAgIH1cbiAgICBpZiAoIXByb21pc2VDdG9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gUHJvbWlzZSBpbXBsIGZvdW5kJyk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlQ3Rvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9ic2VydmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyLF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9PYnNlcnZlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyByeFN1YnNjcmliZXIgYXMgcnhTdWJzY3JpYmVyU3ltYm9sIH0gZnJvbSAnLi4vc3ltYm9sL3J4U3Vic2NyaWJlcic7XG5pbXBvcnQgeyBlbXB0eSBhcyBlbXB0eU9ic2VydmVyIH0gZnJvbSAnLi4vT2JzZXJ2ZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRvU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgaWYgKG5leHRPck9ic2VydmVyKSB7XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXh0T3JPYnNlcnZlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSkge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyW3J4U3Vic2NyaWJlclN5bWJvbF0oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW5leHRPck9ic2VydmVyICYmICFlcnJvciAmJiAhY29tcGxldGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJzY3JpYmVyKGVtcHR5T2JzZXJ2ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10b1N1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBjYW5SZXBvcnRFcnJvcihvYnNlcnZlcikge1xuICAgIHdoaWxlIChvYnNlcnZlcikge1xuICAgICAgICB2YXIgX2EgPSBvYnNlcnZlciwgY2xvc2VkXzEgPSBfYS5jbG9zZWQsIGRlc3RpbmF0aW9uID0gX2EuZGVzdGluYXRpb24sIGlzU3RvcHBlZCA9IF9hLmlzU3RvcHBlZDtcbiAgICAgICAgaWYgKGNsb3NlZF8xIHx8IGlzU3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc3RpbmF0aW9uICYmIGRlc3RpbmF0aW9uIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBkZXN0aW5hdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhblJlcG9ydEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1hcChwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hcE9wZXJhdGlvbihzb3VyY2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9qZWN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBpcyBub3QgYSBmdW5jdGlvbi4gQXJlIHlvdSBsb29raW5nIGZvciBgbWFwVG8oKWA/Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSk7XG4gICAgfTtcbn1cbnZhciBNYXBPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNYXBPcGVyYXRvcihwcm9qZWN0LCB0aGlzQXJnKSB7XG4gICAgICAgIHRoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIHRoaXMudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgfVxuICAgIE1hcE9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgTWFwU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnByb2plY3QsIHRoaXMudGhpc0FyZykpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcE9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE1hcE9wZXJhdG9yIH07XG52YXIgTWFwU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhNYXBTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnIHx8IF90aGlzO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsIHZhbHVlLCB0aGlzLmNvdW50KyspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBNYXBTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXAuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzQXJyYXksX3V0aWxfaXNGdW5jdGlvbixfb3BlcmF0b3JzX21hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG52YXIgdG9TdHJpbmcgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOyB9KSgpO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucywgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gaXNBcnJheShhcmdzKSA/IHJlc3VsdFNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJncykgOiByZXN1bHRTZWxlY3RvcihhcmdzKTsgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlcihlKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXBTdWJzY3JpcHRpb24odGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc2V0dXBTdWJzY3JpcHRpb24oc291cmNlT2JqLCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgdW5zdWJzY3JpYmU7XG4gICAgaWYgKGlzRXZlbnRUYXJnZXQoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzEgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzEucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8yID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmoub24oZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMi5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzMgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5hZGRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8zLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHNvdXJjZU9iaiAmJiBzb3VyY2VPYmoubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzb3VyY2VPYmoubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHNvdXJjZU9ialtpXSwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBldmVudCB0YXJnZXQnKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlci5hZGQodW5zdWJzY3JpYmUpO1xufVxuZnVuY3Rpb24gaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLmFkZExpc3RlbmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5vbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLm9mZiA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5yZW1vdmVFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50LmpzLm1hcFxuIiwiaW1wb3J0IHsgZnJvbUV2ZW50IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBFQ1NNYW5hZ2VyLCByZWdpc3RlckNvbXBvbmVudFR5cGUsIGFkZENvbXBvbmVudCwgQ29tcG9uZW50LCByZWdpc3RlclN5c3RlbSwgcmVnaXN0ZXJFdmVudCB9IGZyb20gJ25haXZlLXRzLWVjcyc7XG5cbi8vIHNvdXJjZTogZm9yIHJhbmRvbSBjb2xvcjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ4NDUwNi9yYW5kb20tY29sb3ItZ2VuZXJhdG9yI2NvbW1lbnQ2ODAxMzUzXzUzNjUwMzZcblxuLy8gY3JlYXRlIHNvbWUgdHlwZXMgdGhhdCByZXByZXNlbnQgY29tcG9uZW50c1xuaW50ZXJmYWNlIENpcmNsZSB7XG4gIHJhZGl1czogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgUG9zaXRpb24ge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFZlbG9jaXR5IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBDb2xvcmVkIHtcbiAgY29sb3I6IHN0cmluZztcbn1cblxuXG5pbnRlcmZhY2UgVW5pcXVlVGFnIHt9XG5cbi8vIGNyZWF0ZSBhIG1hbmFnZXJcbmNvbnN0IG1hbmFnZXIgPSBuZXcgRUNTTWFuYWdlcigpO1xuXG4vLyByZWdpc3RlciB5b3VyIHR5cGVzIGluIHRoZSBtYW5hZ2VyIHdpdGggZGVmYXVsdCB2YWx1ZXNcbnJlZ2lzdGVyQ29tcG9uZW50VHlwZTxDaXJjbGU+KG1hbmFnZXIsIHsgcmFkaXVzOiAxMCB9KTtcbnJlZ2lzdGVyQ29tcG9uZW50VHlwZTxQb3NpdGlvbj4obWFuYWdlciwgeyB4OiAwLCB5OiAwIH0pO1xucmVnaXN0ZXJDb21wb25lbnRUeXBlPFZlbG9jaXR5PihtYW5hZ2VyLCB7IHg6IDAsIHk6IDAgfSk7XG5yZWdpc3RlckNvbXBvbmVudFR5cGU8Q29sb3JlZD4obWFuYWdlciwgeyBjb2xvcjogJyNmZjAwMDAnIH0pO1xucmVnaXN0ZXJDb21wb25lbnRUeXBlPFVuaXF1ZVRhZz4obWFuYWdlciwgeyB9KTtcblxuXG5mcm9tRXZlbnQod2luZG93LCAnRE9NQ29udGVudExvYWRlZCcpLnN1YnNjcmliZSgoKSA9PiB7XG4gIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3YXZlU2hvb3RDYW52YXMnKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbiAgaWYgKCFjYW52YXMpIHtcbiAgICBjb25zb2xlLmVycm9yKCdmYWlsZWQgdG8gbG9hZCBjYW52YXMhJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cbiAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgLy8gY3JlYXRlIGVudGl0aWVzIGFuZCBhdHRhY2ggY29tcG9uZW50cyB0byB0aGVtXG4gIGNvbnN0IGNyZWF0ZUNpcmNsZUVudGl0eSA9IChwb3NYOiBudW1iZXIsIHBvc1k6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IGNpcmNsZU1heFNpemUgPSA0MDtcbiAgICBjb25zdCB7IGVudGl0eUlkIH0gPSBtYW5hZ2VyLmNyZWF0ZUVudGl0eSgpO1xuICAgIGNvbnN0IHJhZGl1cyA9IE1hdGgucmFuZG9tKCkgKiBjaXJjbGVNYXhTaXplO1xuICAgIGFkZENvbXBvbmVudDxDaXJjbGU+KG1hbmFnZXIsIGVudGl0eUlkLCB7IHJhZGl1czogcmFkaXVzIH0pO1xuICAgIGFkZENvbXBvbmVudDxQb3NpdGlvbj4obWFuYWdlciwgZW50aXR5SWQsIHsgeDogcG9zWCwgeTogcG9zWSB9KTtcbiAgICBhZGRDb21wb25lbnQ8VmVsb2NpdHk+KG1hbmFnZXIsIGVudGl0eUlkLCB7IHg6IE1hdGgucmFuZG9tKCkgKiA4ICsgMiwgeTogTWF0aC5yYW5kb20oKSAqIDggKyAyfSk7XG4gICAgYWRkQ29tcG9uZW50PENvbG9yZWQ+KG1hbmFnZXIsIGVudGl0eUlkLCB7IGNvbG9yOiAnIycrKE1hdGgucmFuZG9tKCkqMHhGRkZGRkY8PDApLnRvU3RyaW5nKDE2KSB9KTtcbiAgfVxuICBcbiAgLy8gV2UgaW5pdGlhbGx5IGNyZWF0ZSA1MDBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MDA7IGkrKykge1xuICAgIGNyZWF0ZUNpcmNsZUVudGl0eShNYXRoLnJhbmRvbSgpICogY2FudmFzLndpZHRoLCBNYXRoLnJhbmRvbSgpICogY2FudmFzLmhlaWdodCk7XG4gIH1cblxuICAvLyBjcmVhdGUgc3lzdGVtcyB0aGF0IHdpbGwgcnVuIGVhY2ggZnJhbWUgXG4gIC8vIGFsbCBzeXN0ZW1zIHRha2UgaW4gZGVsdGEgdGltZSBhcyB0aGVpciBmaXJzdCBhcmd1bWVudCAodGhlIHRpbWUgc2luY2UgbGFzdCBmcmFtZSlcbiAgLy8gYWxsIG90aGVyIGFyZ3VtZW50cyBuZWVkcyB0byBiZSB3cmFwcGVkIGluIGEgQ29tcG9uZW50PFQ+XG4gIGNvbnN0IGRyYXdDaXJjbGVTeXN0ZW0gPSAoX2R0OiBudW1iZXIsIGNpcmNsZTogQ29tcG9uZW50PENpcmNsZT4sIHBvczogQ29tcG9uZW50PFBvc2l0aW9uPiwgY29sb3I6IENvbXBvbmVudDxDb2xvcmVkPikgPT4ge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBjb2xvci5kYXRhLmNvbG9yO1xuICAgIGN0eC5hcmMocG9zLmRhdGEueCwgcG9zLmRhdGEueSwgY2lyY2xlLmRhdGEucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgY3R4LnN0cm9rZSgpO1xuICB9XG5cbiAgLy8gRm9yIHNpbXBsZSBxdWVyeSByZXF1aXJlbWVudHMgdHMtZWNzIGNhbiBnZW5lcmF0ZSB0aGUgcXVlcnkgZm9yIHlvdSBiYXNlIG9uIHlvdXIgc3lzdGVtXG4gIC8vIFNpbXBsZSBtZWFuaW5nIG9ubHkgXCJBTkRcIiBzbyBpbiB0aGlzIGNhc2Ugd2UgYXNrIGZvciBhbGwgZW50aXRpZXMgd2l0aCBjaXJjbGUgYW5kIHBvc2l0aW9uIGFuZCBjb2xvclxuICByZWdpc3RlclN5c3RlbShtYW5hZ2VyLCBkcmF3Q2lyY2xlU3lzdGVtKTtcblxuICBjb25zdCBtb3ZlQ2lyY2xlU3lzdGVtID0gKGR0OiBudW1iZXIsIHBvczogQ29tcG9uZW50PFBvc2l0aW9uPiwgdmVsOiBDb21wb25lbnQ8VmVsb2NpdHk+KSA9PiB7XG4gICAgcG9zLmRhdGEueCArPSB2ZWwuZGF0YS54ICogZHQ7XG4gICAgcG9zLmRhdGEueSArPSB2ZWwuZGF0YS55ICogZHQ7XG4gIH1cbiAgcmVnaXN0ZXJTeXN0ZW0obWFuYWdlciwgbW92ZUNpcmNsZVN5c3RlbSk7XG5cbiAgY29uc3QgcmVzZXRQb3NTeXN0ZW0gPSAoX2R0OiBudW1iZXIsIHBvczogQ29tcG9uZW50PFBvc2l0aW9uPiwgY2lyY2xlOiBDb21wb25lbnQ8Q2lyY2xlPikgPT4ge1xuICAgIGlmIChwb3MuZGF0YS54IC0gY2lyY2xlLmRhdGEucmFkaXVzICogMiA+IGNhbnZhcy53aWR0aCBcbiAgICAgICYmIHBvcy5kYXRhLnkgLSBjaXJjbGUuZGF0YS5yYWRpdXMgKiAyID4gY2FudmFzLmhlaWdodCkge1xuICAgICAgICBwb3MuZGF0YS54ID0gLU1hdGgucmFuZG9tKCkgKiAoY2FudmFzLndpZHRoICogMC4wNSk7XG4gICAgICAgIHBvcy5kYXRhLnkgPSAtTWF0aC5yYW5kb20oKSAqIChjYW52YXMuaGVpZ2h0ICogMC4wNSk7XG4gICAgICB9IFxuICB9XG4gIHJlZ2lzdGVyU3lzdGVtKG1hbmFnZXIsIHJlc2V0UG9zU3lzdGVtKTtcblxuICBjb25zdCB7IGVudGl0eUlkIH0gPSBtYW5hZ2VyLmNyZWF0ZUVudGl0eSgpO1xuICBhZGRDb21wb25lbnQ8VW5pcXVlVGFnPihtYW5hZ2VyLCBlbnRpdHlJZCwgeyB9KTtcbiAgXG4gIC8vIGNyZWF0ZSBldmVudHMgdGhhdCB3aWxsIHJ1biBvbiByZXF1ZXN0L2V2ZW50XG4gIGNvbnN0IHNwYXduQ2lyY2xlRXZlbnQgPSAoZXZlbnQ6IEV2ZW50LCBfdW5pcXVlOiBDb21wb25lbnQ8VW5pcXVlVGFnPikgPT4ge1xuICAgIGNvbnN0IGUgPSBldmVudCBhcyBNb3VzZUV2ZW50O1xuICAgIFxuICAgIGNyZWF0ZUNpcmNsZUVudGl0eShlLnggLSBjYW52YXMub2Zmc2V0TGVmdCwgZS55IC0gY2FudmFzLm9mZnNldFRvcClcbiAgfVxuXG4gIC8vIGV2ZW50cyBhcmUgcmF0aGVyIHByaW1pdGl2ZSBhbmQgbmVlZHMgdG8gYmUgY2FsbGVkIG1hbnVhbGx5IHdpdGggdGhlIGlkIFxuICAvLyByZXR1cm5lZCBieSB0aGUgcmVnaXN0ZXIgZnVuY3Rpb25cbiAgY29uc3Qgb25Vc2VyQ2xpY2sgPSByZWdpc3RlckV2ZW50KG1hbmFnZXIsIHNwYXduQ2lyY2xlRXZlbnQpO1xuICBmcm9tRXZlbnQoY2FudmFzLCAnY2xpY2snKS5zdWJzY3JpYmUoZSA9PiBtYW5hZ2VyLm9uRXZlbnQob25Vc2VyQ2xpY2ssIGUpKTtcblxuXG4gIGNvbnN0IHRpY2sgPSAoKSA9PiB7XG4gICAgY3R4LmZpbGxTdHlsZSA9ICcjMDAwMDAwJztcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICBtYW5hZ2VyLmRpc3BhdGNoKCk7XG4gICAgXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcbiAgfTtcbiAgXG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XG59KTsiXSwic291cmNlUm9vdCI6IiJ9